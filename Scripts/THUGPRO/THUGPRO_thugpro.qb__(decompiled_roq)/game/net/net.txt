
:i $InNetOptionsFromNetPlay$ = %i(0,00000000)
:i $InNetOptionsFromFaceDownload$ = %i(0,00000000)
:i $has_accepted_dnas$ = %i(1,00000001)
:i $SkipDNASAuthentication$ = %i(0,00000000)
:i $NeedsToTestDNAS$ = %i(1,00000001)
:i $SignedDisclaimer$ = %i(0,00000000)
:i function $launch_viewer$
	:i $printf$%s(80,"launch_viewer is no longer needed ... you can remove it from your startup script")
:i endfunction
:i function $auto_launch_viewer$
	:i $LaunchViewer$
:i endfunction
:i $NO_NET_MODE$ = %i(0,00000000)
:i $LAN_MODE$ = %i(1,00000001)
:i $INTERNET_MODE$ = %i(2,00000002)
:i $HOST_MODE_SERVE$ = %i(0,00000000)
:i $HOST_MODE_AUTO_SERVE$ = %i(1,00000001)
:i $HOST_MODE_FCFS$ = %i(2,00000002)
:i $JOIN_MODE_PLAY$ = %i(0,00000000)
:i $JOIN_MODE_OBSERVE$ = %i(1,00000001)
:i $net_game_type_info$ = :a{
	:i :s{
		:i $Name$ = %s(12,"Trick Attack")
		:i $description$ = %s(63,"Player with the highest score at the end of the time limit wins")
		:i $checksum$ = $nettrickattack$
		:i $goal_script$ = $StartGoal_TrickAttack$
		:i $icon$ = %s(9,"2p_attack")
		:i $enabled$ = %i(1,00000001)
	:i :s}
	:i :s{
		:i $Name$ = %s(14,"Scavenger Hunt")
		:i $description$ = %s(63,"Player with the most objects at the end of the time limit wins.")
		:i $checksum$ = $netscavengerhunt$
		:i $goal_script$ = $StartGoal_Scavenger$
		:i $icon$ = %s(7,"2p_hunt")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(10,"Elimiskate")
		:i $description$ = %s(60,"Player with the lowest score at game intervals is eliminated")
		:i $checksum$ = $netelimiskate$
		:i $goal_script$ = $StartGoal_ElimiSkate$
		:i $icon$ = %s(7,"2p_elim")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(15,"Score Challenge")
		:i $description$ = %s(45,"The first player to reach the\nset score wins")
		:i $checksum$ = $netscorechallenge$
		:i $goal_script$ = $StartGoal_ScoreChallenge$
		:i $icon$ = %s(8,"2p_score")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(11,"Combo Mambo")
		:i $description$ = %s(66,"The player who busts the biggest combo during the time limit, wins")
		:i $checksum$ = $netcombomambo$
		:i $goal_script$ = $StartGoal_ComboMambo$
		:i $icon$ = %s(8,"2p_mambo")
		:i $enabled$ = %i(1,00000001)
	:i :s}
	:i :s{
		:i $Name$ = %s(5,"Slap!")
		:i $description$ = %s(57,"The player who slaps their opponents the most times, wins")
		:i $checksum$ = $netslap$
		:i $goal_script$ = $StartGoal_Slap$
		:i $icon$ = %s(7,"2p_slap")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(16,"King of the Hill")
		:i $description$ = %s(53,"The player who holds the crown\nfor the set time wins")
		:i $checksum$ = $netking$
		:i $goal_script$ = $StartGoal_King$
		:i $icon$ = %s(7,"2p_koth")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(8,"Graffiti")
		:i $description$ = %s(41,"The player who tags the most objects wins")
		:i $checksum$ = $netgraffiti$
		:i $goal_script$ = $StartGoal_Graffiti$
		:i $icon$ = %s(11,"2p_graffiti")
		:i $enabled$ = %i(1,00000001)
	:i :s}
	:i :s{
		:i $Name$ = %s(11,"Goal Attack")
		:i $description$ = %s(49,"First one to finish all the \nselected goals wins")
		:i $checksum$ = $netgoalattack$
		:i $goal_script$ = $StartGoal_GoalAttack$
		:i $icon$ = %s(7,"2p_goal")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(16,"Capture the Flag")
		:i $description$ = %s(54,"Capture another team's flag and return it to your base")
		:i $checksum$ = $netctf$
		:i $goal_script$ = $StartGoal_CTF$
		:i $icon$ = %s(7,"2p_flag")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :s{
		:i $Name$ = %s(9,"FireFight")
		:i $description$ = %s(70,"Launch fireballs with either \b1\b7 or \b1\b4. Last man standing wins.")
		:i $checksum$ = $netfirefight$
		:i $goal_script$ = $StartGoal_FireFight$
		:i $icon$ = %s(7,"2p_fire")
		:i $enabled$ = %i(0,00000000)
	:i :s}
	:i :a}
:i $mp_game_type_info$ = :a{
	:i :s{
		:i $Name$ = %s(12,"Trick Attack")
		:i $description$ = %s(63,"Player with the highest score at the end of the time limit wins")
		:i $checksum$ = $trickattack$
		:i $goal_script$ = $StartGoal_TrickAttack$
		:i $icon$ = %s(9,"2p_attack")
	:i :s}
	:i :s{
		:i $Name$ = %s(14,"Scavenger Hunt")
		:i $description$ = %s(63,"Player with the most objects at the end of the time limit wins.")
		:i $checksum$ = $scavengerhunt$
		:i $goal_script$ = $StartGoal_Scavenger$
		:i $icon$ = %s(9,"2p_attack")
	:i :s}
	:i :s{
		:i $Name$ = %s(15,"Score Challenge")
		:i $description$ = %s(33,"First one to reach set score wins")
		:i $checksum$ = $scorechallenge$
		:i $goal_script$ = $StartGoal_ScoreChallenge$
		:i $icon$ = %s(8,"2p_score")
	:i :s}
	:i :s{
		:i $Name$ = %s(11,"Combo Mambo")
		:i $description$ = %s(67,"The player who busts the biggest combo during the time limit, wins!")
		:i $checksum$ = $combomambo$
		:i $goal_script$ = $StartGoal_ComboMambo$
		:i $icon$ = %s(8,"2p_mambo")
	:i :s}
	:i :s{
		:i $Name$ = %s(5,"Slap!")
		:i $description$ = %s(73,"Player who slaps their opponent the most times within the time limit wins")
		:i $checksum$ = $slap$
		:i $goal_script$ = $StartGoal_Slap$
		:i $icon$ = %s(7,"2p_slap")
	:i :s}
	:i :s{
		:i $Name$ = %s(16,"King of the Hill")
		:i $description$ = %s(48,"Player who holds the crown for the set time wins")
		:i $checksum$ = $king$
		:i $goal_script$ = $StartGoal_King$
		:i $icon$ = %s(7,"2p_koth")
	:i :s}
	:i :s{
		:i $Name$ = %s(8,"Graffiti")
		:i $description$ = %s(37,"Player who tags the most objects wins")
		:i $checksum$ = $graffiti$
		:i $goal_script$ = $StartGoal_Graffiti$
		:i $icon$ = %s(11,"2p_graffiti")
	:i :s}
	:i :s{
		:i $Name$ = %s(5,"Horse")
		:i $description$ = %s(42,"Pull off combos until someone spells horse")
		:i $checksum$ = $horse$
		:i $goal_script$ = $do_nothing$
		:i $icon$ = %s(8,"2p_horse")
	:i :s}
	:i :s{
		:i $Name$ = %s(10,"Free Skate")
		:i $description$ = %s(22,"Skate the level freely")
		:i $checksum$ = $freeskate2p$
		:i $goal_script$ = $StartFreeSkate$
		:i $icon$ = %s(7,"2p_free")
	:i :s}
	:i :s{
		:i $Name$ = %s(9,"FireFight")
		:i $description$ = %s(73,"Launch fireballs with\n either \b1\b7 or \b1\b4.\nLast man standing wins.")
		:i $checksum$ = $firefight$
		:i $goal_script$ = $StartGoal_FireFight$
		:i $icon$ = %s(7,"2p_fire")
	:i :s}
	:i :a}
:i $net_goal_info$ = :a{
	:i :s{
		:i $Name$ = %s(13,"Classic Goals")
		:i $checksum$ = $goals_classic$
	:i :s}
	:i :s{
		:i $Name$ = %s(13,"Created Goals")
		:i $checksum$ = $goals_created$
	:i :s}
	:i :a}
:i $skill_level_info$ = :a{
	:i :s{
		:i $Name$ = %s(13,"1: Baby Steps")
		:i $checksum$ = $num_1$
	:i :s}
	:i :s{
		:i $Name$ = %s(15,"2: I Can Crawl!")
		:i $checksum$ = $num_2$
	:i :s}
	:i :s{
		:i $Name$ = %s(14,"3: Hold My Own")
		:i $checksum$ = $num_3$
	:i :s}
	:i :s{
		:i $Name$ = %s(16,"4: Let's Do This")
		:i $checksum$ = $num_4$
	:i :s}
	:i :s{
		:i $Name$ = %s(15,"5: Bring It On!")
		:i $checksum$ = $num_5$
	:i :s}
	:i :a}
:i $fireball_level_info$ = :a{
	:i :s{
		:i $Name$ = %s(8,"1 (easy)")
		:i $checksum$ = $num_1$
		:i $fireball_level$ = %i(1,00000001)
	:i :s}
	:i :s{
		:i $Name$ = %s(1,"2")
		:i $checksum$ = $num_2$
		:i $fireball_level$ = %i(2,00000002)
	:i :s}
	:i :s{
		:i $Name$ = %s(1,"3")
		:i $checksum$ = $num_3$
		:i $fireball_level$ = %i(3,00000003)
	:i :s}
	:i :s{
		:i $Name$ = %s(1,"4")
		:i $checksum$ = $num_4$
		:i $fireball_level$ = %i(4,00000004)
	:i :s}
	:i :s{
		:i $Name$ = %s(8,"5 (hard)")
		:i $checksum$ = $num_5$
		:i $fireball_level$ = %i(5,00000005)
	:i :s}
	:i :a}
:i function $create_big_black_hiding_box$
	:i $unlock_root_window$
	:i if $ScreenElementExists$$id$ = $big_black_box$
		:i $DestroyScreenElement$$id$ = $big_black_box$
	:i endif
	:i $CreateScreenElement$:s{
		:i $type$ = $SpriteElement$
		:i $parent$ = $root_window$
		:i $id$ = $THUGPRO_IconSprite$
		:i $texture$ = $thugpro_icon_text$
		:i $pos$ = %vec2(320.000000,240.000000)
		:i $scale$ = %f(0.300000)
		:i $just$ = :a{$center$$center$:a}
		:i $z_priority$ = %i(5003,0000138b)
	:i :s}
	:i $CreateScreenElement$:s{
		:i $type$ = $SpriteElement$
		:i $parent$ = $root_window$
		:i $id$ = $THUGPRO_IconSpriteBack$
		:i $texture$ = $thugpro_icon_wheel$
		:i $pos$ = %vec2(320.000000,240.000000)
		:i $scale$ = %f(0.300000)
		:i $just$ = :a{$center$$center$:a}
		:i $z_priority$ = %i(5002,0000138a)
	:i :s}
	:i $CreateScreenElement$:s{
		:i $type$ = $SpriteElement$
		:i $parent$ = $root_window$
		:i $id$ = $big_black_box$
		:i $texture$ = $black$
		:i $pos$ = %vec2(320.000000,240.000000)
		:i $rgba$ = :a{%i(0,00000000)%i(0,00000000)%i(0,00000000)%i(128,00000080):a}
		:i $scale$ = %vec2(190.000000,190.000000)
		:i $just$ = :a{$center$$center$:a}
		:i $z_priority$ = %i(5001,00001389)
	:i :s}
:i endfunction
:i function $quit_network_game$
	:i $Change$$SKATER_BOARD_IS_SPINNING$ = %i(0,00000000)
	:i $Change$$ACTIVEWPLOOP$ = %i(0,00000000)
	:i $Change$$EXITWPLOOP$ = %i(1,00000001)
	:i $Change$$is_quitting$ = %i(1,00000001)
	:i $Change$$is_changing_levels$ = %i(1,00000001)
	:i $create_big_black_hiding_box$
	:i $console_destroy$
	:i $restore_start_key_binding$
	:i if $IsHost$
		:i $UnSetGlobalFlag$$flag$ = $FLAG_AUTO_SERVER_MODE$
		:i $UnSetGlobalFlag$$flag$ = $FLAG_AUTO_LEVEL_MODE$
		:i $KillSpawnedScript$$Name$ = $AutoServer_Break_Timer$
		:i if $ScreenElementExists$$id$ = $autoserver_timer$
			:i $DestroyScreenElement$$id$ = $autoserver_timer$
		:i endif
	:i endif
	:i $THUGPRO_ClearAllObserveValues$$quit$
	:i $Change$$RejoinNextGame$ = %i(0,00000000)
	:i if $InInternetMode$
		:i if $OnServer$
			:i $ReportStats$$final$
		:i endif
		:i if $ProfileLoggedIn$
			:i $SetLobbyStatus$
		:i endif
		:i $CancelNatNegotiation$
	:i endif
	:i if $ObjectExists$$id$ = $skater$
		:i if NOT $IsObserving$
			:i $skater$.$NetEnablePlayerInput$
			:i $skater$.$DestroyAllSpecialItems$
		:i endif
	:i endif
	:i if NOT $IsObserving$
		:i $ExitSurveyorMode$
	:i endif
	:i $ProximCleanup$
	:i $chosen_leave_server$
	:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$
	:i $dialog_box_exit$
	:i if $IsInternetGameHost$
		:i $QuitGame$
		:i return
		
	:i endif
	:i if $IsJoiningInternetGame$
		:i $QuitGame$
		:i return
		
	:i endif
	:i $SetGameType$$career$
	:i $SetCurrentGameType$
	:i $SetStatOverride$
	:i $setservermode$$on$
	:i $StartServer$
	:i $SetJoinMode$$JOIN_MODE_PLAY$
	:i $SetNetworkMode$$LAN_MODE$
	:i $JoinServer$
	:i while
		
		:i if $JoinServerComplete$
			:i continue
			
		:i else 
			:i $Wait$%i(1,00000001)
		:i endif
	:i loop_to 
	:i if $InInternetMode$
		:i $SetQuietMode$$OFF$
	:i endif
	:i $SetGameType$$NetLobby$
	:i $SetCurrentGameType$
	:i $level_select_change_level$$level$ = $Load_MainMenu$$no_levelUnload$
	:i $SetNetworkMode$
:i endfunction
:i function $spawned_chosen_host_game$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
		:i $DestroyIfObjectExist$$id$ = $bg_container$
		:i $CreateScreenElement$:s{
			:i $type$ = $SpriteElement$
			:i $parent$ = $root_window$
			:i $id$ = $THUGPRO_IconSprite$
			:i $texture$ = $thugpro_icon_text$
			:i $pos$ = %vec2(320.000000,240.000000)
			:i $scale$ = %f(0.300000)
			:i $just$ = :a{$center$$center$:a}
			:i $z_priority$ = %i(5003,0000138b)
		:i :s}
		:i $CreateScreenElement$:s{
			:i $type$ = $SpriteElement$
			:i $parent$ = $root_window$
			:i $id$ = $THUGPRO_IconSpriteBack$
			:i $texture$ = $thugpro_icon_wheel$
			:i $pos$ = %vec2(320.000000,240.000000)
			:i $scale$ = %f(0.300000)
			:i $just$ = :a{$center$$center$:a}
			:i $z_priority$ = %i(5002,0000138a)
		:i :s}
		:i $CreateScreenElement$:s{
			:i $type$ = $SpriteElement$
			:i $parent$ = $root_window$
			:i $id$ = $big_black_box$
			:i $texture$ = $black$
			:i $pos$ = %vec2(320.000000,240.000000)
			:i $rgba$ = :a{%i(0,00000000)%i(0,00000000)%i(0,00000000)%i(128,00000080):a}
			:i $scale$ = %vec2(190.000000,190.000000)
			:i $just$ = :a{$center$$center$:a}
			:i $alpha$ = %f(0.700000)
		:i :s}
		:i $Wait$%i(1,00000001)$frame$
	:i endif
	:i $leave_front_end$
	:i $Cleanup$$preserve_skaters$
	:i $SkProDisplayLoadingScreen$$blank$$freeze$
	:i $FreeServerList$
	:i $LeaveServer$
	:i $SetGameType$$NetLobby$
	:i $SetCurrentGameType$
	:i $InitSkaterHeaps$
	:i $setservermode$
	:i $StartServer$
	:i $SetJoinMode$$JOIN_MODE_PLAY$
	:i $JoinServer$
	:i while
		
		:i if $JoinServerComplete$
			:i continue
			
		:i else 
			:i $Wait$%i(1,00000001)
		:i endif
	:i loop_to 
	:i $ChangeLevel$$level$ = $use_preferences$
	:i $exit_pause_menu$
:i endfunction
:i function $chosen_host_game$
	:i $Change$$in_server_options$ = %i(0,00000000)
	:i if $InNetGame$
		:i $network_start_selected_thugpro$
	:i else 
		:i if $InSplitScreenGame$
			:i $ApplySplitScreenOptions$
			:i $chosen_start_game$
		:i else 
			:i $Change$$check_for_unplugged_controllers$ = %i(0,00000000)
			:i $Change$$is_changing_levels$ = %i(1,00000001)
			:i $SpawnScript$$spawned_chosen_host_game$$NotSessionSpecific$ = %i(1,00000001)
		:i endif
	:i endif
:i endfunction
:i function $network_start_selected_thugpro$
	:i $GetPreferenceChecksum$$pref_type$ = $network$$game_type$
	:i if  (%GLOBAL%$checksum$ = $netscorechallenge$) 
		:i if  ($score_mode$ = $point_scoring$) 
			:i $Change$$GraffMode$ = %i(0,00000000)
			:i if $OnServer$
				:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$OFF$
			:i endif
			:i $set_graff_mode_name$$id_checksum$ = $netscorechallenge$
		:i else 
			:i if  ($score_mode$ = $tag_scoring$) 
				:i $Change$$GraffMode$ = %i(1,00000001)
				:i if $OnServer$
					:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$on$
				:i endif
				:i $set_graff_mode_name$$id_checksum$ = $netscorechallenge$$graff$
			:i endif
		:i endif
	:i else 
		:i if  (%GLOBAL%$checksum$ = $netgold$) 
			:i if  ($score_mode$ = $point_scoring$) 
				:i $Change$$GraffMode$ = %i(0,00000000)
				:i if $OnServer$
					:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$OFF$
				:i endif
				:i $set_graff_mode_name$$id_checksum$ = $netgold$
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $Change$$GraffMode$ = %i(1,00000001)
					:i if $OnServer$
						:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$on$
					:i endif
					:i $set_graff_mode_name$$id_checksum$ = $netgold$$graff$
				:i endif
			:i endif
		:i else 
			:i if  (%GLOBAL%$checksum$ = $netelimiskate$) 
				:i if  ($score_mode$ = $point_scoring$) 
					:i $Change$$GraffMode$ = %i(0,00000000)
					:i if $OnServer$
						:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$OFF$
					:i endif
					:i $set_graff_mode_name$$id_checksum$ = $netelimiskate$
				:i else 
					:i if  ($score_mode$ = $tag_scoring$) 
						:i $Change$$GraffMode$ = %i(1,00000001)
						:i if $OnServer$
							:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$on$
						:i endif
						:i $set_graff_mode_name$$id_checksum$ = $netelimiskate$$graff$
					:i endif
				:i endif
			:i else 
				:i if  (%GLOBAL%$checksum$ = $netcombomambo$) 
					:i if  ($score_mode$ = $point_scoring$) 
						:i $Change$$GraffMode$ = %i(0,00000000)
						:i if $OnServer$
							:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$OFF$
						:i endif
						:i $set_graff_mode_name$$id_checksum$ = $netcombomambo$
					:i else 
						:i if  ($score_mode$ = $tag_scoring$) 
							:i $Change$$GraffMode$ = %i(1,00000001)
							:i if $OnServer$
								:i $BroadcastOmnigon$$cheat_flag$ = $FLAG_TOGGLE_GRAFF_MODE$$on$
							:i endif
							:i $set_graff_mode_name$$id_checksum$ = $netcombomambo$$graff$
						:i endif
					:i endif
				:i endif
			:i endif
		:i endif
	:i endif
	:i $network_start_selected$
:i endfunction
:i function $select_thug_online_play$
	:i $change_gamemode_net$
	:i $GoalManager_SetDifficultyLevel$%i(1,00000001)
	:i $launch_select_skater_menu$$change_gamemode$ = $change_gamemode_net$
:i endfunction
:i function $prompt_for_net_config$
	:i $Change$$InNetOptionsFromNetPlay$ = %i(1,00000001)
	:i $_CreationOptionsLoadNetConfig$
:i endfunction
:i function $select_internet_play$
	:i $Change$$network_connection_type$ = $internet$
	:i $do_network_setup$$error_script$ = $back_from_startup_error_dialog$$success_script$ = $chose_internet$$need_setup_script$ = $prompt_for_net_config$
:i endfunction
:i function $select_lan_play$
	:i if $IsTrue$$show_custom_level_validation_failed$
		:i $PlaySkaterCamAnim$$skater$ = %i(0,00000000)$Name$ = $skateshop_board_select_cam$$play_hold$
		:i $HideLoadingScreen$
		:i $Change$$show_custom_level_validation_failed_wait$ = %i(0,00000000)
		:i $show_custom_level_validation_failed_dialog$
		:i $thugpro_wait$$ReadyVal$ = $show_custom_level_validation_failed_wait$
		:i $Change$$show_custom_level_validation_failed$ = %i(0,00000000)
	:i endif
	:i $do_network_setup$$error_script$ = $back_from_startup_error_dialog$$success_script$ = $launch_network_select_lan_games_menu$$need_setup_script$ = $prompt_for_net_config$
:i endfunction
:i function $net_setup_from_net_play_successful$
	:i $dialog_box_exit$
	:i $launch_select_skater_menu$$change_gamemode$ = $change_gamemode_net$
:i endfunction
:i function $do_network_setup$
	:i $SetMemThreadSafe$
	:i $UseNetworkPreferences$
	:i $SpawnScript$$test_network_setup$$params$ =  isNull 
:i endfunction
:i function $spoof_usb_adaptor_setup$
	:i if NOT $IsTrue$$DontSpoofAdaptor$
		:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"device_type")$string$ = %s(20,"USB Ethernet Adaptor")$checksum$ = $device_broadband_usb$
	:i endif
:i endfunction
:i function $spoof_pcmcia_adaptor_setup$
	:i if NOT $IsTrue$$DontSpoofAdaptor$
		:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"device_type")$string$ = %s(34,"Ethernet (Network Adaptor for PS2)")$checksum$ = $device_broadband_pc$
	:i endif
:i endfunction
:i function $test_network_setup$
	:i if $levelIs$$Load_MainMenu$
	:i endif
	:i if NOT $OnXbox$
		:i $GetPreferenceChecksum$$pref_type$ = $network$$device_type$
		:i switch %GLOBAL%$checksum$
			:i case $device_none$
				:i %GLOBAL%$need_setup_script$$text$ = $net_status_need_to_setup$ isNull 
				:i return
				
				:i endcase
			case $device_sony_modem$
				:i endcase
			case $device_usb_modem$
				:i $GetPreferenceString$$pref_type$ = $network$$dialup_number$
				:i if  (%GLOBAL%$ui_string$ = %s(0,"")) 
					:i %GLOBAL%$need_setup_script$$text$ = $net_status_need_to_setup_dialup$ isNull 
					:i return
					
				:i endif
				:i endcase
			default 
				:i end_switch
		
	:i endif
	:i if $NeedToTestNetSetup$
		:i $Change$$NeedsToTestDNAS$ = %i(1,00000001)
		:i $create_testing_network_settings_dialog$
		:i $Wait$%i(1,00000001)$Seconds$
		:i $TestNetSetup$ isNull 
	:i else 
		:i %GLOBAL%$success_script$ isNull 
	:i endif
:i endfunction
:i function $launch_network_host_options_sub_menu$
	:i $PrintStruct$ isNull 
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i %GLOBAL%$sub_menu_script$ isNull 
:i endfunction
:i function $back_from_account_list_menu$
	:i $CancelLogon$
	:i $SetNetworkMode$
	:i $create_pause_menu$
:i endfunction
:i function $back_from_create_account_dialog$
	:i $dialog_box_exit$
	:i $back_from_account_list_menu$
:i endfunction
:i function $back_from_wrong_pin_dialog$
	:i $dialog_box_exit$
	:i $ConnectToInternet$
:i endfunction
:i function $launch_no_accounts_dialog$
	:i $create_dialog_box$:s{$title$ = %s(17,"NO ACCOUNTS FOUND")
		:i $text$ = %s(79,"No accounts were found on your system. Would you like to create an account now?")
		:i $buttons$ = :a{:s{$text$ = %s(3,"Yes")$pad_choose_script$ = $go_to_xbox_dashboard$:s}
			:i :s{$text$ = %s(2,"No")$pad_choose_script$ = $back_from_create_account_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $launch_fcfs_notification$
	:i if  (%GLOBAL%$checksum$ = $boolean_true$) 
		:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(16,"player_collision")$string$ = %s(2,"On") isNull 
	:i else 
		:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(16,"player_collision")$string$ = %s(3,"Off") isNull 
	:i endif
	:i $destroy_onscreen_keyboard$
	:i $force_close_rankings$
	:i $exit_pause_menu$
	:i $create_error_box$:s{$title$ = %s(17,"Host Notification")
		:i $text$ = %s(117,"This server is in First Come First Serve mode.  You are the designated host.  You may change options and start games.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $exit_async_dialog$:s}
			:i :a}
		:i $no_animate$
		:i $delay_input$
	:i :s}
:i endfunction
:i function $fcfs_confirm$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_dialog_box$:s{$title$ = %s(22,"First Come First Serve")
		:i $text$ = %s(141,"This option will make you a permanent observer and will allow the first joining player to choose game modes and change levels.  Are you sure?")
		:i $text_dims$ = %vec2(350.000000,0.000000)
		:i $buttons$ = :a{:s{$text$ = %s(3,"Yes")$pad_choose_script$ = $fcfs_selected$:s}
			:i :s{$text$ = %s(2,"No")$pad_choose_script$ = $create_sit_out_menu$:s}
			:i :a}
		:i $no_animate$
	:i :s}
:i endfunction
:i function $create_kick_ban_menu$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_dialog_box$:s{$title$ = %GLOBAL%$Name$
		:i $text$ = %s(14,"Remove Player?")
		:i $buttons$ = :a{:s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_remove_player$:s}
			:i :s{$text$ = %s(4,"kick")$pad_choose_script$ = $kick_player_confirm$$pad_choose_params$ =  isNull :s}
			:i :s{$text$ = %s(3,"ban")$pad_choose_script$ = $ban_player_confirm$$pad_choose_params$ =  isNull :s}
			:i :a}
		:i $no_animate$
	:i :s}
:i endfunction
:i function $launch_quit_game_dialog$
	:i $dialog_box_exit$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i $create_quit_game_dialog$
:i endfunction
:i function $create_quit_game_dialog$
	:i $create_dialog_box$:s{$title$ = %s(9,"Quit Game")
		:i $text$ = %s(13,"Are you sure?")
		:i $anchor_id$ = $quit_dialog_anchor$
		:i $no_animate$$callbackfix$
		:i $buttons$ = :a{:s{$text$ = %s(3,"Yes")$pad_choose_script$ = $quit_network_game$:s}
			:i :s{$text$ = %s(2,"No")$pad_choose_script$ = $quit_game_dialog_box_exit$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $quit_game_dialog_box_exit$
	:i $generic_menu_pad_back_sound$
	:i $exit_pause_menu$
	:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$
:i endfunction
:i function $launch_wrong_pin_dialog_box$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_dialog_box$:s{$title$ = %s(9,"WRONG PIN")
		:i $text$ = %s(38,"The PIN you have entered is incorrect.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_wrong_pin_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $select_xbox_multiplayer$
	:i $Change$$network_connection_type$ = $lan$
	:i $change_gamemode_net$
	:i $launch_select_skater_menu$
:i endfunction
:i function $launch_network_select_games_menu$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i $create_network_select_games_menu$$play_cam$
:i endfunction
:i function $launch_remove_players_menu$
	:i $hide_current_goal$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_remove_players_menu$
:i endfunction
:i function $launch_xbox_online_menu$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_xbox_online_menu$
:i endfunction
:i function $chose_xbox_online$
	:i if $AlreadySignedIn$
		:i $create_xbox_online_menu$
	:i else 
		:i $chose_internet$
	:i endif
:i endfunction
:i function $connected_to_internet$
	:i $Change$$NeedsToTestDNAS$ = %i(0,00000000)
	:i if $ServicesAreAvailable$
		:i $retrieve_motd$
	:i endif
:i endfunction
:i function $availability_check_wait$
	:i $printf$%s(26,"IN availability_check_wait")
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_checking_motd$
		:i $no_animate$
	:i :s}
:i endfunction
:i function $retrieve_motd$
	:i if NOT $AlreadyGotMotd$
		:i $DownloadMotd$
	:i else 
		:i if $ObjectExists$$id$ = $current_menu_anchor$
			:i $DestroyScreenElement$$id$ = $current_menu_anchor$
		:i endif
		:i if NOT $ProfileLogIn$
			:i $create_internet_options$
		:i endif
	:i endif
:i endfunction
:i function $service_never_available$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_never_available$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_startup_error_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $service_not_available$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_not_available$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_startup_error_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $failed_internet_connection$
	:i $printf$%s(33,"script failed_internet_connection")
	:i $launch_new_ss_menu$$no_animate$
:i endfunction
:i function $chose_internet$
	:i $printf$%s(24,"**** Chose Internet*****")
	:i $SetNetworkMode$$INTERNET_MODE$
	:i $ConnectToInternet$
:i endfunction
:i function $confirm_observe$
	:i $generic_menu_pad_back_sound$
	:i $exit_pause_menu$
	:i $dialog_box_exit$
	:i $EnterObserverMode$
:i endfunction
:i function $chose_observe$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $create_dialog_box$:s{$title$ = %s(7,"Sit Out")
		:i $text$ = %s(99,"Are you sure you would like to permanently observe this game? You will not be able to jump back in.")
		:i $buttons$ = :a{:s{$text$ = %s(3,"Yes")$pad_choose_script$ = $confirm_observe$:s}
			:i :s{$text$ = %s(2,"No")$pad_choose_script$ = $back_from_permanent_observe_dialog$:s}
			:i :a}
		:i $no_animate$
	:i :s}
:i endfunction
:i function $back_from_permanent_observe_dialog$
	:i $dialog_box_exit$
	:i $create_options_menu$
:i endfunction
:i function $launch_motd_wait_dialog$
	:i $dialog_box_exit$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $create_motd_wait_dialog$
:i endfunction
:i function $launch_network_select_lan_games_menu$
	:i $KillSkaterCamAnim$$all$
	:i $skater$.$reset_model_lights$
	:i $KillSkaterCamAnim$$all$
	:i $PlaySkaterCamAnim$$skater$ = %i(0,00000000)$Name$ = $skateshop_board_select_cam$$play_hold$
	:i $SetNetworkMode$$LAN_MODE$
	:i $Change$$back_to_local_net_menu$ = %i(1,00000001)
	:i $launch_network_select_games_menu_update$
:i endfunction
:i function $launch_network_host_options_menu$
	:i $dialog_box_exit$
	:i if $ScreenElementExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i if $levelIs$$Load_MainMenu$
		:i $create_network_host_options_menu$
	:i else 
		:i $create_pre_network_host_options_menu$
	:i endif
:i endfunction
:i $in_server_options$ = %i(0,00000000)
:i function $back_from_internet_host_options$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
		:i $Wait$%i(1,00000001)$frame$
	:i endif
	:i $Change$$in_server_options$ = %i(0,00000000)
	:i if $InNetGame$
		:i $create_pause_menu$
	:i else 
		:i $launch_network_select_games_menu$
	:i endif
:i endfunction
:i $in_net_lobby$ = %i(0,00000000)
:i function $back_from_auth_error$
	:i $printf$%s(27,"script back_from_auth_error")
	:i $dialog_box_exit$
	:i $launch_new_ss_menu$$no_animate$
:i endfunction
:i function $display_auth_error$
	:i $dialog_box_exit$
	:i $FormatText$$TextName$ = $message$%s(17,"%h (%s)\n%e\n\n%f")$h$ = %GLOBAL%$header$$s$ = %GLOBAL%$sub_code$$e$ = %GLOBAL%$desc$$f$ = %GLOBAL%$footer$
	:i $create_dialog_box$:s{$title$ = $net_error_msg$
		:i $text$ = %GLOBAL%$message$
		:i $text_dims$ = %vec2(500.000000,0.000000)
		:i $buttons$ = :a{:s{$text$ = %s(2,"OK")$pad_choose_script$ = $back_from_auth_error$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $spawn_dnas_authentication$
	:i $Wait$%i(30,0000001e)$frames$
	:i $AuthenticateClient$
:i endfunction
:i function $authenticate_client$
	:i $printf$%s(33,"**** in authenticate client *****")
	:i $KillSkaterCamAnim$$all$
	:i $skater$.$reset_model_lights$
	:i $KillSkaterCamAnim$$all$
	:i $PlaySkaterCamAnim$$skater$ = %i(0,00000000)$Name$ = $skateshop_board_select_cam$$play_hold$
	:i $connected_to_internet$
:i endfunction
:i $current_lobby_focus$ = %i(0,00000000)
:i function $host_chosen$
	:i $Change$$JoinedGameInProgress$ = %i(0,00000000)
	:i $Change$$JoinedAsObserver$ = %i(0,00000000)
	:i $console_hide$
	:i $GSDisableNet$
	:i $StopServerList$
	:i $FreeServerList$
	:i $launch_network_host_options_menu$
:i endfunction
:i function $host_net_chosen$
	:i $Change$$JoinedGameInProgress$ = %i(0,00000000)
	:i $Change$$JoinedAsObserver$ = %i(0,00000000)
	:i $console_hide$
	:i $StopServerList$
	:i $FreeServerList$
	:i $launch_network_host_options_menu$
	:i $GSEnableNet$
:i endfunction
:i function $create_network_menu_exit$
	:i $console_hide$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i if $GotParam$$new_menu_script$
		:i %GLOBAL%$new_menu_script$ isNull 
	:i endif
:i endfunction
:i function $check_ip_from_keyboard_failure_exit$
	:i $dialog_box_exit$
	:i $create_network_select_games_menu$
:i endfunction
:i function $check_ip_from_keyboard_failure$
	:i $TryJoinServerIPCancel$
	:i $create_snazzy_dialog_box$:s{
		:i $title$ = %sc(17,"Unable to connect")
		:i $text$ = %sc(28,"Unable to connect to server.")
		:i $pad_back_script$ = $create_network_select_games_menu$
		:i $buttons$ = :a{
			:i :s{$font$ = $small$$text$ = %sc(2,"OK")$pad_choose_script$ = $check_ip_from_keyboard_failure_exit$:s}
			:i :a}
	:i :s}
	:i $ResetTimer$
	:i while
		
		:i if $TimeGreaterThan$%i(5,00000005)
			:i continue
			
		:i endif
		:i $Wait$%i(1,00000001)$gameframe$
	:i loop_to 
	:i if $ScreenElementExists$$id$ = $dialog_box_anchor$
		:i $dialog_box_exit$
		:i $create_network_select_games_menu$$play_cam$
	:i endif
:i endfunction
:i function $check_ip_from_keyboard_cancel$
	:i if $GotParam$$Cancel$
		:i $destroy_onscreen_keyboard$
	:i else 
		:i $dialog_box_exit$
	:i endif
	:i $TryJoinServerIPCancel$
	:i $create_network_select_games_menu$$play_cam$
:i endfunction
:i function $check_ip_from_keyboard$
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i $destroy_onscreen_keyboard$
	:i if NOT $GotParam$$Cancel$
		:i $TryJoinServerIP$$string$ = %GLOBAL%$string$
		:i $ResetTimer$
		:i $create_snazzy_dialog_box$:s{$title$ = %sc(11,"Checking...")
			:i $text$ = %sc(22,"Checking for server...")
			:i $pad_back_script$ = $check_ip_from_keyboard_cancel$
			:i $buttons$ = :a{
				:i :s{$font$ = $small$$text$ = %sc(6,"Cancel")$pad_choose_script$ = $check_ip_from_keyboard_cancel$:s}
				:i :a}
		:i :s}
		:i while
			
			:i if $TimeGreaterThan$%i(5,00000005)
				:i continue
				
			:i endif
			:i if $TryJoinServerIPSuccess$
				:i continue
				
			:i endif
			:i $Wait$%i(1,00000001)$gameframe$
		:i loop_to 
	:i endif
	:i if $GotParam$$Cancel$
		:i $create_network_select_games_menu$
	:i else 
		:i if NOT $TryJoinServerIPSuccess$
			:i if $ScreenElementExists$$id$ = $dialog_box_anchor$
				:i $dialog_box_exit$
				:i $check_ip_from_keyboard_failure$
			:i endif
		:i else 
			:i $dialog_box_exit$
			:i $create_network_select_games_menu$$play_cam$
		:i endif
	:i endif
:i endfunction
:i function $check_join_internet_ip$
	:i $console_hide$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $TryJoinInternetGame$
	:i $create_snazzy_dialog_box$:s{$title$ = %sc(11,"Checking...")
		:i $text$ = %sc(22,"Checking for server...")
		:i $pad_back_script$ = $check_ip_from_keyboard_cancel$
		:i $buttons$ = :a{
			:i :s{$font$ = $small$$text$ = %sc(6,"Cancel")$pad_choose_script$ = $check_ip_from_keyboard_cancel$:s}
			:i :a}
	:i :s}
	:i while
		
		:i if NOT $TryingToJoinGame$
			:i continue
			
		:i endif
		:i $TryJoinInternetGame$
		:i $ResetTimer$
		:i while
			
			:i if $TimeGreaterThan$%i(3,00000003)
				:i continue
				
			:i endif
			:i if $TryJoinServerIPSuccess$
				:i continue
				
			:i endif
			:i $Wait$%i(1,00000001)$gameframe$
		:i loop_to 
		:i if $TryJoinServerIPSuccess$
			:i continue
			
		:i endif
	:i loop_to %i(10,0000000a)
	:i if NOT $TryJoinServerIPSuccess$
		:i $TryJoinServerIPCancel$
		:i if $ScreenElementExists$$id$ = $dialog_box_anchor$
			:i $dialog_box_exit$
			:i $check_ip_from_keyboard_failure$
		:i endif
	:i else 
		:i $dialog_box_exit$
		:i $create_network_select_games_menu$$play_cam$
	:i endif
:i endfunction
:i function $fcfs_selected$
	:i $dialog_box_exit$
	:i $SetHostMode$$HOST_MODE_FCFS$
	:i $exit_pause_menu$
:i endfunction
:i function $do_nothing$
:i endfunction
:i function $create_motd_menu$
	:i $edmsg2$%s(11,"MESSAGE: %a")$a$ = %GLOBAL%$message$
	:i return
	
	:i $dialog_box_exit$
	:i if $IsPal$
		:i $create_dialog_box$:s{$title$ = %s(7,"MESSAGE")
			:i $text$ = %GLOBAL%$message$
			:i $text_dims$ = %vec2(500.000000,0.000000)
			:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $profile_connect$:s}
				:i :a}
			:i $box_animate$
		:i :s}
	:i else 
		:i $create_dialog_box$:s{$title$ = %s(7,"MESSAGE")
			:i $text$ = %GLOBAL%$message$
			:i $sub_logo$ = $esrb$
			:i $text_dims$ = %vec2(500.000000,0.000000)
			:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $profile_connect$:s}
				:i :a}
			:i $box_animate$
		:i :s}
	:i endif
:i endfunction
:i function $create_motd_wait_dialog$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_checking_motd$
		:i $buttons$ = :a{:s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancelled_motd$:s}:a}
		:i $no_animate$
	:i :s}
:i endfunction
:i function $cancelled_motd$
	:i $CancelMotdDownload$
:i endfunction
:i function $CreateMotdRetryDialog$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %GLOBAL%$message$
		:i $no_animate$
	:i :s}
:i endfunction
:i function $CreateMotdFailedDialog$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_motd_failed$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_startup_error_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $StatsLoginFailedDialog$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_error_msg$
		:i $text$ = $net_status_stats_login_failed$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_profile_error$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $StatsRetrievalFailedDialog$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_error_msg$
		:i $text$ = $net_status_stats_retrieval_failed$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_profile_error$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $back_from_removed_dialog$
	:i $dialog_box_exit$
	:i if $EnteringNetGame$
		:i $cancel_join_server$
	:i else 
		:i $quit_network_game$
	:i endif
:i endfunction
:i function $THUGPRO_KickedFromServerCleanup$
	:i if NOT $IsObserving$
		:i if $IsTrue$$THUGPRO_ObserveOn$
			:i $THUGPRO_ObserveMode$$OFF$
		:i endif
	:i else 
		:i $Change$$THUGPRO_ObserveOn$ = %i(0,00000000)
	:i endif
	:i $HideLoadingScreen$
	:i $GoalManager_DeactivateAllGoals$$force_all$
	:i $GoalManager_UninitializeAllGoals$
	:i $GoalManager_SetCanStartGoal$%i(0,00000000)
	:i $kill_net_panel_messages$
	:i $force_close_rankings$$dont_retry$
	:i $destroy_onscreen_keyboard$
	:i $dialog_box_exit$
	:i $exit_pause_menu$
	:i if NOT $IsObserving$
		:i $skater$.$Vibrate$$OFF$
	:i endif
	:i if $ScreenElementExists$$id$ = $quit_dialog_anchor$
		:i $DestroyScreenElement$$id$ = $quit_dialog_anchor$
	:i endif
	:i $Change$$check_for_unplugged_controllers$ = %i(0,00000000)
:i endfunction
:i function $CreateServerMissingLevelDialog$
	:i $THUGPRO_KickedFromServerCleanup$
	:i if NOT $GotParam$$m_level$
		:i $m_level$ = %s(7,"Unknown")
	:i endif
	:i if NOT $GotParam$$m_levelName$
		:i $m_levelName$ = %s(7,"Unknown")
	:i endif
	:i $FormatText$$TextName$ = $msg_text$%s(117,"You have been removed from the server because you do not have this level installed.\n\nLevel name: '%a'\nLevel ID: %b")$a$ = %GLOBAL%$m_levelName$$b$ = %GLOBAL%$m_level$
	:i $create_error_box$:s{
		:i $title$ = $net_notice_msg$
		:i $text$ = %GLOBAL%$msg_text$
		:i $text_dims$ = %vec2(320.000000,0.000000)
		:i $text_scale$ = %f(0.800000)
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_removed_dialog$:s}:a}
		:i $delay_input$
	:i :s}
:i endfunction
:i function $CreateServerRemovedYouDialog$
	:i $THUGPRO_KickedFromServerCleanup$
	:i $create_error_box$:s{$title$ = $net_notice_msg$
		:i $text$ = $net_message_server_removed_you$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_removed_dialog$:s}
			:i :a}
		:i $delay_input$
	:i :s}
:i endfunction
:i function $CreateServerMovedOnDialog$
	:i $HideLoadingScreen$
	:i $force_close_rankings$$dont_retry$
	:i $destroy_onscreen_keyboard$
	:i $dialog_box_exit$
	:i $exit_pause_menu$
	:i if NOT $IsObserving$
		:i $skater$.$Vibrate$$OFF$
	:i endif
	:i $Change$$check_for_unplugged_controllers$ = %i(0,00000000)
	:i $create_error_box$:s{$title$ = $net_notice_msg$
		:i $text$ = $net_message_server_moved_on$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_removed_dialog$:s}
			:i :a}
		:i $delay_input$
	:i :s}
:i endfunction
:i function $destroy_server_menu_children$
	:i if $ObjectExists$$id$ = $server_list_menu$
		:i $SetScreenElementLock$$id$ = $server_list_menu$$OFF$
		:i $DestroyScreenElement$$id$ = $server_list_menu$$recurse$$preserve_parent$
		:i if $GotParam$$refocus$
			:i $refocus_actions_menu$
		:i endif
	:i endif
:i endfunction
:i function $destroy_server_desc_children$
	:i $SetScreenElementLock$$id$ = $server_desc_menu$$OFF$
	:i $DestroyScreenElement$$id$ = $server_desc_menu$$recurse$$preserve_parent$
	:i $DestroyScreenElement$$id$ = $server_player_menu$$recurse$$preserve_parent$
	:i $refocus_gamelist_menu$
:i endfunction
:i function $destroy_lobby_user_list_children$
	:i if $ObjectExists$$id$ = $lobby_player_list_menu$
		:i $prepare_lobby_user_list_for_new_children$
		:i $DestroyScreenElement$$id$ = $lobby_player_list_menu$$recurse$$preserve_parent$
	:i endif
:i endfunction
:i function $destroy_lobby_user$
	:i if $ObjectExists$$id$ = %GLOBAL%$user_id$
		:i $DestroyScreenElement$$id$ = %GLOBAL%$user_id$
	:i endif
:i endfunction
:i function $destroy_lobby_server$
	:i if $ObjectExists$$id$ = %GLOBAL%$server_id$
		:i $DestroyScreenElement$$id$ = %GLOBAL%$server_id$
	:i endif
:i endfunction
:i function $add_no_servers_found_message$
	:i if $ObjectExists$$id$ = $server_list_menu$
		:i $SetScreenElementLock$$id$ = $server_list_menu$$OFF$
		:i $make_thpg_menu_item$:s{
			:i $text$ = %s(14,"No Games Found")
			:i $parent_menu_id$ = $server_list_menu$
			:i $id$ = $menu_network_no_servers$
		:i :s}
		:i if $GotParam$$refocus$
			:i $refocus_actions_menu$
		:i endif
	:i endif
:i endfunction
:i function $prepare_server_menu_for_new_children$
	:i if $ObjectExists$$id$ = $server_list_menu$
		:i $SetScreenElementLock$$id$ = $server_list_menu$$OFF$
	:i endif
:i endfunction
:i function $prepare_lobby_user_list_for_new_children$
	:i if $ObjectExists$$id$ = $lobby_player_list_menu$
		:i $SetScreenElementLock$$id$ = $lobby_player_list_menu$$OFF$
	:i endif
:i endfunction
:i function $rejoin_lobby$
	:i if $IsTrue$$show_custom_level_validation_failed$
		:i $PlaySkaterCamAnim$$skater$ = %i(0,00000000)$Name$ = $skateshop_board_select_cam$$play_hold$
		:i $HideLoadingScreen$
		:i $Change$$show_custom_level_validation_failed_wait$ = %i(0,00000000)
		:i $show_custom_level_validation_failed_dialog$
		:i $thugpro_wait$$ReadyVal$ = $show_custom_level_validation_failed_wait$
		:i $Change$$show_custom_level_validation_failed$ = %i(0,00000000)
	:i endif
	:i $RejoinLobby$
	:i $create_joining_lobby_dialog$
:i endfunction
:i function $choose_selected_server$
	:i $console_hide$
	:i $ChooseServer$ isNull 
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
:i endfunction
:i function $describe_selected_server$
	:i if $RetrieveServerInfo$ isNull 
		:i $THUGPRO_DescribeServer$ isNull 
	:i endif
:i endfunction
:i function $choose_selected_player$
	:i if $OnXbox$
		:i $RemovePlayer$ isNull 
	:i else 
		:i $CreatePlayerOptions$ isNull 
	:i endif
:i endfunction
:i function $choose_selected_account$
	:i $ChooseAccount$ isNull 
:i endfunction
:i function $cancel_remove_player$
	:i $CancelRemovePlayer$
	:i $dialog_box_exit$
	:i $create_pause_menu$
:i endfunction
:i function $cancel_remove_player2$
	:i $CancelRemovePlayer$
	:i $dialog_box_exit$
	:i $launch_player_list_menu$
:i endfunction
:i function $kick_player_confirm$
	:i $create_dialog_box$:s{$title$ = %GLOBAL%$Name$
		:i $text$ = %s(12,"Kick player?")
		:i $buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $kick_player$:s}
			:i :s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player2$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $kick_player$
	:i $KickPlayer$
	:i $dialog_box_exit$
	:i $launch_player_list_menu$
:i endfunction
:i function $back_from_dialog$
	:i $dialog_box_exit$
	:i $create_pause_menu$
:i endfunction
:i function $ban_player_confirm$
	:i $create_dialog_box$:s{$title$ = %GLOBAL%$Name$
		:i $text$ = %s(11,"Ban player?")
		:i $buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $ban_player$:s}
			:i :s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player2$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $ban_player$
	:i $BanPlayer$
	:i $dialog_box_exit$
	:i $launch_player_list_menu$
:i endfunction
:i function $create_player_options_dialog$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i if $THUGPRO_IsPlayerMuted$
		:i if $OnServer$
			:i $va$ = :a{
				:i :s{$text$ = %s(4,"kick")$pad_choose_script$ = $kick_player_confirm$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(3,"ban")$pad_choose_script$ = $ban_player_confirm$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(7,"unblock")$pad_choose_script$ = $unblock_player$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_remove_player2$:s}
				:i :a}
		:i else 
			:i $va$ = :a{
				:i :s{$text$ = %s(7,"unblock")$pad_choose_script$ = $unblock_player$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_remove_player2$:s}
				:i :a}
		:i endif
	:i else 
		:i if $OnServer$
			:i $va$ = :a{
				:i :s{$text$ = %s(4,"kick")$pad_choose_script$ = $kick_player_confirm$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(3,"ban")$pad_choose_script$ = $ban_player_confirm$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(5,"block")$pad_choose_script$ = $block_player$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_remove_player2$:s}
				:i :a}
		:i else 
			:i $va$ = :a{
				:i :s{$text$ = %s(5,"block")$pad_choose_script$ = $block_player$$pad_choose_params$ =  isNull :s}
				:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_remove_player2$:s}
				:i :a}
		:i endif
	:i endif
	:i %GLOBAL%$butt$ = %GLOBAL%$va$
	:i $create_dialog_box$:s{$title$ = %s(14,"Player Options")
		:i $text$ = %GLOBAL%$Name$
		:i $pad_back_script$ = $cancel_remove_player2$
		:i $buttons$ = %GLOBAL%$butt$
		:i $no_animate$
	:i :s}
:i endfunction
:i $blacklist_player_array$ = :a{
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i :a}
:i $whitelist_player_array$ = :a{
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i %s(0,"")
	:i :a}
:i function $create_view_blacklist_menu$
	:i $hide_current_goal$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i if $InSplitScreenGame$
		:i $GoalManager_HidePoints$
	:i endif
	:i $create_menu_background_title$$title$ = %s(16,"PLAYER BLACKLIST")$bg_just$ = $right_scroll$$no_grain$
	:i $make_new_skateshop_menu$:s{$pos$ = %vec2(480.000000,115.000000)$internal_just$ = :a{$center$$center$:a}$menu_id$ = $sub_menu$$vmenu_id$ = $sub_vmenu$:s}
	:i $SetScreenElementProps$:s{$id$ = $sub_menu$$event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $launch_player_list_menu$:s}:s}:a}:s}
	:i $kill_start_key_binding$
	:i $create_helper_text$$generic_helper_text$
	:i $index$ = %i(0,00000000)
	:i $count$ = %i(0,00000000)
	:i $GetArraySize$ ($blacklist_player_array$) 
	:i while
		
		:i if  ($blacklist_player_array$:a{%GLOBAL%$index$:a} = %s(0,"")) 
		:i else 
			:i $FormatText$$checksumname$ = $chk$%s(5,"%a_%b")$a$ =  ($blacklist_player_array$:a{%GLOBAL%$index$:a}) $b$ = %GLOBAL%$index$
			:i $FormatText$$TextName$ = $txt$%s(2,"%c")$c$ =  ($blacklist_player_array$:a{%GLOBAL%$index$:a}) 
			:i $make_thpg_menu_item$:s{$text$ = %GLOBAL%$txt$$id$ = %GLOBAL%$chk$$pad_choose_script$ = $unblock_player_confirm$$pad_choose_params$ = :s{$Name$ = %GLOBAL%$txt$$from_menu$:s}:s}
			:i %GLOBAL%$count$ =  (%GLOBAL%$count$ + %i(1,00000001)) 
		:i endif
		:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
	:i loop_to %GLOBAL%$array_size$
	:i $make_thpg_menu_item$$text$ = %s(1," ")$not_focusable$$centered$
	:i if  (%GLOBAL%$count$ > %i(0,00000000)) 
		:i $not_focusable$ = %i(0,00000000)
	:i else 
		:i $not_focusable$ = %i(1,00000001)
	:i endif
	:i $make_thpg_menu_item$:s{$text$ = %s(15,"Clear Blacklist")$id$ = $clear_blacklist_option$$pad_choose_script$ = $menu_clear_blacklist$$scale$ = %f(0.580000)$not_focusable$ = %GLOBAL%$not_focusable$:s}
	:i $AssignAlias$$id$ = $sub_menu$$alias$ = $current_menu$
	:i $FireEvent$$type$ = $focus$$target$ = $sub_menu$
:i endfunction
:i function $menu_clear_blacklist$
	:i $clear_blacklist_array$
	:i $create_view_blacklist_menu$
:i endfunction
:i $dev_list$ = :a{
	:i %s(5,"QUAZZ")
	:i %s(6,"MORTEN")
	:i %s(7,"%.GONE.")
	:i %s(5,"CHASE")
	:i :a}
:i function $unblock_player_confirm$
	:i $get_clean_string$$string$ = %GLOBAL%$Name$
	:i $create_dialog_box$:s{$title$ = %GLOBAL%$clean_string$$text$ = %s(15,"Unblock player?")$buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $unblock_player$$pad_choose_params$ =  isNull :s}:s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player$:s}:a}:s}
:i endfunction
:i function $unblock_player$
	:i $THUGPRO_MutePlayer$$unblock$ isNull 
	:i $dialog_box_exit$
	:i if $GotParam$$from_menu$
		:i $create_view_blacklist_menu$
	:i else 
		:i $launch_player_list_menu$
	:i endif
:i endfunction
:i function $block_player_confirm$
	:i $get_clean_string$$string$ = %GLOBAL%$Name$
	:i if $ArrayContains$$array$ = $whitelist_player_array$$contains$ = %GLOBAL%$clean_string$
		:i $create_dialog_box$:s{$title$ = %GLOBAL%$clean_string$$text$ = %s(85,"Player is a friend\nBlocking this player will remove friendship\nBlock player anyway?")$buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $block_player$$pad_choose_params$ =  isNull :s}:s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player2$:s}:a}:s}
	:i else 
		:i $create_dialog_box$:s{$title$ = %GLOBAL%$clean_string$$text$ = %s(13,"Block player?")$buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $block_player$$pad_choose_params$ =  isNull :s}:s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player2$:s}:a}:s}
	:i endif
:i endfunction
:i function $block_player$
	:i $THUGPRO_MutePlayer$ isNull 
	:i $dialog_box_exit$
	:i $launch_player_list_menu$
:i endfunction
:i function $unfriend_player$
	:i $get_clean_string$$string$ = %GLOBAL%$Name$
	:i if $ArrayContains$$array$ = $whitelist_player_array$$contains$ = %GLOBAL%$clean_string$
		:i $get_index_of$$array$ = $whitelist_player_array$$Name$ = %GLOBAL%$clean_string$
		:i if NOT  (%GLOBAL%$index_of$ = %i(4294967295,ffffffff)) 
			:i $temp_array$ = $whitelist_player_array$
			:i $SetArrayElement$$arrayname$ = $temp_array$$index$ = %GLOBAL%$index_of$$newvalue$ = %s(0,"")
			:i $whitelist_player_array$ = %GLOBAL%$temp_array$
		:i endif
	:i endif
	:i $dialog_box_exit$
	:i $launch_player_list_menu$
:i endfunction
:i function $befriend_player_confirm$
	:i $get_clean_string$$string$ = %GLOBAL%$Name$
	:i if $ArrayContains$$array$ = $blacklist_player_array$$contains$ = %GLOBAL%$clean_string$
		:i $create_dialog_box$:s{$title$ = %GLOBAL%$clean_string$$text$ = %s(98,"Player is blocked\nBefriending this player will stop blocking this player\nBefriend player anyway?")$buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $befriend_player$$pad_choose_params$ =  isNull :s}:s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player2$:s}:a}:s}
	:i else 
		:i $create_dialog_box$:s{$title$ = %GLOBAL%$clean_string$$text$ = %s(16,"Befriend player?")$buttons$ = :a{:s{$text$ = %s(3,"yes")$pad_choose_script$ = $befriend_player$$pad_choose_params$ =  isNull :s}:s{$text$ = %s(2,"no")$pad_choose_script$ = $cancel_remove_player2$:s}:a}:s}
	:i endif
:i endfunction
:i function $befriend_player$
	:i $get_clean_string$$string$ = %GLOBAL%$Name$
	:i if $ArrayContains$$array$ = $blacklist_player_array$$contains$ = %GLOBAL%$clean_string$
		:i $unblock_player$ isNull 
	:i endif
	:i if NOT $ArrayContains$$array$ = $whitelist_player_array$$contains$ = %GLOBAL%$clean_string$
		:i $get_index_of$$array$ = $whitelist_player_array$$empty_index$
		:i $temp_array$ = $whitelist_player_array$
		:i $SetArrayElement$$arrayname$ = $temp_array$$index$ = %GLOBAL%$index_of$$newvalue$ = %GLOBAL%$clean_string$
		:i $whitelist_player_array$ = %GLOBAL%$temp_array$
	:i endif
	:i $dialog_box_exit$
	:i $launch_player_list_menu$
:i endfunction
:i function $clear_blacklist_array$
	:i $temp_array$ = $blacklist_player_array$
	:i $GetArraySize$ (%GLOBAL%$temp_array$) 
	:i $index$ = %i(0,00000000)
	:i while
		
		:i $SetArrayElement$$arrayname$ = $temp_array$$index$ = %GLOBAL%$index$$newvalue$ = %s(0,"")
		:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
	:i loop_to %GLOBAL%$array_size$
	:i $blacklist_player_array$ = %GLOBAL%$temp_array$
:i endfunction
:i function $get_index_of$
	:i if NOT $GotParam$$array$
		:i return
		$index_of$ = %i(4294967295,ffffffff)
	:i endif
	:i $exist$ = %i(4294967295,ffffffff)
	:i $index$ = %i(0,00000000)
	:i $GetArraySize$ (%GLOBAL%$array$) 
	:i while
		
		:i if  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a})  = %s(0,"")) 
			:i if $GotParam$$empty_index$
				:i %GLOBAL%$exist$ = %i(1,00000001)
				:i continue
				
			:i endif
		:i else 
			:i if $GotParam$$Name$
				:i if  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a})  = %GLOBAL%$Name$) 
					:i %GLOBAL%$exist$ = %i(1,00000001)
					:i continue
					
				:i endif
			:i endif
		:i endif
		:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
	:i loop_to %GLOBAL%$array_size$
	:i return
	$index_of$ = %GLOBAL%$index$
:i endfunction
:i function $launch_pin_entry_menu$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_pin_entry_menu$
:i endfunction
:i function $show_nat_start_dialog$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_locating$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_join_server$$pad_choose_params$ = :s{$cancel_nn$:s}:s}
			:i :a}
	:i :s}
:i endfunction
:i function $show_nat_timeout$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_error_msg$
		:i $text$ = $net_status_nat_neg_failed$
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $cancel_join_server$$pad_choose_params$ = :s{$cancel_nn$:s}:s}
			:i :a}
	:i :s}
:i endfunction
:i $nat_neg_fallback$ = %i(0,00000000)
:i function $NatNegotiateFallbackTimer$
	:i $printf$%s(25,"NatNegotiateFallbackTimer")
	:i $Wait$%f(4.500000)$Seconds$
	:i if  ($nat_neg_fallback$ = %i(0,00000000)) 
		:i $printf$%s(28,"Calling NatNegotiateFallback")
		:i $NatNegotiateFallback$
	:i endif
	:i $printf$%s(31,"NatNegotiateFallbackTimer ended")
:i endfunction
:i function $net_chosen_join_server$
	:i $printf$%s(41,"******* In net_chosen_join_server *******")
	:i $LeaveServer$
	:i $setservermode$$OFF$
	:i if $GotParam$$cookie$
		:i if $ObjectExists$$id$ = $current_menu_anchor$
			:i $DestroyScreenElement$$id$ = $current_menu_anchor$
		:i endif
		:i $show_nat_start_dialog$
		:i $Change$$nat_neg_fallback$ = %i(0,00000000)
		:i $printf$%s(31,"Spawn NatNegotiateFallbackTimer")
		:i $SpawnScript$$NatNegotiateFallbackTimer$
		:i if NOT $StartNatNegotiation$ isNull 
			:i if  ($nat_neg_fallback$ = %i(0,00000000)) 
				:i $create_join_failed_dialog$
			:i endif
		:i endif
		:i $printf$%s(25,"After StartNatNegotiation")
	:i else 
		:i $Change$$THUGPRO_IsJoiningServer$ = %i(1,00000001)
		:i $JoinServer$ isNull 
	:i endif
	:i $PlaySkaterCamAnim$$Name$ = $skateshop_board_select_cam$$play_hold$
	:i $kill_start_key_binding$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $Change$$check_for_unplugged_controllers$ = %i(0,00000000)
:i endfunction
:i function $lobby_list_animate_in$$id$ = $lobby_list_anchor$
	:i $DoScreenElementMorph$$id$ = %GLOBAL%$id$$pos$ = %vec2(-5.000000,0.000000)$time$ = %f(0.300000)
:i endfunction
:i function $regions_menu_set_focus$
	:i $generic_menu_update_arrows$:s{
		:i $up_arrow_id$ = $regions_up_arrow$
		:i $down_arrow_id$ = $regions_down_arrow$
	:i :s}
	:i $lobby_list_vmenu$.$GetTags$
	:i if $GotParam$$arrow_id$
		:i $menu_vert_blink_arrow$:s{$id$ = %GLOBAL%$arrow_id$:s}
	:i endif
	:i $main_theme_focus$ isNull 
:i endfunction
:i function $create_pin_entry_menu$
	:i $make_new_menu$$menu_id$ = $pin_entry_menu$$vmenu_id$ = $pin_entry_vmenu$$menu_title$ = %s(9,"ENTER PIN")
	:i $SetScreenElementLock$$id$ = $root_window$$OFF$
	:i $SetScreenElementProps$:s{$id$ = $pin_entry_menu$$event_handlers$ = :a{
			:i :s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $do_nothing$:s}:s}
			:i :a}
	:i :s}
	:i $RunScriptOnScreenElement$$id$ = $main_menu_anchor$$menu_onscreen$
:i endfunction
:i function $back_from_regions_menu$
	:i if $ObjectExists$$id$ = $lobby_list_anchor$
		:i $FireEvent$$type$ = $unfocus$$target$ = $lobby_list_menu$
		:i $FireEvent$$type$ = $focus$$target$ = $sub_menu$
		:i $AssignAlias$$id$ = $menu_parts_anchor$$alias$ = $current_menu_anchor$
		:i $DoScreenElementMorph$$id$ = $lobby_list_anchor$$pos$ = %vec2(-5.000000,800.000000)$time$ = %f(0.300000)
		:i $Wait$%f(0.300000)$Seconds$
		:i $DestroyScreenElement$$id$ = $lobby_list_anchor$
	:i endif
:i endfunction
:i function $back_from_lobbies$
	:i $StopServerList$
	:i $FreeServerList$
	:i $LobbyDisconnect$
	:i $CancelNatNegotiation$
	:i $back_from_regions_menu_update$
:i endfunction
:i function $back_from_multiplayer_menu$
	:i $StopServerList$
	:i $FreeServerList$
	:i $back_from_network_select_menu$ isNull 
:i endfunction
:i function $back_from_network_menu$
	:i $create_console_message$:s{$text$ = %s(27,"OH SHIT! What did you do???"):s}
	:i $StopServerList$
	:i $FreeServerList$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $select_network_play_multi$
:i endfunction
:i function $select_host_option$
	:i $SetPreferencesFromUI$ isNull 
	:i $launch_network_host_options_menu$
:i endfunction
:i function $select_game_option$
	:i if  (%GLOBAL%$checksum$ = $netctf$) 
		:i if NOT $InTeamGame$
			:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_two$$string$ = %s(1,"2")
			:i $SetNumTeams$%i(2,00000002)
		:i endif
	:i endif
	:i $SetPreferencesFromUI$ isNull 
	:i switch %GLOBAL%$checksum$
		:i case $netscorechallenge$
			:i endcase
		case $scorechallenge$
			:i switch $score_mode$
				:i case $point_scoring$
					:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(12,"target_score")$checksum$ = $score_1000000$$score$ = %i(1000000,000f4240)$string$ = %s(16,"1,000,000 points")
					:i endcase
				case $tag_scoring$
					:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(12,"target_score")$checksum$ = $score_10$$score$ = %i(10,0000000a)$string$ = %s(7,"10 tags")
					:i end_switch
			
			:i endcase
		case $gold$
			:i endcase
		case $netgold$
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i if  (%GLOBAL%$checksum$ = $score_ctf$) 
				:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(13,"ctf_game_type")$checksum$ = $score_ctf$$string$ = %s(15,"Use Score Limit")
			:i endif
			:i switch $score_mode$
				:i case $point_scoring$
					:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(12,"target_score")$checksum$ = $score_1000000$$score$ = %i(1000000,000f4240)$string$ = %s(16,"1,000,000 points")
					:i endcase
				case $tag_scoring$
					:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(12,"target_score")$checksum$ = $score_10$$score$ = %i(10,0000000a)$string$ = %s(7,"10 tags")
					:i end_switch
			
			:i endcase
		case $king$
			:i endcase
		case $netking$
			:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(12,"target_score")$checksum$ = $time_120$$time$ = %i(120,00000078)$string$ = %s(12,"2:00 minutes")
			:i endcase
		case $netctf$
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i if  (%GLOBAL%$checksum$ = $score_ctf$) 
				:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(13,"ctf_game_type")$checksum$ = $score_ctf$$string$ = %s(17,"Use Capture Limit")
			:i endif
			:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %s(12,"target_score")$checksum$ = $score_5$$score$ = %i(5,00000005)$string$ = %s(10,"5 captures")
			:i end_switch
	
	:i $create_network_game_options_menu$ isNull 
:i endfunction
:i function $game_options_goals_sub_menu_return$
	:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(5,"goals")$string$ = %s(7,"CREATED")$checksum$ = $goals_created$
	:i if NOT $levelIs$$Load_MainMenu$
		:i $dialog_box_exit$
		:i $kill_start_key_binding$
		:i $create_dialog_box$:s{$title$ = $net_warning_msg$
			:i $text$ = $net_message_goals_next_level$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $create_network_game_options_menu$:s}
				:i :a}
		:i :s}
	:i else 
		:i $create_network_game_options_menu$
	:i endif
:i endfunction
:i function $host_options_goals_sub_menu_return$
	:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(5,"goals")$string$ = %s(7,"CREATED")$checksum$ = $goals_created$
	:i if NOT $levelIs$$Load_MainMenu$
		:i $dialog_box_exit$
		:i $kill_start_key_binding$
		:i $create_dialog_box$:s{$title$ = $net_warning_msg$
			:i $text$ = $net_message_goals_next_level$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $launch_network_host_options_menu$:s}
				:i :a}
		:i :s}
	:i else 
		:i $launch_network_host_options_menu$
	:i endif
:i endfunction
:i function $host_options_goals_sub_menu_exit$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i %GLOBAL%$new_menu_script$ isNull 
:i endfunction
:i function $create_host_options_sub_menu$$pad_choose$ = $select_host_option$
	:i if $ScreenElementExists$$id$ = $current_menu$
		:i $DestroyScreenElement$$id$ = $current_menu$
	:i endif
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i $create_menu_background_title$$title$ = %GLOBAL%$menu_title$$bg_just$ = $right_scroll$$no_grain$
	:i $make_new_skateshop_menu$:s{
		:i $pos$ = %vec2(380.000000,115.000000)
		:i $internal_just$ = :a{$center$$center$:a}
		:i $menu_id$ = $sub_menu$
		:i $vmenu_id$ = $sub_vmenu$
	:i :s}
	:i $SetScreenElementProps$:s{$id$ = $current_menu$
		:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_network_host_options_menu$:s}:s}:a}
	:i :s}
	:i $RemoveParameter$$id$
	:i if $GotParam$$array$
		:i $GetArraySize$%GLOBAL%$array$
		:i if $GotParam$$max_index$
			:i %GLOBAL%$array_size$ =  (%GLOBAL%$max_index$ + %i(1,00000001)) 
		:i endif
		:i %GLOBAL%$index$ = %i(0,00000000)
		:i while
			
			:i $Name$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$Name$) 
			:i if $StructureContains$$structure$ =  (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) $checksum$
				:i $checksum$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$checksum$) 
			:i endif
			:i if $StructureContains$$structure$ =  (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) $time$
				:i $time$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$time$) 
			:i endif
			:i if $StructureContains$$structure$ =  (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) $broadband_only$
				:i $orig_checksum$ = %GLOBAL%$checksum$
				:i $GetPreferenceChecksum$$pref_type$ = $network$$device_type$
				:i switch %GLOBAL%$checksum$
					:i case $device_sony_modem$
						:i endcase
					case $device_usb_modem$
						:i continue
						
						:i end_switch
				
				:i $checksum$ = %GLOBAL%$orig_checksum$
			:i endif
			:i $params$ = :s{:s}
			:i if $StructureContains$$structure$ =  (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) $test_greater_only$
				:i $orig_checksum$ = %GLOBAL%$checksum$
				:i $GetPreferenceChecksum$$pref_type$ = $network$$rank_test$
				:i switch %GLOBAL%$checksum$
					:i case $rank_test_less$
						:i $params$ = :s{$not_focusable$:s}
						:i end_switch
				
				:i $checksum$ = %GLOBAL%$orig_checksum$
			:i endif
			:i if $StructureContains$$structure$ =  (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) $test_less_only$
				:i $orig_checksum$ = %GLOBAL%$checksum$
				:i $GetPreferenceChecksum$$pref_type$ = $network$$rank_test$
				:i switch %GLOBAL%$checksum$
					:i case $rank_test_greater$
						:i $params$ = :s{$not_focusable$:s}
						:i end_switch
				
				:i $checksum$ = %GLOBAL%$orig_checksum$
			:i endif
			:i $pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}
			:i $RemoveParameter$$centered$
			:i $RemoveParameter$$just$
			:i if  (%GLOBAL%$index$ = %i(0,00000000)) 
				:i $make_thpg_menu_item$:s{
					:i  isNull 
					:i $text$ = %GLOBAL%$Name$
					:i %GLOBAL%$params$
					:i $pad_choose_script$ = %GLOBAL%$pad_choose$
					:i $pad_choose_params$ = %GLOBAL%$pad_choose_params$
				:i :s}
			:i else 
				:i if  (%GLOBAL%$index$ =  (%GLOBAL%$array_size$ - %i(1,00000001)) ) 
					:i $make_thpg_menu_item$:s{
						:i  isNull 
						:i %GLOBAL%$params$
						:i $text$ = %GLOBAL%$Name$
						:i $pad_choose_script$ = %GLOBAL%$pad_choose$
						:i $pad_choose_params$ = %GLOBAL%$pad_choose_params$
					:i :s}
				:i else 
					:i $make_thpg_menu_item$:s{
						:i  isNull 
						:i %GLOBAL%$params$
						:i $text$ = %GLOBAL%$Name$
						:i $pad_choose_script$ = %GLOBAL%$pad_choose$
						:i $pad_choose_params$ = %GLOBAL%$pad_choose_params$
					:i :s}
				:i endif
			:i endif
			:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
		:i loop_to %GLOBAL%$array_size$
	:i endif
	:i $create_helper_text$$generic_helper_text$
	:i $FireEvent$$type$ = $focus$$target$ = $sub_vmenu$
:i endfunction
:i function $create_game_options_sub_menu$
	:i if $InSplitScreenGame$
		:i $prefs$ = $splitscreen$
	:i else 
		:i $prefs$ = $network$
	:i endif
	:i if  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
		:i $make_new_themed_sub_menu$$title$ = %GLOBAL%$menu_title$$menu_id$ = $options_sub_menu$$vmenu_id$ = $options_sub_vmenu$$pos$ = %vec2(230.000000,620.000000)$dims$ = %vec2(450.000000,325.000000)
		:i $build_theme_sub_title$$title$ = %GLOBAL%$menu_title$$right_bracket_z$ = %i(4294967295,ffffffff)$right_bracket_alpha$ = %f(0.000000)
		:i $SetScreenElementProps$:s{$id$ = $options_sub_menu$$event_handlers$ = :a{
				:i :s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_network_game_options_menu$ isNull :s}:s}
				:i :a}
		:i :s}
		:i $generic_array_menu_desc_setup$ isNull 
	:i else 
		:i $make_new_skateshop_menu$:s{
			:i $pos$ = %vec2(380.000000,115.000000)
			:i $internal_just$ = :a{$center$$center$:a}
			:i $menu_id$ = $options_sub_menu$
			:i $vmenu_id$ = $options_sub_vmenu$
		:i :s}
		:i $create_menu_background_title$$title$ = %GLOBAL%$menu_title$$bg_just$ = $right_scroll$$no_grain$
		:i $SetScreenElementProps$:s{$id$ = $options_sub_menu$$event_handlers$ = :a{
				:i :s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_network_game_options_menu$ isNull :s}:s}
				:i :a}
		:i :s}
		:i $generic_array_menu_setup$ isNull 
	:i endif
	:i $create_helper_text$$generic_helper_text$
	:i $GoalManager_HideGoalPoints$
	:i $GoalManager_HidePoints$
	:i if  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
		:i $DoScreenElementMorph$$id$ = $options_sub_vmenu$$time$ = %f(0.200000)$pos$ = %vec2(230.000000,85.000000)
	:i endif
	:i if  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
		:i $DoScreenElementMorph$$id$ = $bg_box_vmenu$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,85.000000)
		:i if $InNetGame$
			:i $DoScreenElementMorph$$id$ = $item_bg_box$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,352.000000)
			:i $DoScreenElementMorph$$id$ = $item_description_text$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,339.000000)
			:i $DoScreenElementMorph$$id$ = $item_description_bar$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,353.000000)
		:i else 
			:i $DoScreenElementMorph$$id$ = $item_bg_box$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,329.000000)
			:i $DoScreenElementMorph$$id$ = $item_description_text$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,318.000000)
			:i $DoScreenElementMorph$$id$ = $item_description_bar$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,328.000000)
		:i endif
	:i endif
	:i if $ScreenElementExists$$id$ = $top_bar_anchor$
		:i $DoScreenElementMorph$$id$ = $top_bar_anchor$$time$ = %f(0.200000)$pos$ = %vec2(0.000000,62.000000)
	:i endif
	:i $FireEvent$$type$ = $focus$$target$ = $options_sub_menu$
:i endfunction
:i function $set_host_option_preference$
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i $SetPreferencesFromUI$$prefs$ = $network$ isNull 
	:i $destroy_onscreen_keyboard$
	:i $create_network_host_options_menu$
:i endfunction
:i function $host_options_back_from_keyboard$
	:i $destroy_onscreen_keyboard$
	:i $create_network_host_options_menu$
:i endfunction
:i function $set_horse_option_preference$
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i $SetPreferencesFromUI$$prefs$ = $splitscreen$ isNull 
	:i $horse_word_back_from_keyboard$
:i endfunction
:i function $horse_word_back_from_keyboard$
	:i $destroy_onscreen_keyboard$
	:i $create_network_game_options_menu$$end_run$
:i endfunction
:i function $create_network_host_options_server_name_menu$
	:i $GetPreferenceString$$pref_type$ = $network$$server_name$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $destroy_menu_background_title$
	:i $create_onscreen_keyboard$$allow_cancel$$keyboard_cancel_script$ = $host_options_back_from_keyboard$$keyboard_done_script$ = $set_host_option_preference$$keyboard_title$ = %s(4,"NAME")$field$ = %s(11,"server_name")$text$ = %GLOBAL%$ui_string$$min_length$ = %i(1,00000001)$max_length$ = %i(15,0000000f)
:i endfunction
:i function $create_network_host_options_password_menu$
	:i $GetPreferenceString$$pref_type$ = $network$$password$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $destroy_menu_background_title$
	:i $create_onscreen_keyboard$$password$$allow_cancel$$keyboard_cancel_script$ = $host_options_back_from_keyboard$$keyboard_done_script$ = $set_host_option_preference$$keyboard_title$ = %s(8,"PASSWORD")$field$ = %s(8,"password")$text$ = %GLOBAL%$ui_string$$min_length$ = %i(0,00000000)$max_length$ = %i(9,00000009)
:i endfunction
:i function $tp_host_option_cycle_num_players$
	:i $GetTags$
	:i $GetPreferenceChecksum$$pref_type$ = $network$$num_players$
	:i if $GotParam$$Right$
		:i switch %GLOBAL%$checksum$
			:i case $num_2$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_3$$value$ = %i(3,00000003)$string$ = %s(9,"3 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"3 Players")
				:i endcase
			case $num_3$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_4$$value$ = %i(4,00000004)$string$ = %s(9,"4 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"4 Players")
				:i endcase
			case $num_4$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_5$$value$ = %i(5,00000005)$string$ = %s(9,"5 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"5 Players")
				:i endcase
			case $num_5$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_6$$value$ = %i(6,00000006)$string$ = %s(9,"6 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"6 Players")
				:i endcase
			case $num_6$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_7$$value$ = %i(7,00000007)$string$ = %s(9,"7 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"7 Players")
				:i endcase
			case $num_7$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_8$$value$ = %i(8,00000008)$string$ = %s(9,"8 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"8 Players")
				:i endcase
			case $num_8$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_2$$value$ = %i(2,00000002)$string$ = %s(9,"2 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"2 Players")
				:i endcase
			default 
				:i end_switch
		
	:i else 
		:i switch %GLOBAL%$checksum$
			:i case $num_2$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_8$$value$ = %i(8,00000008)$string$ = %s(9,"8 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"8 Players")
				:i endcase
			case $num_3$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_2$$value$ = %i(2,00000002)$string$ = %s(9,"2 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"2 Players")
				:i endcase
			case $num_4$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_3$$value$ = %i(3,00000003)$string$ = %s(9,"3 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"3 Players")
				:i endcase
			case $num_5$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_4$$value$ = %i(4,00000004)$string$ = %s(9,"4 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"4 Players")
				:i endcase
			case $num_6$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_5$$value$ = %i(5,00000005)$string$ = %s(9,"5 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"5 Players")
				:i endcase
			case $num_7$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_6$$value$ = %i(6,00000006)$string$ = %s(9,"6 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"6 Players")
				:i endcase
			case $num_8$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"num_players")$checksum$ = $num_7$$value$ = %i(7,00000007)$string$ = %s(9,"7 Players")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(9,"7 Players")
				:i endcase
			default 
				:i end_switch
		
	:i endif
:i endfunction
:i function $tp_host_option_cycle_num_observers$
	:i $GetTags$
	:i $GetPreferenceChecksum$$pref_type$ = $network$$num_observers$
	:i if $GotParam$$Right$
		:i switch %GLOBAL%$checksum$
			:i case $num_0$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_1$$value$ = %i(1,00000001)$string$ = %s(10,"1 Observer")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(10,"1 Observer")
				:i endcase
			case $num_1$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_2$$value$ = %i(2,00000002)$string$ = %s(11,"2 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"2 Observers")
				:i endcase
			case $num_2$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_3$$value$ = %i(3,00000003)$string$ = %s(11,"3 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"3 Observers")
				:i endcase
			case $num_3$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_4$$value$ = %i(4,00000004)$string$ = %s(11,"4 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"4 Observers")
				:i endcase
			case $num_4$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_5$$value$ = %i(5,00000005)$string$ = %s(11,"5 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"5 Observers")
				:i endcase
			case $num_5$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_6$$value$ = %i(6,00000006)$string$ = %s(11,"6 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"6 Observers")
				:i endcase
			case $num_6$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_7$$value$ = %i(7,00000007)$string$ = %s(11,"7 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"7 Observers")
				:i endcase
			case $num_7$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_8$$value$ = %i(8,00000008)$string$ = %s(11,"8 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"8 Observers")
				:i endcase
			case $num_8$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_0$$value$ = %i(0,00000000)$string$ = %s(12,"No Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(12,"No Observers")
				:i endcase
			default 
				:i end_switch
		
	:i else 
		:i switch %GLOBAL%$checksum$
			:i case $num_0$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_8$$value$ = %i(8,00000008)$string$ = %s(11,"8 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"8 Observers")
				:i endcase
			case $num_1$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_0$$value$ = %i(0,00000000)$string$ = %s(12,"No Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(12,"No Observers")
				:i endcase
			case $num_2$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_1$$value$ = %i(1,00000001)$string$ = %s(10,"1 Observer")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(10,"1 Observer")
				:i endcase
			case $num_3$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_2$$value$ = %i(2,00000002)$string$ = %s(11,"2 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"2 Observers")
				:i endcase
			case $num_4$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_3$$value$ = %i(3,00000003)$string$ = %s(11,"3 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"3 Observers")
				:i endcase
			case $num_5$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_4$$value$ = %i(4,00000004)$string$ = %s(11,"4 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"4 Observers")
				:i endcase
			case $num_6$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_5$$value$ = %i(5,00000005)$string$ = %s(11,"5 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"5 Observers")
				:i endcase
			case $num_7$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_6$$value$ = %i(6,00000006)$string$ = %s(11,"6 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"6 Observers")
				:i endcase
			case $num_8$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(13,"num_observers")$checksum$ = $num_7$$value$ = %i(7,00000007)$string$ = %s(11,"7 Observers")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"7 Observers")
				:i endcase
			default 
				:i end_switch
		
	:i endif
:i endfunction
:i function $tp_host_option_cycle_skill_level$
	:i $GetTags$
	:i $GetPreferenceChecksum$$pref_type$ = $network$$skill_level$
	:i if $GotParam$$Right$
		:i switch %GLOBAL%$checksum$
			:i case $num_1$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_2$$string$ = %s(15,"2: I Can Crawl!")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(15,"2: I Can Crawl!")
				:i endcase
			case $num_2$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_3$$string$ = %s(14,"3: Hold My Own")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(14,"3: Hold My Own")
				:i endcase
			case $num_3$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_4$$string$ = %s(16,"4: Let's Do This")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(16,"4: Let's Do This")
				:i endcase
			case $num_4$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_5$$string$ = %s(15,"5: Bring It On!")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(15,"5: Bring It On!")
				:i endcase
			case $num_5$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_1$$string$ = %s(13,"1: Baby Steps")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(13,"1: Baby Steps")
				:i endcase
			default 
				:i end_switch
		
	:i else 
		:i switch %GLOBAL%$checksum$
			:i case $num_1$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_5$$string$ = %s(15,"5: Bring It On!")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(15,"5: Bring It On!")
				:i endcase
			case $num_2$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_1$$string$ = %s(13,"1: Baby Steps")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(13,"1: Baby Steps")
				:i endcase
			case $num_3$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_2$$string$ = %s(15,"2: I Can Crawl!")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(15,"2: I Can Crawl!")
				:i endcase
			case $num_4$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_3$$string$ = %s(14,"3: Hold My Own")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(14,"3: Hold My Own")
				:i endcase
			case $num_5$
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"skill_level")$checksum$ = $num_4$$string$ = %s(16,"4: Let's Do This")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(16,"4: Let's Do This")
				:i endcase
			default 
				:i end_switch
		
	:i endif
:i endfunction
:i $id$ = $current_menu_anchor$
:i $id$ = $current_menu_anchor$
:i function $tp_host_option_cycle_player_collision$
	:i $GetTags$
	:i $GetPreferenceString$$pref_type$ = $network$$player_collision$
	:i if  (%GLOBAL%$ui_string$ = %s(3,"Off")) 
		:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(16,"player_collision")$checksum$ = $boolean_true$$string$ = %s(2,"On")
		:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(2,"On")
	:i else 
		:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(16,"player_collision")$checksum$ = $boolean_false$$string$ = %s(3,"Off")
		:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(3,"Off")
	:i endif
:i endfunction
:i function $tp_host_option_cycle_team_mode$
	:i $GetTags$
	:i $GetPreferenceChecksum$$pref_type$ = $network$$team_mode$
	:i if $GotParam$$Right$
		:i switch %GLOBAL%$checksum$
			:i case $teams_four$
				:i $printf$%s(13,"SetNumTeams 0")
				:i $SetNumTeams$%i(0,00000000)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_none$$string$ = %s(4,"None")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"None")
				:i endcase
			case $teams_none$
				:i $printf$%s(13,"SetNumTeams 2")
				:i $SetNumTeams$%i(2,00000002)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_two$$string$ = %s(1,"2")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(1,"2")
				:i endcase
			case $teams_two$
				:i $printf$%s(13,"SetNumTeams 3")
				:i $SetNumTeams$%i(3,00000003)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_three$$string$ = %s(1,"3")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(1,"3")
				:i endcase
			case $teams_three$
				:i $printf$%s(13,"SetNumTeams 4")
				:i $SetNumTeams$%i(4,00000004)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_four$$string$ = %s(1,"4")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(1,"4")
				:i endcase
			default 
				:i end_switch
		
	:i else 
		:i switch %GLOBAL%$checksum$
			:i case $teams_four$
				:i $printf$%s(13,"SetNumTeams 3")
				:i $SetNumTeams$%i(3,00000003)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_three$$string$ = %s(1,"3")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(1,"3")
				:i endcase
			case $teams_three$
				:i $printf$%s(13,"SetNumTeams 2")
				:i $SetNumTeams$%i(2,00000002)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_two$$string$ = %s(1,"2")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(1,"2")
				:i endcase
			case $teams_two$
				:i $printf$%s(13,"SetNumTeams 0")
				:i $SetNumTeams$%i(0,00000000)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_none$$string$ = %s(4,"None")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"None")
				:i endcase
			case $teams_none$
				:i $printf$%s(13,"SetNumTeams 4")
				:i $SetNumTeams$%i(4,00000004)
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_four$$string$ = %s(1,"4")
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(1,"4")
				:i endcase
			default 
				:i end_switch
		
	:i endif
:i endfunction
:i function $create_mp_game_options_game_type_menu$
	:i $create_game_options_sub_menu$$menu_title$ = %s(9,"GAME TYPE")$pref_type$ = $splitscreen$$pref_field$ = %s(9,"game_type")$array$ = $mp_game_type_info$$call_script$ = $select_game_option$$helper_text$ = $generic_helper_text$ isNull 
:i endfunction
:i function $create_network_game_options_game_type_menu$
	:i $create_game_options_sub_menu$$menu_title$ = %s(9,"GAME TYPE")$pref_type$ = $network$$pref_field$ = %s(9,"game_type")$array$ = $net_game_type_info$$call_script$ = $select_game_option$$helper_text$ = $generic_helper_text$ isNull 
:i endfunction
:i function $create_network_game_options_goal_type_menu$
	:i $create_game_options_sub_menu$$menu_title$ = %s(9,"GOAL TYPE")$pref_type$ = %GLOBAL%$prefs$$pref_field$ = %s(5,"goals")$array$ = $net_goal_info$$call_script$ = $network_game_options_goal_type_select$$helper_text$ = $generic_helper_text$ isNull 
:i endfunction
:i function $network_game_options_goal_type_select$
	:i $GoalManager_DeselectAllGoals$
	:i $select_game_option$ isNull 
:i endfunction
:i function $Get_firefight_projectile_text$
	:i switch $firefight_projectile_type$
		:i case $fireball$
			:i %GLOBAL%$projectile_text$ = %s(9,"Fireballs")
			:i endcase
		case $rocket$
			:i %GLOBAL%$projectile_text$ = %s(7,"Rockets")
			:i endcase
		case $snowball$
			:i %GLOBAL%$projectile_text$ = %s(9,"Snowballs")
			:i endcase
		default 
			:i %GLOBAL%$projectile_text$ = %s(10,"_Fireballs")
			:i end_switch
	
	:i return
	$projectile_text$ = %GLOBAL%$projectile_text$
:i endfunction
:i function $tp_host_option_cycle_firefight_ammo$
	:i $GetTags$
	:i if $GotParam$$Right$
		:i switch  ($firefight_projectile_type$) 
			:i case $fireball$
				:i $Change$$firefight_projectile_type$ = $rocket$
				:i endcase
			case $rocket$
				:i $Change$$firefight_projectile_type$ = $snowball$
				:i endcase
			case $snowball$
				:i $Change$$firefight_projectile_type$ = $fireball$
				:i end_switch
		
	:i else 
		:i switch  ($firefight_projectile_type$) 
			:i case $fireball$
				:i $Change$$firefight_projectile_type$ = $snowball$
				:i endcase
			case $rocket$
				:i $Change$$firefight_projectile_type$ = $fireball$
				:i endcase
			case $snowball$
				:i $Change$$firefight_projectile_type$ = $rocket$
				:i end_switch
		
	:i endif
	:i $Get_firefight_projectile_text$
	:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %GLOBAL%$projectile_text$
:i endfunction
:i function $tp_host_option_cycle_scavenger_object$
	:i $GetTags$
	:i if $GotParam$$Right$
		:i switch $TP_Scavenger_Hunt_Model$
			:i case $TP_Scavenger_Hunt_Model_Coin$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Cash$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"Cash")
				:i endcase
			case $TP_Scavenger_Hunt_Model_Cash$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Treasure_Chest$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(14,"Treasure Chest")
				:i endcase
			case $TP_Scavenger_Hunt_Model_Treasure_Chest$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_SkateBoard$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"Skateboards")
				:i endcase
			case $TP_Scavenger_Hunt_Model_SkateBoard$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Food$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"Food")
				:i endcase
			case $TP_Scavenger_Hunt_Model_Food$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Coin$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"Coin")
				:i endcase
			default 
				:i end_switch
		
	:i else 
		:i switch $TP_Scavenger_Hunt_Model$
			:i case $TP_Scavenger_Hunt_Model_Coin$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Food$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"Food")
				:i endcase
			case $TP_Scavenger_Hunt_Model_Food$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_SkateBoard$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(11,"Skateboards")
				:i endcase
			case $TP_Scavenger_Hunt_Model_SkateBoard$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Treasure_Chest$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(14,"Treasure Chest")
				:i endcase
			case $TP_Scavenger_Hunt_Model_Treasure_Chest$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Cash$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"Cash")
				:i endcase
			case $TP_Scavenger_Hunt_Model_Cash$
				:i $Change$$TP_Scavenger_Hunt_Model$ = $TP_Scavenger_Hunt_Model_Coin$
				:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(4,"Coin")
				:i endcase
			default 
				:i end_switch
		
	:i endif
:i endfunction
:i function $create_mp_game_options_horse_time_menu$
	:i $create_game_options_sub_menu$$menu_title$ = %s(10,"TIME LIMIT")$pref_type$ = $splitscreen$$pref_field$ = %s(16,"horse_time_limit")$array$ = $horse_time_limit_options$$call_script$ = $select_game_option$$helper_text$ = $generic_helper_text$$prefs$ = $splitscreen$ isNull 
:i endfunction
:i $horse_allowed_characters$ = :a{%s(1,"1")%s(1,"2")%s(1,"3")%s(1,"4")%s(1,"5")%s(1,"6")%s(1,"7")%s(1,"8")%s(1,"9")%s(1,"0")
	:i %s(1,"a")%s(1,"b")%s(1,"c")%s(1,"d")%s(1,"e")%s(1,"f")%s(1,"g")%s(1,"h")%s(1,"i")%s(1,"j")
	:i %s(1,"k")%s(1,"l")%s(1,"m")%s(1,"n")%s(1,"o")%s(1,"p")%s(1,"q")%s(1,"r")%s(1,"s")%s(1,"t")
	:i %s(1,"u")%s(1,"v")%s(1,"w")%s(1,"x")%s(1,"y")%s(1,"z")
	:i %s(1,"A")%s(1,"B")%s(1,"C")%s(1,"D")%s(1,"E")%s(1,"F")%s(1,"G")%s(1,"H")%s(1,"I")%s(1,"J")
	:i %s(1,"K")%s(1,"L")%s(1,"M")%s(1,"N")%s(1,"O")%s(1,"P")%s(1,"Q")%s(1,"R")%s(1,"S")%s(1,"T")
	:i %s(1,"U")%s(1,"V")%s(1,"W")%s(1,"X")%s(1,"Y")%s(1,"Z")
	:i %s(1,".")%s(1,",")%s(1,"!")%s(1,"?")%s(1,"-")%s(4,"???")%s(1,"'")%s(1,"+")%s(1,"^")
	:i %s(1,"#")%s(1,"$")%s(1,"*")%s(1,"@")%s(1,"`")%s(1,"&")%s(1,":")%s(1,"<")%s(1,">")
	:i %s(1,"_")%s(1,"-")%s(1,"=")%s(1,"(")%s(1,")")%s(1,"/")
	:i %s(4,"???x")%s(4,"???")%s(4,"???S")%s(4,"???")%s(4,"????")%s(4,"????")%s(4,"????")%s(4,"????")%s(4,"????")%s(4,"????")
	:i %s(4,"????")%s(4,"????")%s(4,"????")%s(4,"????")%s(4,"????")%s(4,"???")%s(4,"????")%s(4,"????")%s(4,"???S")%s(4,"????")
	:i %s(4,"?&?")%s(4,"????")%s(4,"????")%s(4,"????")%s(4,"???")%s(4,"???")%s(4,"???")%s(4,"???")%s(4,"???")%s(4,"???")
	:i %s(4,"???")%s(4,"???")%s(4,"???")%s(4,"???")%s(4,"???")%s(4,"???"):a}
:i function $create_mp_game_options_horse_word_menu$
	:i $GetPreferenceString$$pref_type$ = $splitscreen$$horse_word$
	:i $create_onscreen_keyboard$$allowed_characters$ = $horse_allowed_characters$$allow_cancel$$keyboard_cancel_script$ = $horse_word_back_from_keyboard$$keyboard_done_script$ = $set_horse_option_preference$$keyboard_title$ = %s(10,"HORSE WORD")$field$ = %s(10,"horse_word")$text$ = %GLOBAL%$ui_string$$min_length$ = %i(1,00000001)$max_length$ = %i(15,0000000f)
:i endfunction
:i function $create_network_game_options_menu$
	:i $dialog_box_exit$
	:i $pause_menu_gradient$$on$
	:i $hide_current_goal$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i $prefs$ = $network$
	:i $hide_net_player_names$$on$
	:i $kill_start_key_binding$
	:i $make_new_skateshop_menu$:s{
		:i $pos$ = %vec2(40.000000,115.000000)
		:i $internal_just$ = :a{$center$$center$:a}
		:i $menu_id$ = $sub_menu$
		:i $vmenu_id$ = $sub_vmenu$
	:i :s}
	:i $create_menu_background_title$$title$ = %s(10,"GAME SETUP")$bg_just$ = $left$$no_grain$
	:i if $GotParam$$end_run$
		:i $SetScreenElementProps$:s{$id$ = $sub_vmenu$$event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_end_run_menu$:s}:s}:a}:s}
	:i else 
		:i $SetScreenElementProps$:s{$id$ = $sub_vmenu$$event_handlers$ = :a{
				:i :s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_pause_menu$:s}:s}
				:i :a}
		:i :s}
	:i endif
	:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$game_type$
	:i if $InNetGame$
		:i $make_thpg_menu_item$:s{$text$ = %s(10,"Game Type ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_game_type$$pad_choose_script$ = $launch_network_host_options_sub_menu$$pad_choose_params$ = :s{$sub_menu_script$ = $create_network_game_options_game_type_menu$:s}:s}
	:i else 
		:i if $GotParam$$end_run$
			:i $make_thpg_menu_item$:s{$text$ = %s(10,"Game Type ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_game_type$$pad_choose_script$ = $launch_network_host_options_sub_menu$$pad_choose_params$ = :s{$end_run$$sub_menu_script$ = $create_mp_game_options_game_type_menu$:s}:s}
		:i else 
			:i $make_thpg_menu_item$:s{$text$ = %s(10,"Game Type ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_game_type$$pad_choose_script$ = $launch_network_host_options_sub_menu$$pad_choose_params$ = :s{$sub_menu_script$ = $create_mp_game_options_game_type_menu$:s}:s}
		:i endif
	:i endif
	:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$game_type$
	:i switch %GLOBAL%$checksum$
		:i case $netgoalattack$
			:i if $IsTrue$$LEVEL_DISABLE_GOAL_ATTACK$
				:i $focus$ = $not_focusable$
				:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$goals$
				:i if  (%GLOBAL%$checksum$ = $goals_created$) 
					:i $SetPreferencesFromUI$:s{$prefs$ = $network$$field$ = %s(5,"goals")$checksum$ = $goals_classic$$string$ = %s(13,"Classic Goals"):s}
				:i endif
			:i endif
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$goals$
			:i $make_thpg_menu_item$:s{$text$ = %s(10,"Goal Type ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_choose_goal_type$$option_arrows$$pad_choose$%GLOBAL%$focus$$option_arrows_callback$ = $toggle_LR_mode$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_choose_goal_type$$id_check$ = $goals$$id_field$ = %s(5,"goals"):s}
			:i :s}
			:i $pad_choose_script$ = $launch_network_host_options_sub_menu$$pad_choose_params$ = :s{$sub_menu_script$ = $create_network_game_options_ctf_mode_menu$$prefs$ = %GLOBAL%$prefs$:s}
			:i $make_thpg_menu_item$:s{$text$ = %s(12,"Choose Goals")$id$ = $menu_network_host_options_choose_goals$$pad_choose_script$ = $create_choose_goals_menu$:s}
			:i if $OnServer$
				:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$goals$
				:i if  (%GLOBAL%$checksum$ = $goals_created$) 
					:i $make_thpg_menu_item$:s{$text$ = %s(18,"Load Created Goals")$pad_choose_script$ = $host_options_goals_sub_menu_exit$$pad_choose_params$ = :s{$new_menu_script$ = $launch_load_created_goals_from_game_options_menu$$from_game_options$ = $from_game_options$:s}:s}
				:i endif
			:i endif
			:i if $GoalManager_GoalsAreSelected$
				:i $make_thpg_menu_item$:s{$text$ = %s(5,"Ready")$id$ = $menu_network_host_options_ready$$pad_choose_script$ = $chosen_host_game$$last_menu_item$ = %i(1,00000001):s}
			:i else 
				:i $make_thpg_menu_item$:s{$text$ = %s(5,"Ready")$id$ = $menu_network_host_options_ready$$pad_choose_script$ = $chosen_host_game$$not_focusable$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$last_menu_item$ = %i(1,00000001):s}
			:i endif
			:i endcase
		case $horse$
			:i endcase
		case $nethorse$
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$horse_time_limit$
			:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$horse_word$
			:i $make_thpg_menu_item$:s{$text$ = %s(11,"Horse Word ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_horse_word$$pad_choose_script$ = $launch_network_host_options_sub_menu$$pad_choose_params$ = :s{$end_run$$sub_menu_script$ = $create_mp_game_options_horse_word_menu$:s}:s}
			:i endcase
		case $freeskate2p$
			:i $make_thpg_menu_item$:s{$text$ = %s(5,"Ready")$id$ = $menu_network_host_options_ready$$pad_choose_script$ = $chosen_host_game$$last_menu_item$ = %i(1,00000001):s}
			:i endcase
		case $graffiti$
			:i endcase
		case $netgraffiti$
			:i if $InTeamGame$
				:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$team_graffiti_mode$
				:i $make_thpg_menu_item$:s{$text$ = %s(13,"Scoring Mode ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_scoring_mode$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_mode$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_scoring_mode$$id_check$ = $team_graffiti_mode$$id_field$ = %s(18,"team_graffiti_mode"):s}:s}
			:i endif
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
			:i if $InNetGame$
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i else 
				:i if $GotParam$$end_run$
					:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
				:i else 
					:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
				:i endif
			:i endif
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$stop_at_zero$
			:i $make_thpg_menu_item$:s{$text$ = %s(13,"Stop at Zero ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_stop_at_zero$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_stop_at_zero$$id_check$ = $stop_at_zero$$id_field$ = %s(12,"stop_at_zero"):s}$bar_length$ = %f(13.000000):s}
			:i endcase
		case $combomambo$
			:i endcase
		case $netcombomambo$
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
			:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$stop_at_zero$
			:i $make_thpg_menu_item$:s{$text$ = %s(13,"Stop at Zero ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_stop_at_zero$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_stop_at_zero$$id_check$ = $stop_at_zero$$id_field$ = %s(12,"stop_at_zero"):s}$bar_length$ = %f(13.000000):s}
			:i endcase
		case $scorechallenge$
			:i endcase
		case $netscorechallenge$
			:i if  ($score_mode$ = $point_scoring$) 
				:i $mode_str$ = %s(13,"Point Scoring")
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $mode_str$ = %s(11,"Tag Scoring")
				:i endif
			:i endif
			:i $GetLevelStructureName$
			:i if NOT $StructureContains$$structure$ = %GLOBAL%$level_structure_name$$DisableGraffiti$
				:i $make_thpg_menu_item$:s{$text$ = %s(5,"Mode ")$extra_text$ = %GLOBAL%$mode_str$$id$ = $MoreOptions_menu_score_type$$option_arrows$$pad_choose$$option_arrows_callback$ = $change_score_type$:s}
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $Change$$score_mode$ = $point_scoring$
				:i endif
			:i endif
			:i switch $score_mode$
				:i case $point_scoring$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$target_score$
					:i if $GotParam$$end_run$
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(100000,000186a0)$max$ = %i(1000000000,3b9aca00)$step$ = %i(100000,000186a0)$end_run$$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i else 
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(100000,000186a0)$max$ = %i(1000000000,3b9aca00)$step$ = %i(100000,000186a0)$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i endif
					:i endcase
				case $tag_scoring$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$target_score$
					:i if $GotParam$$end_run$
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_graff$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(1,00000001)$max$ = %i(200,000000c8)$step$ = %i(1,00000001)$end_run$$id_id$ = $menu_network_host_options_target_graff$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i else 
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_graff$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(1,00000001)$max$ = %i(200,000000c8)$step$ = %i(1,00000001)$id_id$ = $menu_network_host_options_target_graff$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i endif
					:i end_switch
			
			:i endcase
		case $elimiskate$
			:i endcase
		case $netelimiskate$
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
			:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i if  ($score_mode$ = $point_scoring$) 
				:i $mode_str$ = %s(13,"Point Scoring")
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $mode_str$ = %s(11,"Tag Scoring")
				:i endif
			:i endif
			:i $GetLevelStructureName$
			:i if NOT $StructureContains$$structure$ = %GLOBAL%$level_structure_name$$DisableGraffiti$
				:i $make_thpg_menu_item$:s{$text$ = %s(5,"Mode ")$extra_text$ = %GLOBAL%$mode_str$$id$ = $MoreOptions_menu_score_type$$option_arrows$$pad_choose$$option_arrows_callback$ = $change_score_type$:s}
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $Change$$score_mode$ = $point_scoring$
				:i endif
			:i endif
			:i if  ($score_mode$ = $point_scoring$) 
				:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$score_reset$
				:i $make_thpg_menu_item$:s{$text$ = %s(12,"Score Reset ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_score_reset$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_score_reset$$id_check$ = $score_reset$$id_field$ = %s(11,"score_reset"):s}:s}
			:i endif
			:i endcase
		case $king$
			:i endcase
		case $netking$
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$target_score$
			:i if $GotParam$$end_run$
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$end_run$$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
			:i else 
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
			:i endif
			:i endcase
		case $netctf$
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i $make_thpg_menu_item$:s{$text$ = %s(5,"Mode ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_ctf_mode$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_mode$
				:i $option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_ctf_mode$$id_check$ = $ctf_game_type$$id_field$ = %s(13,"ctf_game_type"):s}:s}
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i switch %GLOBAL%$checksum$
				:i case $timed_ctf$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
					:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
					:i endcase
				case $score_ctf$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$target_score$
					:i $make_thpg_menu_item$:s{$text$ = %s(9,"Captures ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$isctf$$min$ = %i(1,00000001)$max$ = %i(50,00000032)$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i end_switch
			
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i switch %GLOBAL%$checksum$
				:i case $timed_ctf$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$stop_at_zero$
					:i $make_thpg_menu_item$:s{$text$ = %s(13,"Stop at Zero ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_stop_at_zero$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_stop_at_zero$$id_check$ = $stop_at_zero$$id_field$ = %s(12,"stop_at_zero"):s}$bar_length$ = %f(13.000000):s}
					:i end_switch
			
			:i endcase
		case $firefight$
			:i endcase
		case $netfirefight$
			:i if $InNetGame$
				:i $Get_firefight_projectile_text$
				:i if NOT $GameModeEquals$$is_lobby$
					:i %GLOBAL%$not_focusable$ = $not_focusable$
				:i endif
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Ammo type: ")$extra_text$ = %GLOBAL%$projectile_text$$id$ = $menu_network_host_options_firefight_ammo$$option_arrows$$pad_choose$$option_arrows_callback$ = $tp_host_option_cycle_firefight_ammo$%GLOBAL%$not_focusable$:s}
				:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$friendly_fire$
				:i $make_thpg_menu_item$:s{$text$ = %s(14,"Friendly Fire ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_friendly_fire$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$onoff$$id_id$ = $menu_network_host_options_friendly_fire$$id_check$ = $friendly_fire$$id_field$ = %s(13,"friendly_fire"):s}:s}
				:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$fireball_difficulty$
				:i $make_thpg_menu_item$:s{$text$ = %s(21,"Fireball Combo Level ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_fireball_difficulty$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(1,00000001)$max$ = %i(5,00000005)$id_id$ = $menu_network_host_options_fireball_difficulty$$id_check$ = $fireball_difficulty$$id_field$ = %s(19,"fireball_difficulty"):s}:s}
			:i endif
			:i endcase
		case $netscavengerhunt$
			:i switch $TP_Scavenger_Hunt_Model$
				:i case $TP_Scavenger_Hunt_Model_Coin$
					:i $extra_text$ = %s(4,"Coin")
					:i endcase
				case $TP_Scavenger_Hunt_Model_Cash$
					:i $extra_text$ = %s(4,"Cash")
					:i endcase
				case $TP_Scavenger_Hunt_Model_Treasure_Chest$
					:i $extra_text$ = %s(14,"Treasure Chest")
					:i endcase
				case $TP_Scavenger_Hunt_Model_SkateBoard$
					:i $extra_text$ = %s(11,"Skateboards")
					:i endcase
				case $TP_Scavenger_Hunt_Model_Food$
					:i $extra_text$ = %s(4,"Food")
					:i endcase
				default 
					:i $extra_text$ = %s(9,"\c2ERROR!")
					:i end_switch
			
			:i if NOT $GameModeEquals$$is_lobby$
				:i %GLOBAL%$not_focusable$ = $not_focusable$
			:i endif
			:i $make_thpg_menu_item$:s{$text$ = %s(9,"Collect: ")$extra_text$ = %GLOBAL%$extra_text$$id$ = $menu_network_host_options_scavenger_objects$$option_arrows$$pad_choose$$option_arrows_callback$ = $tp_host_option_cycle_scavenger_object$%GLOBAL%$not_focusable$:s}
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
			:i if $GotParam$$end_run$
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i else 
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i endif
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$stop_at_zero$
			:i $make_thpg_menu_item$:s{$text$ = %s(13,"Stop at Zero ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_stop_at_zero$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_stop_at_zero$$id_check$ = $stop_at_zero$$id_field$ = %s(12,"stop_at_zero"):s}$bar_length$ = %f(13.000000):s}
			:i endcase
		case $gold$
			:i endcase
		case $netgold$
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i $make_thpg_menu_item$:s{$text$ = %s(5,"Mode ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_ctf_mode$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_mode$
				:i $option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_ctf_mode$$id_check$ = $ctf_game_type$$id_field$ = %s(13,"ctf_game_type"):s}:s}
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$ctf_game_type$
			:i if  (%GLOBAL%$checksum$ = $timed_ctf$) 
				:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
				:i if $GotParam$$end_run$
					:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$end_run$$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
				:i else 
					:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
				:i endif
				:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$stop_at_zero$
				:i $make_thpg_menu_item$:s{$text$ = %s(13,"Stop at Zero ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_stop_at_zero$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_stop_at_zero$$id_check$ = $stop_at_zero$$id_field$ = %s(12,"stop_at_zero"):s}$bar_length$ = %f(13.000000):s}
			:i endif
			:i if  ($score_mode$ = $point_scoring$) 
				:i $mode_str$ = %s(13,"Point Scoring")
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $mode_str$ = %s(11,"Tag Scoring")
				:i endif
			:i endif
			:i $GetLevelStructureName$
			:i if NOT $StructureContains$$structure$ = %GLOBAL%$level_structure_name$$DisableGraffiti$
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Score Mode ")$extra_text$ = %GLOBAL%$mode_str$$id$ = $MoreOptions_menu_score_type$$option_arrows$$pad_choose$$option_arrows_callback$ = $change_score_type$:s}
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $Change$$score_mode$ = $point_scoring$
				:i endif
			:i endif
			:i switch $score_mode$
				:i case $point_scoring$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$target_score$
					:i if $GotParam$$end_run$
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(100000,000186a0)$max$ = %i(1000000000,3b9aca00)$step$ = %i(100000,000186a0)$end_run$$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i else 
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_score$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(100000,000186a0)$max$ = %i(1000000000,3b9aca00)$step$ = %i(100000,000186a0)$id_id$ = $menu_network_host_options_target_score$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i endif
					:i endcase
				case $tag_scoring$
					:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$target_score$
					:i if $GotParam$$end_run$
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_graff$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(1,00000001)$max$ = %i(200,000000c8)$step$ = %i(1,00000001)$end_run$$id_id$ = $menu_network_host_options_target_graff$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i else 
						:i $make_thpg_menu_item$:s{$text$ = %s(13,"Target Score ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_target_graff$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_value$$option_arrows_callback_params$ = :s{$min$ = %i(1,00000001)$max$ = %i(200,000000c8)$step$ = %i(1,00000001)$id_id$ = $menu_network_host_options_target_graff$$id_check$ = $target_score$$id_field$ = %s(12,"target_score"):s}:s}
					:i endif
					:i end_switch
			
			:i endcase
		default 
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$time_limit$
			:i if $GotParam$$end_run$
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i else 
				:i $make_thpg_menu_item$:s{$text$ = %s(11,"Time Limit ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_time_limit$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_game_time$$option_arrows_callback_params$ = :s{$id_id$ = $menu_network_host_options_time_limit$$id_check$ = $time_limit$$id_field$ = %s(10,"time_limit"):s}:s}
			:i endif
			:i $GetPreferenceString$$pref_type$ = %GLOBAL%$prefs$$stop_at_zero$
			:i $make_thpg_menu_item$:s{$text$ = %s(13,"Stop at Zero ")$extra_text$ = %GLOBAL%$ui_string$$id$ = $menu_network_host_options_stop_at_zero$$option_arrows$$pad_choose$$option_arrows_callback$ = $toggle_LR_boolean$$option_arrows_callback_params$ = :s{$yesno$$id_id$ = $menu_network_host_options_stop_at_zero$$id_check$ = $stop_at_zero$$id_field$ = %s(12,"stop_at_zero"):s}$bar_length$ = %f(13.000000):s}
			:i end_switch
	
	:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$game_type$
	:i if  ( (%GLOBAL%$checksum$ = $netgoalattack$)  OR  (%GLOBAL%$checksum$ = $freeskate2p$) ) 
	:i else 
		:i $make_thpg_menu_item$:s{$text$ = %s(5,"Ready")$id$ = $menu_network_host_options_ready$$pad_choose_script$ = $chosen_host_game$$last_menu_item$ = %i(1,00000001):s}
	:i endif
	:i $GoalManager_HideGoalPoints$
	:i $GoalManager_HidePoints$
	:i $create_helper_text$$generic_helper_text$
	:i $FireEvent$$type$ = $focus$$target$ = $sub_vmenu$
:i endfunction
:i function $toggle_LR_boolean$
	:i $prefs$ = $network$
	:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$%GLOBAL%$id_check$
	:i if $GotParam$$onoff$
		:i switch %GLOBAL%$checksum$
			:i case $boolean_true$
				:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $boolean_false$$string$ = %s(3,"Off")
				:i $temp_s$ = %s(3,"Off")
				:i endcase
			case $boolean_false$
				:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $boolean_true$$string$ = %s(2,"On")
				:i $temp_s$ = %s(2,"On")
				:i end_switch
		
	:i else 
		:i if $GotParam$$yesno$
			:i switch %GLOBAL%$checksum$
				:i case $boolean_true$
					:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $boolean_false$$string$ = %s(2,"No")
					:i $temp_s$ = %s(2,"No")
					:i endcase
				case $boolean_false$
					:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $boolean_true$$string$ = %s(3,"Yes")
					:i $temp_s$ = %s(3,"Yes")
					:i end_switch
			
		:i else 
			:i if $GotParam$$truefalse$
				:i switch %GLOBAL%$checksum$
					:i case $boolean_true$
						:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $boolean_false$$string$ = %s(5,"False")
						:i $temp_s$ = %s(5,"False")
						:i endcase
					case $boolean_false$
						:i $SetPreferencesFromUI$$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $boolean_true$$string$ = %s(4,"True")
						:i $temp_s$ = %s(4,"True")
						:i end_switch
				
			:i else 
				:i return
				
			:i endif
		:i endif
	:i endif
	:i $SetScreenElementProps$:s{$id$ = :s{%GLOBAL%$id_id$$child$ = $extra_text$:s}$text$ = %GLOBAL%$temp_s$:s}
:i endfunction
:i function $get_game_time_string$
	:i $new_value$ = %i(4294967295,ffffffff)
	:i $prefs$ = $network$
	:i if NOT $GotParam$$score$
		:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$target_score$
		:i $index$ = %i(0,00000000)
		:i while
			
			:i $FormatText$$checksumname$ = $chk$%s(7,"time_%s")$s$ = %GLOBAL%$index$
			:i if  (%GLOBAL%$chk$ = %GLOBAL%$checksum$) 
				:i %GLOBAL%$new_value$ = %GLOBAL%$index$
				:i continue
				
			:i endif
			:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
		:i loop_to %i(601,00000259)
	:i else 
		:i if  (%GLOBAL%$score$ > %i(999,000003e7)) 
			:i %GLOBAL%$new_value$ =  (%GLOBAL%$score$ / %i(1000,000003e8)) 
		:i else 
			:i %GLOBAL%$new_value$ = %GLOBAL%$score$
		:i endif
	:i endif
	:i $num1$ = %i(0,00000000)
	:i $num2$ = %i(0,00000000)
	:i $temp_s$ = %s(0,"")
	:i if  (%GLOBAL%$new_value$ > %i(59,0000003b)) 
		:i %GLOBAL%$num1$ =  (%GLOBAL%$new_value$ / %i(60,0000003c)) 
		:i %GLOBAL%$num2$ =  (%GLOBAL%$new_value$ -  (%GLOBAL%$num1$ * %i(60,0000003c)) ) 
		:i if  (%GLOBAL%$num2$ < %i(10,0000000a)) 
			:i if  (%GLOBAL%$num2$ = %i(0,00000000)) 
				:i if  (%GLOBAL%$num1$ = %i(1,00000001)) 
					:i $FormatText$$TextName$ = $temp$%s(13,"%a:0%b minute")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
				:i else 
					:i $FormatText$$TextName$ = $temp$%s(14,"%a:0%b minutes")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
				:i endif
			:i else 
				:i $FormatText$$TextName$ = $temp$%s(14,"%a:0%b minutes")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
			:i endif
		:i else 
			:i $FormatText$$TextName$ = $temp$%s(13,"%a:%b minutes")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
		:i endif
		:i %GLOBAL%$temp_s$ = %GLOBAL%$temp$
	:i else 
		:i %GLOBAL%$num2$ = %GLOBAL%$new_value$
		:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
			:i $FormatText$$TextName$ = $temp$%s(13,"%a:0%b second")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
		:i else 
			:i if  (%GLOBAL%$new_value$ < %i(10,0000000a)) 
				:i $FormatText$$TextName$ = $temp$%s(14,"%a:0%b seconds")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
			:i else 
				:i $FormatText$$TextName$ = $temp$%s(13,"%a:%b seconds")$a$ = %GLOBAL%$num1$$b$ = %GLOBAL%$num2$
			:i endif
		:i endif
		:i %GLOBAL%$temp_s$ = %GLOBAL%$temp$
	:i endif
	:i return
	$time_string$ = %GLOBAL%$temp_s$
:i endfunction
:i function $toggle_LR_game_time$
	:i $min$ = %i(1,00000001)
	:i $max$ = %i(600,00000258)
	:i $step$ = %i(1,00000001)
	:i $prefs$ = $network$
	:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$%GLOBAL%$id_check$
	:i $index$ = %GLOBAL%$min$
	:i while
		
		:i $FormatText$$checksumname$ = $chk$%s(7,"time_%s")$s$ = %GLOBAL%$index$
		:i if  (%GLOBAL%$chk$ = %GLOBAL%$checksum$) 
			:i $new_value$ = %GLOBAL%$index$
			:i continue
			
		:i endif
		:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
	:i loop_to  (%GLOBAL%$max$ + %i(1,00000001)) 
	:i $temp_array$ = :a{:s{$min$ = %i(1,00000001)$max$ = %i(4,00000004)$step$ = %i(1,00000001):s}:s{$min$ = %i(5,00000005)$max$ = %i(59,0000003b)$step$ = %i(5,00000005):s}:s{$min$ = %i(60,0000003c)$max$ = %i(299,0000012b)$step$ = %i(30,0000001e):s}:s{$min$ = %i(300,0000012c)$max$ = %i(600,00000258)$step$ = %i(60,0000003c):s}:a}
	:i if $GotParam$$Right$
		:i $variable_step$$Right$$value$ = %GLOBAL%$new_value$$array$ = %GLOBAL%$temp_array$
	:i else 
		:i if $GotParam$$left$
			:i $variable_step$$left$$value$ = %GLOBAL%$new_value$$array$ = %GLOBAL%$temp_array$
		:i endif
	:i endif
	:i if $GotParam$$new_number$
		:i %GLOBAL%$new_value$ = %GLOBAL%$new_number$
	:i endif
	:i $FormatText$$checksumname$ = $chk$%s(7,"time_%s")$s$ = %GLOBAL%$new_value$
	:i $get_game_time_string$$score$ = %GLOBAL%$new_value$
	:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = %GLOBAL%$chk$$string$ = %GLOBAL%$time_string$$time$ = %GLOBAL%$new_value$:s}
	:i $SetScreenElementProps$:s{$id$ = :s{%GLOBAL%$id_id$$child$ = $extra_text$:s}$text$ = %GLOBAL%$time_string$:s}
:i endfunction
:i function $toggle_LR_value$
	:i if $GotParam$$min$
		:i $min$ = %GLOBAL%$min$
	:i else 
		:i $min$ = %i(0,00000000)
	:i endif
	:i if $GotParam$$max$
		:i $max$ = %GLOBAL%$max$
	:i else 
		:i $max$ = %i(1000,000003e8)
	:i endif
	:i if $GotParam$$step$
		:i $step$ = %GLOBAL%$step$
	:i else 
		:i $step$ = %i(1,00000001)
	:i endif
	:i $prefs$ = $network$
	:i $index$ = %GLOBAL%$min$
	:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$%GLOBAL%$id_check$
	:i if  (%GLOBAL%$id_check$ = $fireball_difficulty$) 
		:i while
			
			:i $FormatText$$checksumname$ = $chk$%s(6,"num_%s")$s$ = %GLOBAL%$index$
			:i if  (%GLOBAL%$chk$ = %GLOBAL%$checksum$) 
				:i $new_value$ = %GLOBAL%$index$
				:i continue
				
			:i endif
			:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %GLOBAL%$step$) 
		:i loop_to %GLOBAL%$max$
	:i else 
		:i if  (%GLOBAL%$id_check$ = $target_score$) 
			:i while
				
				:i $FormatText$$checksumname$ = $chk$%s(8,"score_%s")$s$ = %GLOBAL%$index$
				:i if  (%GLOBAL%$chk$ = %GLOBAL%$checksum$) 
					:i $new_value$ = %GLOBAL%$index$
					:i continue
					
				:i endif
				:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %GLOBAL%$step$) 
			:i loop_to %GLOBAL%$max$
		:i endif
	:i endif
	:i if  (%GLOBAL%$id_check$ = $target_score$) 
		:i if $GotParam$$isctf$
			:i $temp_array$ = :a{:s{$min$ = %i(1,00000001)$max$ = %i(50,00000032)$step$ = %i(1,00000001):s}:a}
		:i else 
			:i if  ($score_mode$ = $point_scoring$) 
				:i $temp_array$ = :a{:s{$min$ = %i(100000,000186a0)$max$ = %i(999999,000f423f)$step$ = %i(100000,000186a0):s}:s{$min$ = %i(1000000,000f4240)$max$ = %i(4999999,004c4b3f)$step$ = %i(1000000,000f4240):s}:s{$min$ = %i(5000000,004c4b40)$max$ = %i(24999999,017d783f)$step$ = %i(5000000,004c4b40):s}:s{$min$ = %i(25000000,017d7840)$max$ = %i(99999999,05f5e0ff)$step$ = %i(25000000,017d7840):s}:s{$min$ = %i(100000000,05f5e100)$max$ = %i(1000000000,3b9aca00)$step$ = %i(100000000,05f5e100):s}:a}
			:i else 
				:i if  ($score_mode$ = $tag_scoring$) 
					:i $temp_array$ = :a{:s{$min$ = %i(1,00000001)$max$ = %i(15,0000000f)$step$ = %i(1,00000001):s}:s{$min$ = %i(16,00000010)$max$ = %i(19,00000013)$step$ = %i(4,00000004):s}:s{$min$ = %i(20,00000014)$max$ = %i(49,00000031)$step$ = %i(5,00000005):s}:s{$min$ = %i(50,00000032)$max$ = %i(200,000000c8)$step$ = %i(10,0000000a):s}:a}
				:i else 
					:i $temp_array$ = :a{:s{$min$ = %i(1,00000001)$max$ = %i(100,00000064)$step$ = %i(1,00000001):s}:a}
				:i endif
			:i endif
		:i endif
	:i else 
		:i $temp_array$ = :a{:s{$min$ = %i(1,00000001)$max$ = %i(5,00000005)$step$ = %i(1,00000001):s}:a}
	:i endif
	:i if $GotParam$$Right$
		:i $variable_step$$Right$$value$ = %GLOBAL%$new_value$$array$ = %GLOBAL%$temp_array$
	:i else 
		:i if $GotParam$$left$
			:i $variable_step$$left$$value$ = %GLOBAL%$new_value$$array$ = %GLOBAL%$temp_array$
		:i endif
	:i endif
	:i if $GotParam$$new_number$
		:i %GLOBAL%$new_value$ = %GLOBAL%$new_number$
	:i endif
	:i if  (%GLOBAL%$id_check$ = $fireball_difficulty$) 
		:i $FormatText$$checksumname$ = $chk$%s(6,"num_%s")$s$ = %GLOBAL%$new_value$
		:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
			:i $FormatText$$TextName$ = $txt$%s(9,"%s (easy)")$s$ = %GLOBAL%$new_value$
		:i else 
			:i if  (%GLOBAL%$new_value$ = %i(5,00000005)) 
				:i $FormatText$$TextName$ = $txt$%s(9,"%s (hard)")$s$ = %GLOBAL%$new_value$
			:i else 
				:i $FormatText$$TextName$ = $txt$%s(2,"%s")$s$ = %GLOBAL%$new_value$
			:i endif
		:i endif
		:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = %GLOBAL%$chk$$string$ = %GLOBAL%$txt$$fireball_level$ = %GLOBAL%$new_value$:s}
	:i else 
		:i if  (%GLOBAL%$id_check$ = $target_score$) 
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$game_type$
			:i $FormatText$$checksumname$ = $chk$%s(8,"score_%s")$s$ = %GLOBAL%$new_value$
			:i if  (%GLOBAL%$checksum$ = $netctf$) 
				:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
					:i $FormatText$$TextName$ = $txt$%s(10,"%s capture")$s$ = %GLOBAL%$new_value$
				:i else 
					:i $FormatText$$TextName$ = $txt$%s(11,"%s captures")$s$ = %GLOBAL%$new_value$
				:i endif
			:i else 
				:i if  ( (%GLOBAL%$checksum$ = $netgold$)  OR  (%GLOBAL%$checksum$ = $gold$) ) 
					:i if  ($score_mode$ = $tag_scoring$) 
						:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
							:i $FormatText$$TextName$ = $txt$%s(6,"%s tag")$s$ = %GLOBAL%$new_value$
						:i else 
							:i $FormatText$$TextName$ = $txt$%s(7,"%s tags")$s$ = %GLOBAL%$new_value$
						:i endif
					:i else 
						:i if  ($score_mode$ = $point_scoring$) 
							:i $get_points_string_with_commas$$score$ = %GLOBAL%$new_value$
							:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
								:i $FormatText$$TextName$ = $txt$%s(8,"%s point")$s$ = %GLOBAL%$points_string$
							:i else 
								:i $FormatText$$TextName$ = $txt$%s(9,"%s points")$s$ = %GLOBAL%$points_string$
							:i endif
						:i endif
					:i endif
				:i else 
					:i if  ( (%GLOBAL%$checksum$ = $netscorechallenge$)  OR  (%GLOBAL%$checksum$ = $scorechallenge$) ) 
						:i if  ($score_mode$ = $tag_scoring$) 
							:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
								:i $FormatText$$TextName$ = $txt$%s(6,"%s tag")$s$ = %GLOBAL%$new_value$
							:i else 
								:i $FormatText$$TextName$ = $txt$%s(7,"%s tags")$s$ = %GLOBAL%$new_value$
							:i endif
						:i else 
							:i if  ($score_mode$ = $point_scoring$) 
								:i $get_points_string_with_commas$$score$ = %GLOBAL%$new_value$
								:i if  (%GLOBAL%$new_value$ = %i(1,00000001)) 
									:i $FormatText$$TextName$ = $txt$%s(8,"%s point")$s$ = %GLOBAL%$points_string$
								:i else 
									:i $FormatText$$TextName$ = $txt$%s(9,"%s points")$s$ = %GLOBAL%$points_string$
								:i endif
							:i endif
						:i endif
					:i endif
				:i endif
			:i endif
		:i endif
		:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = %GLOBAL%$chk$$string$ = %GLOBAL%$txt$$score$ = %GLOBAL%$new_value$:s}
	:i endif
	:i $SetScreenElementProps$:s{$id$ = :s{%GLOBAL%$id_id$$child$ = $extra_text$:s}$text$ = %GLOBAL%$txt$:s}
:i endfunction
:i function $toggle_LR_mode$
	:i $prefs$ = $network$
	:i $txt$ = %s(0,"")
	:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$%GLOBAL%$id_check$
	:i switch %GLOBAL%$checksum$
		:i case $timed_ctf$
			:i $GetPreferenceChecksum$$pref_type$ = %GLOBAL%$prefs$$game_type$
			:i if  ( (%GLOBAL%$checksum$ = $netgold$)  OR  (%GLOBAL%$checksum$ = $gold$) ) 
				:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $score_ctf$$string$ = %s(15,"Use Score Limit"):s}
				:i %GLOBAL%$txt$ = %s(15,"Use Score Limit")
			:i else 
				:i if  ( (%GLOBAL%$checksum$ = $netctf$)  OR  (%GLOBAL%$checksum$ = $ctf$) ) 
					:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $score_ctf$$string$ = %s(17,"Use Capture Limit"):s}
					:i %GLOBAL%$txt$ = %s(17,"Use Capture Limit")
				:i endif
			:i endif
			:i endcase
		case $score_ctf$
			:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $timed_ctf$$string$ = %s(14,"Use Time Limit"):s}
			:i %GLOBAL%$txt$ = %s(14,"Use Time Limit")
			:i endcase
		case $graffiti_team_scoring$
			:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $graffiti_individual_scoring$$string$ = %s(10,"Individual"):s}
			:i %GLOBAL%$txt$ = %s(10,"Individual")
			:i endcase
		case $graffiti_individual_scoring$
			:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $graffiti_team_scoring$$string$ = %s(8,"Combined"):s}
			:i %GLOBAL%$txt$ = %s(8,"Combined")
			:i endcase
		case $goals_classic$
			:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $goals_created$$string$ = %s(13,"Created Goals"):s}
			:i %GLOBAL%$txt$ = %s(13,"Created Goals")
			:i endcase
		case $goals_created$
			:i $SetPreferencesFromUI$:s{$prefs$ = %GLOBAL%$prefs$$field$ = %GLOBAL%$id_field$$checksum$ = $goals_classic$$string$ = %s(13,"Classic Goals"):s}
			:i %GLOBAL%$txt$ = %s(13,"Classic Goals")
			:i end_switch
	
	:i $SetScreenElementProps$:s{$id$ = :s{%GLOBAL%$id_id$$child$ = $extra_text$:s}$text$ = %GLOBAL%$txt$:s}
	:i $create_network_game_options_menu$
	:i $FireEvent$$type$ = $unfocus$$target$ = $sub_vmenu$
	:i $FireEvent$$type$ = $focus$$target$ = $sub_vmenu$$data$ = :s{$child_id$ = %GLOBAL%$id_id$:s}
:i endfunction
:i function $variable_step$
	:i if NOT $GotParam$$array$
		:i return
		
	:i endif
	:i if NOT $GotParam$$value$
		:i return
		
	:i endif
	:i $new_value$ = %GLOBAL%$value$
	:i $index$ = %i(0,00000000)
	:i $GetArraySize$%GLOBAL%$array$
	:i $step$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$step$) 
	:i $abs_min$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$min$) 
	:i $abs_max$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$max$) 
	:i if  (%GLOBAL%$array_size$ > %i(1,00000001)) 
		:i %GLOBAL%$abs_max$ =  ( (%GLOBAL%$array$:a{ (%GLOBAL%$array_size$ - %i(1,00000001)) :a}) ->$max$) 
	:i endif
	:i while
		
		:i if  (%GLOBAL%$new_value$ >  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$min$) ) 
			:i if  (%GLOBAL%$new_value$ <  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$max$) ) 
				:i %GLOBAL%$step$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$step$) 
				:i continue
				
			:i else 
				:i if  (%GLOBAL%$new_value$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$max$) ) 
					:i %GLOBAL%$step$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$step$) 
					:i continue
					
				:i else 
					:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
				:i endif
			:i endif
		:i else 
			:i if  (%GLOBAL%$new_value$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$min$) ) 
				:i if $GotParam$$left$
					:i if  (%GLOBAL%$index$ = %i(0,00000000)) 
						:i %GLOBAL%$step$ =  ( (%GLOBAL%$array$:a{ (%GLOBAL%$array_size$ - %i(1,00000001)) :a}) ->$step$) 
					:i else 
						:i %GLOBAL%$step$ =  ( (%GLOBAL%$array$:a{ (%GLOBAL%$index$ - %i(1,00000001)) :a}) ->$step$) 
					:i endif
				:i else 
					:i %GLOBAL%$step$ =  ( (%GLOBAL%$array$:a{%GLOBAL%$index$:a}) ->$step$) 
				:i endif
				:i continue
				
			:i endif
		:i endif
	:i loop_to %GLOBAL%$array_size$
	:i if $GotParam$$Right$
		:i %GLOBAL%$new_value$ =  (%GLOBAL%$new_value$ + %GLOBAL%$step$) 
		:i if  (%GLOBAL%$new_value$ > %GLOBAL%$abs_max$) 
			:i %GLOBAL%$new_value$ = %GLOBAL%$abs_min$
		:i endif
	:i else 
		:i if $GotParam$$left$
			:i %GLOBAL%$new_value$ =  (%GLOBAL%$new_value$ - %GLOBAL%$step$) 
			:i if  (%GLOBAL%$new_value$ < %GLOBAL%$abs_min$) 
				:i %GLOBAL%$new_value$ = %GLOBAL%$abs_max$
			:i endif
		:i endif
	:i endif
	:i return
	$new_number$ = %GLOBAL%$new_value$
:i endfunction
:i function $create_pre_network_host_options_menu$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i if $ObjectExists$$id$ = $current_menu$
		:i $DestroyScreenElement$$id$ = $current_menu$
	:i endif
	:i $destroy_menu_background_title$
	:i $make_new_skateshop_menu$:s{
		:i $pos$ = %vec2(40.000000,115.000000)
		:i $internal_just$ = :a{$left$$center$:a}
		:i $menu_id$ = $pre_host_options_menu$
		:i $vmenu_id$ = $pre_host_options_vmenu$
	:i :s}
	:i if NOT $levelIs$$Load_MainMenu$
		:i $SetScreenElementProps$:s{
			:i $id$ = $pre_host_options_vmenu$
			:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back_sound$:s}:s{$pad_back$$create_pause_menu$$params$ = :s{:s}:s}:a}
			:i $replace_handlers$
		:i :s}
	:i else 
		:i $SetScreenElementProps$:s{
			:i $id$ = $pre_host_options_vmenu$
			:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back_sound$:s}:s{$pad_back$$create_setup_options_menu$$params$ = :s{:s}:s}:a}
			:i $replace_handlers$
		:i :s}
	:i endif
	:i if NOT $OnServer$
		:i %GLOBAL%$focusable$ = $not_focusable$
	:i endif
	:i $create_menu_background_title$$title$ = %s(12,"host options")$bg_just$ = $left$$no_grain$
	:i $make_thpg_menu_item$:s{
		:i $text$ = %s(14,"server options")
		:i $pad_choose_script$ = $create_network_host_options_menu$
		:i $id$ = $server_options_menu_item$
	:i :s}
	:i $make_thpg_menu_item$:s{
		:i $text$ = %s(14,"game modifiers")
		:i $pad_choose_script$ = $create_game_modifiers_menu$
		:i $id$ = $game_modifiers_menu_item$
		:i %GLOBAL%$focusable$
	:i :s}
	:i $make_thpg_menu_item$:s{
		:i $text$ = %s(13,"level options")
		:i $pad_choose_script$ = $create_level_options_menu$
		:i $id$ = $level_options_menu_item$
		:i %GLOBAL%$focusable$
	:i :s}
	:i $make_thpg_menu_item$:s{
		:i $text$ = %s(16,"autoserver setup")
		:i $pad_choose_script$ = $AutoServerMenu_Create_Menu$
		:i $id$ = $autoserver_menu_item$
		:i %GLOBAL%$focusable$
	:i :s}
	:i $create_helper_text$$generic_helper_text$
	:i $AssignAlias$$id$ = $pre_host_options_vmenu$$alias$ = $current_menu$
	:i $FireEvent$$type$ = $focus$$target$ = $current_menu$
:i endfunction
:i function $create_network_host_options_menu$
	:i if $ScreenElementExists$$id$ = $current_menu$
		:i $DestroyScreenElement$$id$ = $current_menu$
	:i endif
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $Change$$in_server_options$ = %i(1,00000001)
	:i $dialog_box_exit$
	:i $title_text$ = %s(14,"server options")
	:i $kill_start_key_binding$
	:i if $levelIs$$Load_MainMenu$
		:i $KillSkaterCamAnim$$all$
		:i $PlaySkaterCamAnim$$skater$ = %i(0,00000000)$Name$ = $skateshop_board_select_cam$$play_hold$
	:i else 
		:i $pause_menu_gradient$$on$
	:i endif
	:i $create_menu_background_title$$title$ = %GLOBAL%$title_text$$bg_just$ = $left$$no_grain$
	:i $make_new_skateshop_menu$:s{
		:i $pos$ = %vec2(40.000000,115.000000)
		:i $internal_just$ = :a{$center$$center$:a}
		:i $menu_id$ = $host_options_menu$
		:i $vmenu_id$ = $host_options_vmenu$
	:i :s}
	:i if NOT $levelIs$$Load_MainMenu$
		:i $SetScreenElementProps$:s{
			:i $id$ = $host_options_vmenu$
			:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_pre_network_host_options_menu$:s}:s}:a}
		:i :s}
	:i else 
		:i $SetScreenElementProps$:s{
			:i $id$ = $host_options_vmenu$
			:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $back_from_internet_host_options$:s}:s}:a}
		:i :s}
	:i endif
	:i if $IsInternetGameHost$
		:i $SetScreenElementProps$:s{
			:i $id$ = $host_options_menu$
			:i $event_handlers$ = :a{:s{$pad_back$$quit_game$:s}:a}
		:i :s}
	:i else 
		:i if NOT $levelIs$$Load_MainMenu$
			:i $SetScreenElementProps$:s{
				:i $id$ = $host_options_vmenu$
				:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_pre_network_host_options_menu$:s}:s}:a}
			:i :s}
		:i else 
			:i $SetScreenElementProps$:s{
				:i $id$ = $host_options_vmenu$
				:i $event_handlers$ = :a{:s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $back_from_internet_host_options$:s}:s}:a}
			:i :s}
		:i endif
	:i endif
	:i if $InNetGame$
		:i if $OnServer$
			:i $actual_server$ = %i(1,00000001)
		:i else 
			:i $actual_server$ = %i(0,00000000)
		:i endif
	:i else 
		:i $actual_server$ = %i(1,00000001)
	:i endif
	:i if  (%GLOBAL%$actual_server$ = %i(1,00000001)) 
		:i $GetPreferenceString$$pref_type$ = $network$$server_name$
		:i $make_thpg_menu_item$:s{
			:i $parent$ = $host_options_vmenu$
			:i $text$ = %s(5,"Name:")
			:i $extra_text$ = %GLOBAL%$ui_string$
			:i $id$ = $menu_network_host_options_server_name$
			:i $pad_choose_script$ = $create_network_host_options_server_name_menu$
			:i $first_item$
		:i :s}
	:i endif
	:i if NOT $InNetGame$
		:i $GetPreferenceString$$pref_type$ = $network$$level$
		:i if  (%GLOBAL%$ui_string$ = %s(12,"Created Park")) 
			:i $GetCustomParkName$
			:i if  (%GLOBAL%$Name$ = %s(0,"")) 
				:i %GLOBAL%$Name$ = %s(12,"Unnamed park")
			:i endif
			:i %GLOBAL%$ui_string$ = %GLOBAL%$Name$
		:i endif
		:i $make_thpg_menu_item$:s{
			:i $parent$ = $host_options_vmenu$
			:i $text$ = %s(6,"Level:")
			:i $extra_text$ = %GLOBAL%$ui_string$
			:i $id$ = $menu_network_host_options_level$
			:i $pad_choose_script$ = $launch_level_select_menu$
			:i $pad_choose_params$ = :s{$from_server_options$:s}
		:i :s}
	:i endif
	:i if $GameModeEquals$$is_goal_attack$
		:i if  (%GLOBAL%$actual_server$ = %i(1,00000001)) 
			:i $GetPreferenceString$$pref_type$ = $network$$level$
			:i $GetPreferenceChecksum$$pref_type$ = $network$$level$
			:i if  (%GLOBAL%$checksum$ = $load_sk5ed_gameplay$) 
				:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(5,"goals")$string$ =  ( ( ($net_goal_info$) :a{%i(1,00000001):a}) ->$Name$) $checksum$ =  ( ( ($net_goal_info$) :a{%i(1,00000001):a}) ->$checksum$) 
				:i %GLOBAL%$not_focusable$ = $not_focusable$
			:i else 
				:i $GoalEditor$.$GetNumEditedGoals$$level$ = %GLOBAL%$checksum$
				:i if  (%GLOBAL%$NumGoals$ = %i(0,00000000)) 
					:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(5,"goals")$string$ =  ( ( ($net_goal_info$) :a{%i(0,00000000):a}) ->$Name$) $checksum$ =  ( ( ($net_goal_info$) :a{%i(0,00000000):a}) ->$checksum$) 
				:i endif
			:i endif
			:i $GetPreferenceString$$pref_type$ = $network$$goals$
			:i if NOT $GoalManager_HasActiveGoals$
				:i $make_thpg_menu_item$:s{
					:i $text$ = %s(10,"Load Goals")
					:i $pad_choose_script$ = $host_options_goals_sub_menu_exit$
					:i $pad_choose_params$ = :s{$new_menu_script$ = $launch_load_created_goals_from_host_goals_menu$:s}
				:i :s}
			:i endif
		:i endif
	:i endif
	:i $GetPreferenceString$$pref_type$ = $network$$num_players$
	:i $make_thpg_menu_item$:s{
		:i $parent$ = $host_options_vmenu$
		:i $text$ = %s(8,"Players:")
		:i $extra_text$ = %GLOBAL%$ui_string$
		:i $id$ = $menu_network_host_options_max_players$
		:i $option_arrows$$pad_choose$
		:i $option_arrows_callback$ = $tp_host_option_cycle_num_players$
	:i :s}
	:i $GetPreferenceString$$pref_type$ = $network$$num_observers$
	:i $make_thpg_menu_item$:s{
		:i $parent$ = $host_options_vmenu$
		:i $text$ = %s(10,"Observers:")
		:i $extra_text$ = %GLOBAL%$ui_string$
		:i $id$ = $menu_network_host_options_max_observers$
		:i $option_arrows$$pad_choose$
		:i $option_arrows_callback$ = $tp_host_option_cycle_num_observers$
	:i :s}
	:i if NOT $InNetGame$
		:i $GetPreferenceString$$pref_type$ = $network$$team_mode$
		:i $make_thpg_menu_item$:s{
			:i $parent$ = $host_options_vmenu$
			:i $text$ = %s(6,"Teams:")
			:i $extra_text$ = %GLOBAL%$ui_string$
			:i $id$ = $menu_network_host_options_player_team$
			:i $option_arrows$$pad_choose$
			:i $option_arrows_callback$ = $tp_host_option_cycle_team_mode$
		:i :s}
	:i else 
		:i if $GameModeEquals$$is_lobby$
			:i if $IsHost$
				:i if $OnServer$
					:i $GetPreferenceString$$pref_type$ = $network$$team_mode$
					:i $make_thpg_menu_item$:s{
						:i $parent$ = $host_options_vmenu$
						:i $text$ = %s(6,"Teams:")
						:i $extra_text$ = %GLOBAL%$ui_string$
						:i $id$ = $menu_network_host_options_player_team$
						:i $option_arrows$$pad_choose$
						:i $option_arrows_callback$ = $tp_host_option_cycle_team_mode$
					:i :s}
				:i else 
					:i $GetPreferenceString$$pref_type$ = $network$$team_mode$
					:i $make_thpg_menu_item$:s{
						:i $parent$ = $host_options_vmenu$
						:i $text$ = %s(6,"Teams:")
						:i $extra_text$ = %GLOBAL%$ui_string$
						:i $id$ = $menu_network_host_options_player_team$
						:i $option_arrows$$pad_choose$
						:i $option_arrows_callback$ = $tp_host_option_cycle_team_mode$
					:i :s}
				:i endif
			:i endif
		:i endif
	:i endif
	:i if $IsHost$
		:i if NOT  (%GLOBAL%$actual_server$ = %i(1,00000001)) 
			:i %GLOBAL%$last_menu_item$ = $last_menu_item$
		:i endif
		:i $GetPreferenceString$$pref_type$ = $network$$player_collision$
		:i $make_thpg_menu_item$:s{
			:i $parent$ = $host_options_vmenu$
			:i $text$ = %s(10,"Collision:")
			:i $extra_text$ = %GLOBAL%$ui_string$
			:i $id$ = $menu_network_host_options_player_collision$
			:i $option_arrows$$pad_choose$
			:i $option_arrows_callback$ = $tp_host_option_cycle_player_collision$
		:i :s}
	:i endif
	:i $GetPreferenceString$$pref_type$ = $network$$skill_level$
	:i $make_thpg_menu_item$:s{
		:i $parent$ = $host_options_vmenu$
		:i $text$ = %s(12,"Skill Level:")
		:i $extra_text$ = %GLOBAL%$ui_string$
		:i $id$ = $menu_network_host_options_skill_level$
		:i $option_arrows$$pad_choose$
		:i $option_arrows_callback$ = $tp_host_option_cycle_skill_level$
	:i :s}
	:i if $OnServer$
		:i if $GameModeEquals$$is_lobby$
			:i $GetPreferencePassword$$pref_type$ = $network$$password$
			:i $make_thpg_menu_item$:s{
				:i $parent$ = $host_options_vmenu$
				:i $text$ = %s(9,"Password:")
				:i $extra_text$ = %GLOBAL%$password_string$
				:i $id$ = $menu_network_host_options_password$
				:i $pad_choose_script$ = $create_network_host_options_password_menu$
			:i :s}
			:i if NOT $IsHost$
				:i %GLOBAL%$not_focusables$ = $not_focusable$
			:i endif
			:i $PrintStruct$%GLOBAL%$not_focusables$
		:i else 
			:i $GetPreferencePassword$$pref_type$ = $network$$password$
			:i $make_thpg_menu_item$:s{
				:i $parent$ = $host_options_vmenu$
				:i $text$ = %s(9,"Password:")
				:i $extra_text$ = %GLOBAL%$password_string$
				:i $id$ = $menu_network_host_options_password$
				:i $pad_choose_script$ = $create_network_host_options_password_menu$
			:i :s}
		:i endif
	:i endif
	:i if $IsTrue$$allow_client_script_mods$
		:i %GLOBAL%$script_mods_extra_text$ = %s(2,"On")
	:i else 
		:i %GLOBAL%$script_mods_extra_text$ = %s(3,"Off")
	:i endif
	:i $make_thpg_menu_item$:s{$parent$ = $host_options_vmenu$$text$ = %s(18,"Allow Script Mods:")$extra_text$ = %GLOBAL%$script_mods_extra_text$$option_arrows$$pad_choose$$option_arrows_callback$ = $network_host_options_toggle_script_mods$$id$ = $menu_network_host_options_script_mods$$bar_length$ = %f(15.000000):s}
	:i if NOT $InNetGame$
		:i $focusable$ = :s{:s}
		:i $GetPreferenceChecksum$$pref_type$ = $network$$level$
		:i if  (%GLOBAL%$checksum$ = $load_sk5ed_gameplay$) 
			:i $GetParkEditorMaxPlayers$
			:i $GetNetworkNumPlayers$
			:i if  (%GLOBAL%$num_players$ > %GLOBAL%$MaxPlayers$) 
				:i $focusable$ = :s{$not_focusable$:s}
			:i endif
		:i endif
		:i $make_thpg_menu_item$:s{
			:i $parent$ = $host_options_vmenu$
			:i $text$ = %s(5,"Ready")
			:i $id$ = $menu_network_host_options_ready$
			:i $pad_choose_script$ = $chosen_host_game$
			:i $last_menu_item$ = $last_menu_item$
		:i :s}
	:i endif
	:i $create_helper_text$$generic_helper_text$
	:i $FireEvent$$type$ = $focus$$target$ = $host_options_vmenu$
:i endfunction
:i $allow_client_script_mods$ = %i(0,00000000)
:i function $network_host_options_toggle_script_mods$
	:i $GetTags$
	:i if $IsTrue$$allow_client_script_mods$
		:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(3,"Off")
		:i $Change$$allow_client_script_mods$ = %i(0,00000000)
		:i $THUGPRO_SetProxyGlobal$$global$ = $g_host_allow_mods$$value$ = %i(0,00000000)
	:i else 
		:i $SetScreenElementProps$$id$ = :s{%GLOBAL%$id$$child$ = $extra_text$:s}$text$ = %s(2,"On")
		:i $Change$$allow_client_script_mods$ = %i(1,00000001)
		:i $THUGPRO_SetProxyGlobal$$global$ = $g_host_allow_mods$$value$ = %i(1,00000001)
	:i endif
:i endfunction
:i function $set_ready_focus$
	:i $FireEvent$$type$ = $unfocus$$target$ = $host_options_vmenu$
	:i $FireEvent$$type$ = $focus$$target$ = $host_options_vmenu$$data$ = :s{$child_id$ = $menu_network_host_options_ready$:s}
:i endfunction
:i $NoGameTypesSelected$ = %i(0,00000000)
:i function $CheckForEnabledGameTypes$
	:i if $IntegerEquals$$a$ = %GLOBAL%$enabled$$b$ = %i(1,00000001)
		:i $Change$$NoGameTypesSelected$ = %i(0,00000000)
	:i endif
:i endfunction
:i function $MaybeDisableGameTypes$
	:i if $levelIs$$load_practice$
		:i $temp_array$ = $net_game_type_info$
		:i if $IntegerEquals$$a$ = %GLOBAL%$enabled$$b$ = %i(1,00000001)
			:i if $CheckSumEquals$$a$ = %GLOBAL%$checksum$$b$ = $netgraffiti$
				:i $temp_struct$ = :s{
					:i $Name$ = %GLOBAL%$Name$
					:i $description$ = %GLOBAL%$description$
					:i $checksum$ = %GLOBAL%$checksum$
					:i $goal_script$ = %GLOBAL%$goal_script$
					:i $icon$ = %GLOBAL%$icon$
					:i $enabled$ = %i(2,00000002)
				:i :s}
				:i $SetArrayElement$:s{
					:i $arrayname$ = $temp_array$
					:i $index$ = %i(7,00000007)
					:i $newvalue$ = %GLOBAL%$temp_struct$
				:i :s}
			:i endif
			:i if $CheckSumEquals$$a$ = %GLOBAL%$checksum$$b$ = $netctf$
				:i $temp_struct$ = :s{
					:i $Name$ = %GLOBAL%$Name$
					:i $description$ = %GLOBAL%$description$
					:i $checksum$ = %GLOBAL%$checksum$
					:i $goal_script$ = %GLOBAL%$goal_script$
					:i $icon$ = %GLOBAL%$icon$
					:i $enabled$ = %i(2,00000002)
				:i :s}
				:i $SetArrayElement$:s{
					:i $arrayname$ = $temp_array$
					:i $index$ = %i(9,00000009)
					:i $newvalue$ = %GLOBAL%$temp_struct$
				:i :s}
			:i endif
		:i endif
	:i else 
		:i $temp_array$ = $net_game_type_info$
		:i if $IntegerEquals$$a$ = %GLOBAL%$enabled$$b$ = %i(2,00000002)
			:i if $CheckSumEquals$$a$ = %GLOBAL%$checksum$$b$ = $netgraffiti$
				:i $temp_struct$ = :s{
					:i $Name$ = %GLOBAL%$Name$
					:i $description$ = %GLOBAL%$description$
					:i $checksum$ = %GLOBAL%$checksum$
					:i $goal_script$ = %GLOBAL%$goal_script$
					:i $icon$ = %GLOBAL%$icon$
					:i $enabled$ = %i(1,00000001)
				:i :s}
				:i $SetArrayElement$:s{
					:i $arrayname$ = 
					:i $temp_array$
					:i $index$ = %i(7,00000007)
					:i $newvalue$ = %GLOBAL%$temp_struct$
				:i :s}
			:i endif
			:i if $CheckSumEquals$$a$ = %GLOBAL%$checksum$$b$ = $netctf$
				:i $temp_struct$ = :s{
					:i $Name$ = %GLOBAL%$Name$
					:i $description$ = %GLOBAL%$description$
					:i $checksum$ = %GLOBAL%$checksum$
					:i $goal_script$ = %GLOBAL%$goal_script$
					:i $icon$ = %GLOBAL%$icon$
					:i $enabled$ = %i(1,00000001)
				:i :s}
				:i $SetArrayElement$:s{
					:i $arrayname$ = $temp_array$
					:i $index$ = %i(9,00000009)
					:i $newvalue$ = %GLOBAL%$temp_struct$
				:i :s}
			:i endif
		:i endif
	:i endif
:i endfunction
:i function $chosen_start_game$
	:i if $InNetGame$
		:i if $GetGlobalFlag$$flag$ = $FLAG_AUTO_SERVER_MODE$
			:i if $IsHost$
				:i if $GetGlobalFlag$$flag$ = $FLAG_AUTO_GAME_MODE$
					:i $Change$$NoGameTypesSelected$ = %i(1,00000001)
					:i $ForEachIn$$net_game_type_info$$do$ = $CheckForEnabledGameTypes$
					:i if $IsTrue$$NoGameTypesSelected$
						:i $SetPreferencesFromUI$:s{
							:i $prefs$ = $network$
							:i $field$ = %s(9,"game_type")
							:i $checksum$ =  ($net_game_type_info$:a{%i(0,00000000):a}->$checksum$) 
							:i $string$ =  ($net_game_type_info$:a{%i(0,00000000):a}->$Name$) 
						:i :s}
						:i $Change$$AutoGameMode_Index$ = %i(0,00000000)
					:i else 
						:i while
							
							:i switch  ($AutoGameMode_ShuffleType$) 
								:i case %i(0,00000000)
									:i if $IntegerEquals$$a$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$enabled$) $b$ = %i(1,00000001)
										:i $SetPreferencesFromUI$:s{
											:i $prefs$ = $network$
											:i $field$ = %s(9,"game_type")
											:i $checksum$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$checksum$) 
											:i $string$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$Name$) 
										:i :s}
										:i $edmsg2$%s(15,"NEXT MODE IS %a")$a$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$Name$) 
										:i $array_next_wraparound$$index$ =  ($AutoGameMode_Index$) $array$ = $net_game_type_info$
										:i $Change$$AutoGameMode_Index$ = %GLOBAL%$index$
										:i continue
										
									:i else 
										:i $array_next_wraparound$$index$ =  ($AutoGameMode_Index$) $array$ = $net_game_type_info$
										:i $Change$$AutoGameMode_Index$ = %GLOBAL%$index$
									:i endif
									:i endcase
								case %i(1,00000001)
									:i if $IntegerEquals$$a$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$enabled$) $b$ = %i(1,00000001)
										:i $SetPreferencesFromUI$:s{
											:i $prefs$ = $network$
											:i $field$ = %s(9,"game_type")
											:i $checksum$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$checksum$) 
											:i $string$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$Name$) 
										:i :s}
										:i $edmsg2$%s(15,"NEXT MODE IS %a")$a$ =  ($net_game_type_info$:a{ ($AutoGameMode_Index$) :a}->$Name$) 
										:i $GetArraySize$$net_game_type_info$
										:i $GetRandomValue$$Name$ = $gamemode_rand_index$$a$ = %i(0,00000000)$b$ =  (%GLOBAL%$array_size$ - %i(1,00000001)) $integer$
										:i $Change$$AutoGameMode_Index$ = %GLOBAL%$gamemode_rand_index$
										:i continue
										
									:i else 
										:i $array_previous_wraparound$$index$ =  ($AutoGameMode_Index$) $array$ = $net_game_type_info$
										:i $Change$$AutoGameMode_Index$ = %GLOBAL%$index$
									:i endif
									:i end_switch
							
						:i loop_to 
						:i $printf$%s(30,"new AutoGameMode_Index = \c4%a")$a$ = $AutoGameMode_Index$
					:i endif
					:i $GetPreferenceChecksum$$pref_type$ = $network$$game_type$
					:i if  (%GLOBAL%$checksum$ = $netctf$) 
						:i if NOT $InTeamGame$
							:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(9,"team_mode")$checksum$ = $teams_two$$string$ = %s(1,"2")
							:i $SetNumTeams$%i(2,00000002)
						:i endif
					:i endif
					:i if  (%GLOBAL%$checksum$ = $netking$) 
						:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(12,"target_score")$checksum$ = $time_120$$time$ = %i(120,00000078)$string$ = %s(12,"2:00 minutes")
					:i endif
				:i endif
			:i endif
		:i endif
		:i if $levelIs$$load_practice$
			:i $GetPreferenceChecksum$$pref_type$ = $network$$game_type$
			:i if  (%GLOBAL%$checksum$ = $netgraffiti$) 
				:i $SetPreferencesFromUI$:s{
					:i $prefs$ = $network$
					:i $field$ = %s(9,"game_type")
					:i $checksum$ =  ($net_game_type_info$:a{%i(0,00000000):a}->$checksum$) 
					:i $string$ =  ($net_game_type_info$:a{%i(0,00000000):a}->$Name$) 
				:i :s}
			:i endif
			:i if  (%GLOBAL%$checksum$ = $netctf$) 
				:i $SetPreferencesFromUI$:s{
					:i $prefs$ = $network$
					:i $field$ = %s(9,"game_type")
					:i $checksum$ =  ($net_game_type_info$:a{%i(0,00000000):a}->$checksum$) 
					:i $string$ =  ($net_game_type_info$:a{%i(0,00000000):a}->$Name$) 
				:i :s}
			:i endif
		:i endif
	:i else 
	:i endif
	:i $LoadPendingPlayers$
	:i $StartNetworkGame$
	:i if $InSplitScreenGame$
		:i $skater$.$RunStarted$
		:i $Skater2$.$RunStarted$
	:i endif
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $exit_pause_menu$
	:i endif
:i endfunction
:i function $network_options_selected$
	:i $hide_current_goal$
	:i $launch_network_host_options_menu$
:i endfunction
:i function $network_game_options_selected$
	:i $create_network_game_options_menu$ isNull 
:i endfunction
:i function $network_start_selected$
	:i if $OnServer$
		:i $chosen_start_game$
	:i else 
		:i $FCFSRequestStartGame$
		:i $exit_pause_menu$
	:i endif
:i endfunction
:i function $fcfc_end_game_selected$
	:i $ReportStats$$final$
	:i $do_backend_retry$
:i endfunction
:i function $network_end_game_selected$
	:i if $GameIsOver$
		:i $create_pause_menu$
		:i return
		
	:i endif
	:i $kill_all_panel_messages$
	:i if $InSplitScreenGame$
		:i $SetStatOverride$
		:i $GoalManager_DeactivateAllGoals$
		:i $change_gamemode_freeskate_2p$
		:i $pause_trick_text$
		:i $create_end_run_menu$
	:i else 
		:i if $InInternetMode$
			:i if $OnServer$
				:i $ReportStats$$final$
			:i endif
		:i endif
		:i $EndNetworkGame$
	:i endif
:i endfunction
:i function $generic_array_menu_setup$$time$ = %i(60,0000003c)
	:i $add_item_script$ = $theme_menu_add_centered_item$
	:i if NOT  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
		:i if NOT  (%GLOBAL%$pref_field$ = %s(11,"device_type")) 
		:i endif
	:i endif
	:i $GetArraySize$%GLOBAL%$array$
	:i %GLOBAL%$array_size$ =  (%GLOBAL%$array_size$%i(4294967295,ffffffff)) 
	:i while
		
		:i $GetNextArrayElement$%GLOBAL%$array$
		:i if $GotParam$$Element$
			:i $AddParams$%GLOBAL%$Element$
			:i if  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
				:i $focus_script$ = $game_options_focus_script$
				:i $focus_params$ = :s{$description$ = %GLOBAL%$description$:s}
				:i $add_item_script$ = $make_thpg_menu_item$
			:i endif
			:i if $GotParam$$not_in_custom_parks$
				:i if $CustomParkMode$$just_using$
					:i $show_option$ = %i(0,00000000)
				:i else 
					:i $show_option$ = %i(1,00000001)
				:i endif
			:i else 
				:i $show_option$ = %i(1,00000001)
			:i endif
			:i if $GotParam$$not_pal$
				:i if $IsPal$
					:i $show_option$ = %i(0,00000000)
				:i endif
			:i endif
			:i if $levelIs$$load_se$
				:i if  (%GLOBAL%$Name$ = %s(13,"Classic Goals")) 
					:i $AddParams$:s{$not_available$:s}
				:i endif
			:i endif
			:i if NOT  (%GLOBAL%$array_size$ = %i(0,00000000)) 
				:i if  (%GLOBAL%$show_option$ = %i(1,00000001)) 
					:i if $GotParam$$not_available$
						:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$
					:i else 
						:i if $GotParam$$team_only$
							:i if $InTeamGame$
								:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = %GLOBAL%$focus_params$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$
							:i else 
								:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$
							:i endif
						:i else 
							:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = %GLOBAL%$focus_params$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$
						:i endif
					:i endif
				:i endif
			:i else 
				:i if  (%GLOBAL%$show_option$ = %i(1,00000001)) 
					:i if $GotParam$$not_available$
						:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$$last_menu_item$ = %i(1,00000001)
					:i else 
						:i if $GotParam$$team_only$
							:i if $InTeamGame$
								:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = %GLOBAL%$focus_params$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$$last_menu_item$ = %i(1,00000001)
							:i else 
								:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$$last_menu_item$ = %i(1,00000001)
							:i endif
						:i else 
							:i $make_thpg_menu_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = %GLOBAL%$focus_params$$highlight_bar_scale$ = %GLOBAL%$highlight_bar_scale$$scale$ = %GLOBAL%$scale$$last_menu_item$ = %i(1,00000001)
						:i endif
					:i endif
				:i endif
			:i endif
			:i %GLOBAL%$array_size$ =  (%GLOBAL%$array_size$%i(4294967295,ffffffff)) 
			:i $RemoveParameter$$not_available$
			:i $RemoveParameter$$not_in_custom_parks$
			:i $RemoveParameter$$not_pal$
		:i else 
			:i continue
			
		:i endif
	:i loop_to 
:i endfunction
:i function $generic_array_menu_desc_setup$$time$ = %i(60,0000003c)
	:i $add_item_script$ = $theme_menu_add_centered_item$
	:i if NOT  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
		:i if NOT  (%GLOBAL%$pref_field$ = %s(11,"device_type")) 
		:i endif
	:i endif
	:i $GetArraySize$%GLOBAL%$array$
	:i %GLOBAL%$array_size$ =  (%GLOBAL%$array_size$%i(4294967295,ffffffff)) 
	:i $theme_background$$parent$ = $current_menu_anchor$$id$ = $bg_box_vmenu$$width$ = %f(3.500000)$pos$ = %vec2(320.000000,625.000000)$num_parts$ = %f(10.500000)$z_priority$ = %i(1,00000001)
	:i while
		
		:i $GetNextArrayElement$%GLOBAL%$array$
		:i if $GotParam$$Element$
			:i $AddParams$%GLOBAL%$Element$
			:i if  (%GLOBAL%$pref_field$ = %s(9,"game_type")) 
				:i $focus_script$ = $game_options_focus_script$
				:i $focus_params$ = :s{$description$ = %GLOBAL%$description$:s}
				:i $add_item_script$ = $make_text_sub_menu_item$
				:i if  (%GLOBAL%$checksum$ = $netgoalattack$) 
					:i if $IsTrue$$LEVEL_DISABLE_GOAL_ATTACK$
						:i $AddParams$:s{$not_available$:s}
					:i endif
				:i endif
				:i if  (%GLOBAL%$checksum$ = $netgraffiti$) 
					:i $GetLevelStructureName$
					:i if $StructureContains$$structure$ = %GLOBAL%$level_structure_name$$DisableGraffiti$
						:i $AddParams$:s{$not_available$:s}
					:i endif
				:i endif
				:i if  (%GLOBAL%$checksum$ = $netctf$) 
					:i $GetLevelStructureName$
					:i if $StructureContains$$structure$ = %GLOBAL%$level_structure_name$$Disablectf$
						:i $AddParams$:s{$not_available$:s}
					:i endif
				:i endif
			:i endif
			:i if $GotParam$$not_in_custom_parks$
				:i if $CustomParkMode$$just_using$
					:i $show_option$ = %i(0,00000000)
				:i else 
					:i $show_option$ = %i(1,00000001)
				:i endif
			:i else 
				:i $show_option$ = %i(1,00000001)
			:i endif
			:i if $GotParam$$not_pal$
				:i if $IsPal$
					:i $show_option$ = %i(0,00000000)
				:i endif
			:i endif
			:i $FormatText$$checksumname$ = $icon_2p$%GLOBAL%$icon$
			:i if NOT  (%GLOBAL%$array_size$ = %i(0,00000000)) 
				:i if  (%GLOBAL%$show_option$ = %i(1,00000001)) 
					:i if $GotParam$$not_available$
						:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$text_pos$ = %vec2(115.000000,-5.000000)$centered$$no_bg$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
					:i else 
						:i if $GotParam$$team_only$
							:i if $InTeamGame$
								:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$text_pos$ = %vec2(115.000000,-5.000000)$centered$$no_bg$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = :s{%GLOBAL%$focus_params$$id$ = %GLOBAL%$checksum$$icon$ = %GLOBAL%$icon_2p$$text$ = %GLOBAL%$Name$:s}$unfocus_script$ = $sprite_unfocus$$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
							:i else 
								:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$text_pos$ = %vec2(115.000000,-5.000000)$centered$$no_bg$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
							:i endif
						:i else 
							:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$text_pos$ = %vec2(115.000000,-5.000000)$centered$$no_bg$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = :s{%GLOBAL%$focus_params$$id$ = %GLOBAL%$checksum$$icon$ = %GLOBAL%$icon_2p$$text$ = %GLOBAL%$Name$:s}$unfocus_script$ = $sprite_unfocus$$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
						:i endif
					:i endif
				:i endif
			:i else 
				:i if  (%GLOBAL%$show_option$ = %i(1,00000001)) 
					:i if $GotParam$$not_available$
						:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$text_pos$ = %vec2(115.000000,-5.000000)$centered$$no_bg$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$static_width$ = %i(400,00000190)$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
					:i else 
						:i if $GotParam$$team_only$
							:i if $InTeamGame$
								:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$centered$$text_pos$ = %vec2(115.000000,-5.000000)$no_bg$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = :s{%GLOBAL%$focus_params$$id$ = %GLOBAL%$checksum$$icon$ = %GLOBAL%$icon_2p$$text$ = %GLOBAL%$Name$:s}$unfocus_script$ = $sprite_unfocus$$static_width$ = %i(400,00000190)$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
							:i else 
								:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$centered$$text_pos$ = %vec2(115.000000,-5.000000)$no_bg$$font$ = $small$$rgba$ = :a{%i(80,00000050)%i(80,00000050)%i(80,00000050)%i(128,00000080):a}$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$:s}$not_focusable$$static_width$ = %i(400,00000190)$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
							:i endif
						:i else 
							:i $theme_menu_add_item$$text$ = %GLOBAL%$Name$$id$ = %GLOBAL%$checksum$$centered$$text_pos$ = %vec2(115.000000,-5.000000)$no_bg$$font$ = $small$$pad_choose_script$ = %GLOBAL%$call_script$$pad_choose_params$ = :s{$prefs$ = %GLOBAL%$pref_type$$field$ = %GLOBAL%$pref_field$$string$ = %GLOBAL%$Name$$checksum$ = %GLOBAL%$checksum$$time$ = %GLOBAL%$time$ isNull :s}$focus_script$ = %GLOBAL%$focus_script$$focus_params$ = :s{%GLOBAL%$focus_params$$id$ = %GLOBAL%$checksum$$icon$ = %GLOBAL%$icon_2p$$text$ = %GLOBAL%$Name$:s}$unfocus_script$ = $sprite_unfocus$$static_width$ = %i(400,00000190)$highlight_bar_scale$ = %vec2(2.700000,0.800000)$scale$ = %GLOBAL%$scale$
						:i endif
					:i endif
				:i endif
			:i endif
			:i %GLOBAL%$array_size$ =  (%GLOBAL%$array_size$%i(4294967295,ffffffff)) 
			:i $RemoveParameter$$not_available$
			:i $RemoveParameter$$not_in_custom_parks$
			:i $RemoveParameter$$not_pal$
		:i else 
			:i continue
			
		:i endif
	:i loop_to 
	:i if $InNetGame$
		:i %GLOBAL%$bg_box_scale$ = %vec2(88.000000,9.200000)
		:i %GLOBAL%$desc_text_scale$ = %f(0.850000)
		:i %GLOBAL%$desc_text_dims$ = %vec2(400.000000,75.000000)
	:i else 
		:i %GLOBAL%$bg_box_scale$ = %vec2(86.000000,15.000000)
		:i %GLOBAL%$desc_text_scale$ = %i(1,00000001)
		:i %GLOBAL%$desc_text_dims$ = %vec2(300.000000,75.000000)
	:i endif
	:i $CreateScreenElement$:s{
		:i $type$ = $SpriteElement$
		:i $parent$ = $current_menu_anchor$
		:i $id$ = $item_bg_box$
		:i $padding_scale$ = %f(0.500000)
		:i $texture$ = $black$
		:i $z_priority$ = %i(0,00000000)
		:i $scale$ = %GLOBAL%$bg_box_scale$
		:i $pos$ = %vec2(320.000000,880.000000)
		:i $just$ = :a{$center$$top$:a}
		:i $rgba$ = :a{%i(0,00000000)%i(0,00000000)%i(0,00000000)%i(200,000000c8):a}
	:i :s}
	:i $CreateScreenElement$:s{
		:i $type$ = $SpriteElement$
		:i $parent$ = $current_menu_anchor$
		:i $id$ = $item_description_bar$
		:i $texture$ = $white2$
		:i $scale$ = %vec2(43.599998,0.220000)
		:i $pos$ = %vec2(322.000000,894.000000)
		:i $just$ = :a{$center$$top$:a}
		:i $rgba$ = %GLOBAL%$on_rgba$
	:i :s}
	:i $CreateScreenElement$:s{
		:i $type$ = $textBlockElement$
		:i $parent$ = $current_menu_anchor$
		:i $id$ = $item_description_text$
		:i $text$ = %s(0,"")
		:i $font$ = $small$
		:i $shadow$
		:i $Shadow_offs$ = %vec2(1.000000,1.000000)
		:i $Shadow_rgba$ = :a{%i(10,0000000a)%i(10,0000000a)%i(10,0000000a)%i(90,0000005a):a}
		:i $dims$ = %GLOBAL%$desc_text_dims$
		:i $scale$ = %GLOBAL%$desc_text_scale$
		:i $line_spacing$ = %f(0.600000)
		:i $pos$ = %vec2(320.000000,838.000000)
		:i $just$ = :a{$center$$top$:a}
		:i $rgba$ = :a{%i(70,00000046)%i(70,00000046)%i(70,00000046)%i(128,00000080):a}
	:i :s}
	:i $Wait$%i(1,00000001)$gameframe$
:i endfunction
:i function $game_options_focus_script$
	:i $SetScreenElementProps$$id$ = $item_description_text$$text$ = %GLOBAL%$description$$line_spacing$ = %f(0.800000)
	:i $main_theme_focus$
	:i $GetTags$
	:i $Theme_GetIconOnColor$$return_value$ = $icon_color$
	:i if  ($no_focus_sound$ = %i(1,00000001)) 
		:i $Change$$no_focus_sound$ = %i(0,00000000)
	:i else 
	:i endif
	:i $Wait$%i(3,00000003)$gameframes$
	:i if $ObjectExists$$id$ = $cur_2p_sprite$
		:i $DestroyScreenElement$$id$ = $cur_2p_sprite$
	:i endif
:i endfunction
:i function $end_network_game$
	:i $kill_all_panel_messages$
	:i $dialog_box_exit$
	:i $do_backend_retry$
:i endfunction
:i function $CreateServerQuitDialog$
	:i $printf$%s(35,"**** in CreateServerQuitDialog ****")
	:i $HideLoadingScreen$
	:i if NOT $levelIs$$Load_MainMenu$
		:i $printf$%s(37,"**** Level was not the skateshop ****")
		:i $GoalManager_DeactivateAllGoals$$force_all$
		:i $GoalManager_UninitializeAllGoals$
		:i $GoalManager_SetCanStartGoal$%i(0,00000000)
		:i $kill_net_panel_messages$
		:i $destroy_onscreen_keyboard$
		:i $force_close_rankings$$dont_retry$
		:i $exit_pause_menu$
		:i $HideLoadingScreen$
		:i if NOT $IsObserving$
			:i if $ObjectExists$$id$ = $skater$
				:i $skater$.$Vibrate$$OFF$
			:i endif
			:i $ExitSurveyorMode$
		:i endif
		:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$
		:i $Change$$check_for_unplugged_controllers$ = %i(0,00000000)
		:i $PauseGame$
		:i $create_error_box$:s{$title$ = %s(6,"Notice")
			:i $text$ = %s(48,"The host has quit. Select OK to leave this game.")
			:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $quit_network_game$:s}
				:i :a}
			:i $delay_input$
			:i $delay_input_time$ = %i(500,000001f4)
		:i :s}
	:i else 
		:i $printf$%s(30,"*** Level IS the skateshop ***")
	:i endif
:i endfunction
:i function $create_game_ended_dialog$
	:i if NOT $levelIs$$Load_MainMenu$
		:i $GoalManager_DeactivateAllGoals$$force_all$
		:i $GoalManager_UninitializeAllGoals$
		:i $GoalManager_SetCanStartGoal$%i(0,00000000)
		:i $kill_net_panel_messages$
		:i $destroy_onscreen_keyboard$
		:i $force_close_rankings$
		:i $exit_pause_menu$
		:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$
		:i $create_error_box$:s{$title$ = %s(6,"Notice")
			:i $text$ = %s(77,"The host has terminated the current game.  Select OK to go back to freeskate.")
			:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $end_network_game$:s}
				:i :a}
			:i $delay_input$
		:i :s}
	:i endif
:i endfunction
:i function $accept_lost_connection$
	:i $dialog_box_exit$
	:i if $EnteringNetGame$
		:i $cancel_join_server$
	:i else 
		:i $quit_network_game$
	:i endif
:i endfunction
:i function $CreateLostConnectionDialog$
	:i $HideLoadingScreen$
	:i $GoalManager_DeactivateAllGoals$$force_all$
	:i $GoalManager_UninitializeAllGoals$
	:i $GoalManager_SetCanStartGoal$%i(0,00000000)
	:i $exit_pause_menu$
	:i $destroy_onscreen_keyboard$
	:i $force_close_rankings$$dont_retry$
	:i if $InNetGame$
		:i if $LocalSkaterExists$
			:i $skater$.$Vibrate$$OFF$
		:i endif
	:i endif
	:i if NOT $IsObserving$
		:i $ExitSurveyorMode$
	:i endif
	:i $dialog_box_exit$
	:i $dialog_box_exit$$anchor_id$ = $link_lost_dialog_anchor$
	:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$
	:i $Change$$check_for_unplugged_controllers$ = %i(0,00000000)
	:i $create_error_box$:s{$title$ = %s(6,"Notice")
		:i $text$ = %s(67,"You have lost connection to the host. Select OK to leave this game.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $accept_lost_connection$:s}
			:i :a}
		:i $delay_input$
	:i :s}
:i endfunction
:i function $BackToServerListFromJoinRefusedDialog$
	:i $printf$%s(37,"BackToServerListFromJoinRefusedDialog")
	:i $dialog_box_exit$
	:i $create_network_select_games_menu$
:i endfunction
:i $thugpro_reason$ = $tp_net_reason_generic$
:i $thugpro_show_reason$ = %i(0,00000000)
:i function $CreateJoinRefusedDialog$
	:i if $InNetGame$
		:i $create_dialog_box$:s{
			:i $title$ = $net_refused_msg$
			:i $text$ = %GLOBAL%$reason$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $dialog_box_exit$:s}
				:i :a}
		:i :s}
	:i else 
		:i if $GotParam$$just_dialog$
			:i $create_dialog_box$:s{
				:i $title$ = $net_refused_msg$
				:i $text$ = %GLOBAL%$reason$
				:i $buttons$ = :a{
					:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $BackToServerListFromJoinRefusedDialog$:s}
					:i :a}
			:i :s}
		:i else 
			:i $cancel_join_server$$show_refused_dialog$ isNull 
		:i endif
	:i endif
:i endfunction
:i function $create_refused_dialog$
	:i $printf$%s(32,"******* in cancel_join_server 12")
	:i if $InNetGame$
		:i $create_dialog_box$:s{
			:i $title$ = $net_refused_msg$
			:i $text$ = %GLOBAL%$reason$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $dialog_box_exit$:s}
				:i :a}
		:i :s}
	:i else 
		:i $create_dialog_box$:s{
			:i $title$ = $net_refused_msg$
			:i $text$ = %GLOBAL%$reason$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $BackToServerListFromJoinRefusedDialog$:s}
				:i :a}
		:i :s}
	:i endif
:i endfunction
:i function $reattempt_join_server$
	:i $Change$$JoinedGameInProgress$ = %i(1,00000001)
	:i $Change$$JoinedAsObserver$ = %i(0,00000000)
	:i $ReattemptJoinServer$
	:i $PlaySkaterCamAnim$$Name$ = $skateshop_board_select_cam$$play_hold$
:i endfunction
:i function $cancel_join_server$
	:i $printf$%s(29,"******* in cancel_join_server")
	:i if $GotParam$$cancel_nn$
		:i $CancelNatNegotiation$
	:i endif
	:i $destroy_onscreen_keyboard$
	:i $dialog_box_exit$
	:i $printf$%s(31,"******* in cancel_join_server 2")
	:i if $InInternetMode$
		:i $printf$%s(31,"******* in cancel_join_server 3")
		:i $CancelJoinServer$
		:i $restart_local_server$
		:i $SetNetworkMode$$INTERNET_MODE$
	:i else 
		:i $printf$%s(31,"******* in cancel_join_server 4")
		:i $CancelJoinServer$
		:i $printf$%s(31,"******* in cancel_join_server 5")
		:i $restart_local_server$
		:i $printf$%s(31,"******* in cancel_join_server 6")
		:i $SetNetworkMode$$LAN_MODE$
	:i endif
	:i $printf$%s(31,"******* in cancel_join_server 7")
	:i if $GotParam$$show_timeout$
		:i $printf$%s(31,"******* in cancel_join_server 8")
		:i $create_join_timeout_dialog$
	:i else 
		:i if $GotParam$$show_refused_dialog$
			:i $printf$%s(31,"******* in cancel_join_server 9")
			:i $create_refused_dialog$ isNull 
		:i else 
			:i $printf$%s(32,"******* in cancel_join_server 10")
			:i $create_network_select_games_menu$
		:i endif
	:i endif
	:i $kill_start_key_binding$
	:i $printf$%s(32,"******* in cancel_join_server 11")
	:i while
		
		:i if $LocalSkaterExists$
			:i $MakeSkaterGoto$$SkateshopIdle$
			:i $KillSkaterCamAnim$$all$
			:i $skater$.$reset_model_lights$
			:i $PlaySkaterCamAnim$$Name$ = $skateshop_board_select_cam$$play_hold$
			:i continue
			
		:i else 
			:i $Wait$%i(1,00000001)
		:i endif
	:i loop_to 
:i endfunction
:i function $CreateEnterPasswordControl$
	:i $dialog_box_exit$
	:i $create_onscreen_keyboard$$password$$allow_cancel$$keyboard_cancel_script$ = $cancel_join_server$$keyboard_done_script$ = $try_password$$keyboard_title$ = %s(14,"ENTER PASSWORD")$text$ = %s(0,"")$min_length$ = %i(1,00000001)$max_length$ = %i(9,00000009)
:i endfunction
:i function $try_password$
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i $destroy_onscreen_keyboard$
	:i $JoinWithPassword$ isNull 
:i endfunction
:i function $CreateGameInProgressDialog$
	:i $dialog_box_exit$
	:i $kill_start_key_binding$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_message_game_in_progress$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $reattempt_join_server$:s}
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_join_server$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $CreateConnectingDialog$
	:i $kill_start_key_binding$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_connecting$
		:i $no_animate$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_join_server$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $CreateJoiningDialog$
	:i $dialog_box_exit$
	:i $kill_start_key_binding$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_joining$
		:i $no_animate$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_join_server$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $CreateTryingPasswordDialog$
	:i $kill_start_key_binding$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_trying_password$
		:i $no_animate$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_join_server$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $wait_for_players$
	:i $dialog_box_exit$
	:i $create_net_panel_message$$text$ = $net_message_game_will_start$
:i endfunction
:i function $dont_wait_for_players$
	:i $dialog_box_exit$
	:i $DropPendingPlayers$
:i endfunction
:i function $CreateWaitForPlayersDialog$
	:i if $ObjectExists$$id$ = $pause_menu$
		:i $exit_pause_menu$
	:i endif
	:i $destroy_onscreen_keyboard$
	:i if  ( ($GetGlobalFlag$$flag$ = $FLAG_AUTO_SERVER_MODE$)  OR  ($GetGlobalFlag$$flag$ = $FLAG_AUTO_LEVEL_MODE$) ) 
		:i $dont_wait_for_players$
	:i else 
		:i $create_error_box$:s{$title$ = $net_status_msg$
			:i $text$ = $net_message_waiting_for_players$
			:i $no_animate$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(3,"Yes")$pad_choose_script$ = $wait_for_players$:s}
				:i :s{$text$ = %s(4," No ")$pad_choose_script$ = $dont_wait_for_players$:s}
				:i :a}
			:i $no_animate$
			:i $delay_input$
		:i :s}
	:i endif
:i endfunction
:i function $back_from_join_timeout$
	:i $dialog_box_exit$
	:i $create_network_select_games_menu$
:i endfunction
:i function $ShowJoinTimeoutNotice$
	:i $cancel_join_server$$show_timeout$
:i endfunction
:i function $create_join_timeout_dialog$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_join_timeout$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_join_timeout$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $create_join_failed_dialog$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = $net_status_join_failed$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $cancel_join_server$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $exit_net_menus$
	:i $dialog_box_exit$
	:i $SetGameType$$career$
	:i $SetCurrentGameType$
	:i $create_main_menu$
:i endfunction
:i function $create_link_unplugged_front_end_dialog$
	:i if $OnXbox$
		:i $back_from_multiplayer_menu$$no_menu$
		:i $create_dialog_box$:s{$title$ = $net_status_msg$
			:i $text$ = $net_error_unplugged_front_end$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $exit_net_menus$:s}
				:i :a}
		:i :s}
	:i else 
		:i $lost_connection_to_gamespy$
	:i endif
:i endfunction
:i function $link_unplugged_ok$
	:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$$no_pad_start$
	:i $dialog_box_exit$$anchor_id$ = $link_lost_dialog_anchor$$no_pad_start$
	:i %GLOBAL%$found_menu$ = %i(0,00000000)
	:i if $ScreenElementExists$$id$ = $current_menu_anchor$
		:i %GLOBAL%$found_menu$ = %i(1,00000001)
		:i $DoScreenElementMorph$:s{
			:i $id$ = $current_menu_anchor$
			:i $scale$ = %i(1,00000001)
		:i :s}
		:i $FireEvent$$type$ = $focus$$target$ = $current_menu_anchor$
	:i endif
	:i if $ScreenElementExists$$id$ = $homie_menu_anchor$
		:i $FireEvent$$type$ = $focus$$target$ = $homie_vmenu$
		:i %GLOBAL%$found_menu$ = %i(1,00000001)
	:i else 
		:i if $ScreenElementExists$$id$ = $current_menu$
			:i %GLOBAL%$found_menu$ = %i(1,00000001)
			:i $FireEvent$$type$ = $focus$$target$ = $current_menu$
		:i endif
		:i if $ScreenElementExists$$id$ = $sub_menu$
			:i %GLOBAL%$found_menu$ = %i(1,00000001)
			:i $FireEvent$$type$ = $focus$$target$ = $sub_menu$
		:i endif
	:i endif
	:i if NOT $levelIs$$Load_MainMenu$
		:i if  (%GLOBAL%$found_menu$ = %i(0,00000000)) 
			:i if $SkaterCamAnimFinished$
				:i $create_pause_menu$
			:i else 
			:i endif
		:i endif
	:i endif
:i endfunction
:i function $link_unplugged_quit$
	:i $dialog_box_exit$$anchor_id$ = $link_lost_dialog_anchor$$no_pad_start$
	:i $launch_quit_game_dialog$
:i endfunction
:i function $create_link_unplugged_dialog$
	:i if $ScreenElementExists$$id$ = $dialog_box_anchor$
		:i return
		
	:i endif
	:i if $ScreenElementExists$$id$ = $quit_dialog_anchor$
		:i return
		
	:i endif
	:i if $ScreenElementExists$$id$ = $current_menu_anchor$
		:i $DoScreenElementMorph$:s{
			:i $id$ = $current_menu_anchor$
			:i $scale$ = %i(0,00000000)
		:i :s}
		:i $FireEvent$$type$ = $unfocus$$target$ = $current_menu_anchor$
	:i endif
	:i if $ScreenElementExists$$id$ = $current_menu$
		:i $FireEvent$$type$ = $unfocus$$target$ = $current_menu$
	:i endif
	:i $destroy_onscreen_keyboard$
	:i if $OnXbox$
		:i $create_error_box$:s{$title$ = $net_error_msg$
			:i $anchor_id$ = $link_lost_dialog_anchor$
			:i $text$ = $net_error_unplugged$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $link_unplugged_ok$:s}
				:i :s{$text$ = %s(4,"quit")$pad_choose_script$ = $link_unplugged_quit$:s}
				:i :a}
			:i $no_animate$
		:i :s}
	:i else 
		:i $create_error_box$:s{$title$ = $net_error_msg$
			:i $anchor_id$ = $link_lost_dialog_anchor$
			:i $text$ = $net_error_unplugged_ps2$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $link_unplugged_ok$:s}
				:i :s{$text$ = %s(4,"quit")$pad_choose_script$ = $link_unplugged_quit$:s}
				:i :a}
			:i $no_animate$
		:i :s}
	:i endif
	:i $kill_start_key_binding$
:i endfunction
:i function $exit_async_dialog$
	:i $DeBounce$$x$$time$ = %f(0.300000)
	:i $dialog_box_exit$
	:i if $GameIsOver$
		:i $do_backend_retry$
	:i endif
:i endfunction
:i function $CreateNotPostedDialog$
	:i $DeBounce$$x$$time$ = %f(0.300000)
	:i $kill_all_panel_messages$
	:i $create_error_box$:s{$title$ = $net_error_msg$
		:i $text$ = $net_status_not_posted$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $exit_async_dialog$:s}
			:i :a}
		:i $no_animate$
		:i $delay_input$
		:i $z_priority$ = %i(50,00000032)
	:i :s}
:i endfunction
:i function $CreateGenericOKDialogInGame$
	:i $DeBounce$$x$$time$ = %f(0.300000)
	:i $kill_all_panel_messages$
	:i $create_error_box$:s{$title$ = %GLOBAL%$title$
		:i $text$ = %GLOBAL%$text$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $exit_async_dialog$:s}
			:i :a}
		:i $no_animate$
		:i $delay_input$
		:i $z_priority$ = %i(50,00000032)
	:i :s}
:i endfunction
:i function $accept_gamespy_lost_connection_dialog$
	:i $dialog_box_exit$
	:i $ResetConnectionTimer$
:i endfunction
:i function $reset_gamespy_connection_timer$
	:i if $isPS2$
		:i $ResetConnectionTimer$
	:i endif
:i endfunction
:i function $CreateGamespyLostConnectionDialog$
	:i if $ScreenElementExists$$id$ = $dialog_box_anchor$
		:i return
		
	:i endif
	:i if $ScreenElementExists$$id$ = $current_menu_anchor$
		:i return
		
	:i endif
	:i if $ScreenElementExists$$id$ = $current_menu$
		:i return
		
	:i endif
	:i if $ScreenElementExists$$id$ = $link_lost_dialog_anchor$
		:i return
		
	:i endif
	:i $destroy_onscreen_keyboard$
	:i $create_error_box$:s{$title$ = $net_error_msg$
		:i $text$ = $net_error_lost_gamespy_connection$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $accept_gamespy_lost_connection_dialog$:s}
			:i :a}
		:i $no_animate$
	:i :s}
:i endfunction
:i function $CreateFailedLobbyListDialog$
	:i $LobbyDisconnect$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %GLOBAL%$message$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $cancel_gamespy_connection_failure_dialog$:s}
			:i :a}
		:i $no_animate$
		:i $no_bg$
	:i :s}
:i endfunction
:i function $CreateJoinLobbyFailedDialog$
	:i $LobbyDisconnect$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %s(21,"Failed to join lobby.")
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $JoinLobbyFailed_Back$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $create_joining_lobby_dialog$
	:i $PlaySkaterCamAnim$$skater$ = %i(0,00000000)$Name$ = $skateshop_board_select_cam$$play_hold$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %s(16,"Joining lobby...")
		:i $no_bg$
		:i $pos$ = %vec2(237.000000,250.000000)
		:i $buttons$ = :a{
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_lobby_$:s}
			:i :a}
		:i $no_animate$
		:i $delay_input$
	:i :s}
:i endfunction
:i function $JoinLobbyFailed_Back$
	:i $dialog_box_exit$
	:i $console_destroy$
	:i $back_from_lobbies$
	:i $FireEvent$$type$ = $focus$$target$ = $ss_vmenu$
:i endfunction
:i function $cancel_join_lobby$
	:i $back_from_internet_menu$
:i endfunction
:i function $create_net_panel_message$$msg_time$ = %i(1200,000004b0)
	:i $root_window$.$GetSingleTag$$menu_state$
	:i if NOT $ScreenElementExists$$id$ = $game_pause_menu$
		:i if  (%GLOBAL%$menu_state$ = $OFF$) 
			:i $msg_pos$ =  ($net_panel_message_pos$) 
			:i $create_panel_block$$parent$ = $root_window$$id$ = $net_panel_msg$$text$ = %GLOBAL%$text$$style$ = $panel_message_net2$$final_pos$ = %GLOBAL%$msg_pos$$font_face$ = $testtitle$$dims$ = %vec2(280.000000,0.000000)$msg_time$ = %GLOBAL%$msg_time$$z_priority$ = %i(1,00000001)
			:i if $ScreenElementExists$$id$ = $net_panel_msg_bg$
				:i $DestroyScreenElement$$id$ = $net_panel_msg_bg$
			:i endif
			:i $CreateScreenElement$:s{
				:i $type$ = $SpriteElement$
				:i $parent$ = $root_window$
				:i $texture$ =  ( ($THUGPRO_GlobalThemeInfo$) ->$NEW_ICON_TEXTURE$) 
				:i $id$ = $net_panel_msg_bg$
				:i $rgba$ =  ( ($THUGPRO_GlobalThemeInfo$) ->$HIGHLIGHTED_TEXT_COLOR$) 
				:i $scale$ = %f(0.300000)
				:i $pos$ =  (%GLOBAL%$msg_pos$ + %vec2(50.000000,14.000000)) 
				:i $alpha$ = %f(0.000000)
				:i $just$ = :a{$Right$$center$:a}
				:i $z_priority$ = %i(0,00000000)
			:i :s}
			:i $RunScriptOnScreenElement$$id$ = $net_panel_msg_bg$$panel_message_bg_net$$params$ = :s{$msg_time$ = %GLOBAL%$msg_time$:s}
		:i endif
	:i endif
:i endfunction
:i function $panel_message_bg_net$$final_pos$ = %vec2(625.000000,120.000000)
	:i $DoMorph$$scale$ = %i(0,00000000)$alpha$ = %i(0,00000000)
	:i $DoMorph$$scale$ = %f(0.330000)$alpha$ = %f(0.600000)$time$ = %f(0.200000)
	:i $Wait$%f(0.200000)$second$
	:i $Wait$%GLOBAL%$msg_time$
	:i $DoMorph$$scale$ = %i(0,00000000)$alpha$ = %i(0,00000000)$time$ = %f(0.200000)
	:i if $ScreenElementExists$$id$ = $net_panel_msg_bg$
		:i $DestroyScreenElement$$id$ = $net_panel_msg_bg$
	:i endif
:i endfunction
:i function $panel_message_net2$$blink_time$ = %f(0.100000)$final_pos$ =  ($net_panel_message_pos$) 
	:i if NOT $GotParam$$dont_animate$
		:i $SetProps$$just$ = :a{$Right$$top$:a}$internal_just$ = :a{$Right$$top$:a}$rgba$ = :a{%i(128,00000080)%i(128,00000080)%i(128,00000080)%i(128,00000080):a}
		:i $DoMorph$$pos$ = %GLOBAL%$final_pos$$scale$ = %i(0,00000000)$alpha$ = %i(0,00000000)
		:i $DoMorph$$pos$ = %GLOBAL%$final_pos$$scale$ = %f(0.730000)$alpha$ = %f(0.600000)$time$ = %f(0.200000)
		:i $Wait$%f(0.200000)$second$
	:i endif
	:i $Wait$%GLOBAL%$msg_time$
	:i $DoMorph$$scale$ = %i(0,00000000)$alpha$ = %i(0,00000000)$time$ = %f(0.200000)
	:i if $ScreenElementExists$$id$ = $net_panel_msg$
		:i $DestroyScreenElement$$id$ = $net_panel_msg$
	:i endif
:i endfunction
:i function $kill_net_panel_messages$
	:i if $ObjectExists$$id$ = $goal_comp_out_of_bounds_warning$
		:i $DestroyScreenElement$$id$ = $goal_comp_out_of_bounds_warning$
	:i endif
	:i if $ObjectExists$$id$ = $net_panel_msg$
		:i $DestroyScreenElement$$id$ = $net_panel_msg$
	:i endif
	:i if $ScreenElementExists$$id$ = $net_panel_msg_bg$
		:i $DestroyScreenElement$$id$ = $net_panel_msg_bg$
	:i endif
	:i if $ObjectExists$$id$ = $taunt_msg_id$
		:i $DestroyScreenElement$$id$ = $taunt_msg_id$
	:i endif
	:i if $ScreenElementExists$$id$ = $perfect$
		:i $DestroyScreenElement$$id$ = $perfect$
	:i endif
	:i if $ScreenElementExists$$id$ = $perfect2$
		:i $DestroyScreenElement$$id$ = $perfect2$
	:i endif
	:i if $ScreenElementExists$$id$ = $death_message$
		:i $DestroyScreenElement$$id$ = $death_message$
	:i endif
	:i if $ObjectExists$$id$ = $speech_box_anchor$
		:i $DoScreenElementMorph$$id$ = $speech_box_anchor$$scale$ = %i(0,00000000)
	:i endif
	:i if $ScreenElementExists$$id$ = $goal_start_dialog$
		:i $DestroyScreenElement$$id$ = $goal_start_dialog$
	:i endif
	:i if $ObjectExists$$id$ = $ped_speech_dialog$
		:i $DestroyScreenElement$$id$ = $ped_speech_dialog$
	:i endif
	:i if $ObjectExists$$id$ = $goal_retry_anchor$
		:i $DestroyScreenElement$$id$ = $goal_retry_anchor$
	:i endif
	:i if $ObjectExists$$id$ = $first_time_goal_info$
		:i $DestroyScreenElement$$id$ = $first_time_goal_info$
	:i endif
	:i if $ObjectExists$$id$ = $skater_hint$
		:i $DestroyScreenElement$$id$ = $skater_hint$
	:i endif
	:i $GetArraySize$$goal_panel_message_ids$
	:i %GLOBAL%$index$ = %i(0,00000000)
	:i while
		
		:i if $ScreenElementExists$$id$ =  ($goal_panel_message_ids$:a{%GLOBAL%$index$:a}) 
			:i $DestroyScreenElement$$id$ =  ($goal_panel_message_ids$:a{%GLOBAL%$index$:a}) 
		:i endif
		:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
	:i loop_to %GLOBAL%$array_size$
:i endfunction
:i function $cancel_connect_to_internet$
	:i $printf$%s(33,"script cancel_connect_to_internet")
	:i $dialog_box_exit$
	:i $CancelConnectToInternet$
:i endfunction
:i function $create_modem_state_dialog$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %GLOBAL%$text$
		:i $no_animate$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_connect_to_internet$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $create_modem_status_dialog$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %GLOBAL%$text$
		:i $no_animate$
	:i :s}
:i endfunction
:i function $create_modem_final_state_dialog$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$
		:i $text$ = %GLOBAL%$text$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $cancel_connect_to_internet$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $cancel_gamespy_connection_failure_dialog$
	:i $printf$%s(47,"script cancel_gamespy_connection_failure_dialog")
	:i $dialog_box_exit$
	:i $StatsLogOff$
	:i $ProfileLogOff$
	:i $console_destroy$
	:i $launch_new_ss_menu$$no_animate$
:i endfunction
:i function $create_gamespy_connection_failure_dialog$
	:i if $ScreenElementExists$$id$ = $ss_vmenu$
		:i $FireEvent$$type$ = $unfocus$$target$ = $ss_vmenu$
		:i $DestroyScreenElement$$id$ = $ss_vmenu$
	:i endif
	:i $LobbyDisconnect$
	:i $create_dialog_box$:s{$title$ = $net_error_msg$
		:i $text$ = $net_status_gamespy_no_connect$
		:i $buttons$ = :a{
			:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $cancel_gamespy_connection_failure_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $lost_connection_to_gamespy$
	:i $printf$%s(33,"script lost_connection_to_gamespy")
	:i $LobbyDisconnect$
	:i if $StatsLoggedIn$
		:i $StatsLogOff$
	:i endif
	:i if $ProfileLoggedIn$
		:i $ProfileLogOff$
	:i endif
	:i if $levelIs$$Load_MainMenu$
		:i if $ObjectExists$$id$ = $console_message_vmenu$
			:i $DoScreenElementMorph$$id$ = $console_message_vmenu$$alpha$ = %i(0,00000000)
		:i endif
		:i $back_from_regions_menu$
		:i $net_vault_menu_exit$
		:i if $ScreenElementExists$$id$ = $stats_bg_anchor$
			:i $KillSpawnedScript$$Name$ = $create_online_stat_scores_menu$
			:i $KillSpawnedScript$$Name$ = $create_online_stat_players_menu$
			:i $KillSpawnedScript$$Name$ = $create_online_stat_personal_menu$
			:i $DestroyScreenElement$$id$ = $stats_bg_anchor$
		:i endif
		:i if $ObjectExists$$id$ = $keyboard_anchor$
			:i $destroy_onscreen_keyboard$
		:i endif
		:i $dialog_box_exit$
		:i $exit_pause_menu$
		:i $GoalManager_HidePoints$
		:i $GoalManager_HideGoalPoints$
		:i $create_dialog_box$:s{$title$ = $net_error_msg$
			:i $text$ = $net_status_gamespy_lost_connection$
			:i $buttons$ = :a{
				:i :s{$text$ = %s(2,"ok")$pad_choose_script$ = $cancel_gamespy_connection_failure_dialog$:s}
				:i :a}
		:i :s}
	:i else 
		:i if $OnServer$
			:i if $IsHost$
				:i $dialog_box_exit$
				:i $exit_pause_menu$
				:i $create_error_box$:s{$title$ = %s(6,"Notice")
					:i $text$ = %s(113,"You have lost connection to OpenSpy. You can continue to play, but your game is not visible in the lobby anymore.")
					:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $dialog_box_exit$:s}:a}
					:i $delay_input$
				:i :s}
			:i endif
		:i endif
	:i endif
:i endfunction
:i function $cancel_keyboard$
	:i if $ObjectExists$$id$ = $keyboard_anchor$
		:i $destroy_onscreen_keyboard$
	:i else 
		:i return
		
	:i endif
	:i if $ObjectExists$$id$ = $console_message_vmenu$
		:i $DoScreenElementMorph$$id$ = $console_message_vmenu$$alpha$ = %i(1,00000001)
	:i endif
	:i $create_network_select_games_menu$ isNull 
:i endfunction
:i function $enter_kb_chat_message$
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i $cancel_keyboard$$focus_on_enter_message$
	:i $SendMessage$$text$ = %GLOBAL%$string$
:i endfunction
:i function $check_keyboard_focus$
	:i $KillSpawnedScript$$Name$ = $maybe_launch_lobby_keyboard$
	:i $SpawnScript$$maybe_launch_lobby_keyboard$
	:i $main_theme_focus$ isNull 
:i endfunction
:i function $maybe_launch_lobby_keyboard$
	:i while
		
		:i $Wait$%i(1,00000001)$gameframe$
		:i if NOT $ScreenElementExists$$id$ = $actions_menu$
			:i continue
			
		:i endif
		:i $LobbyCheckKeyboard$
	:i loop_to 
:i endfunction
:i function $check_keyboard_unfocus$
	:i $KillSpawnedScript$$Name$ = $maybe_launch_lobby_keyboard$
	:i $main_theme_unfocus$ isNull 
:i endfunction
:i function $lobby_enter_kb_chat$
	:i $FireEvent$$type$ = $unfocus$$target$ = $actions_menu$
	:i $create_onscreen_keyboard$:s{$allow_cancel$
		:i $no_buttons$
		:i $pos$ = %vec2(320.000000,530.000000)
		:i $keyboard_done_script$ = $lobby_entered_chat_message$
		:i $display_text$ = %s(15,"ENTER MESSAGE: ")
		:i $keyboard_title$ = %s(0,"")
		:i $min_length$ = %i(1,00000001)
		:i $max_length$ = %i(76,0000004c)
		:i $text_block$
		:i $keyboard_cancel_script$ = $lobby_keyboard_cancel$
	:i :s}
:i endfunction
:i function $lobby_entered_chat_message$
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i $SendMessage$$text$ = %GLOBAL%$string$
	:i $destroy_onscreen_keyboard$
	:i $AssignAlias$$id$ = $server_list_anchor$$alias$ = $current_menu_anchor$
	:i $AssignAlias$$id$ = $actions_menu$$alias$ = $current_menu$
	:i $FireEvent$$type$ = $focus$$target$ = $actions_menu$
:i endfunction
:i function $lobby_keyboard_cancel$
	:i $destroy_onscreen_keyboard$
	:i $AssignAlias$$id$ = $server_list_anchor$$alias$ = $current_menu_anchor$
	:i $AssignAlias$$id$ = $actions_menu$$alias$ = $current_menu$
	:i $FireEvent$$type$ = $focus$$target$ = $actions_menu$
:i endfunction
:i function $create_lobby_onscreen_kb$
	:i $destroy_menu_background_title$
	:i if $ObjectExists$$id$ = $console_message_vmenu$
		:i $DoScreenElementMorph$$id$ = $console_message_vmenu$$alpha$ = %f(0.600000)
	:i endif
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $create_onscreen_keyboard$:s{$allow_cancel$
		:i $in_net_lobby$
		:i $keyboard_cancel_script$ = $cancel_keyboard$
		:i $keyboard_done_script$ = $enter_kb_chat_message$
		:i $keyboard_title$ = %s(18,"enter chat message")
		:i $text$ = %s(0,"")
		:i $max_length$ = %i(76,0000004c)
		:i $text_block$
		:i $display_text_offset$ = %vec2(0.000000,5.000000)
	:i :s}
:i endfunction
:i function $add_multiplayer_mode_goals$
	:i $AddGoal_TrickAttack$
	:i $AddGoal_ComboMambo$
	:i $AddGoal_ScoreChallenge$
	:i $AddGoal_Graffiti$
	:i $AddGoal_Slap$
	:i $AddGoal_King$
	:i $AddGoal_Ctf$
	:i $AddGoal_GoalAttack$
	:i $AddGoal_FireFight$
	:i $AddGoal_Elimiskate$
	:i $AddGoal_Elimiskate_Break_Period$
	:i $AddGoal_ElimiSkate_Interval$
	:i $AddGoal_Scavenger$
	:i $AddGoal_Scavenger_Collect$
	:i $AddGoal_Scavenger_Interval$
:i endfunction
:i function $create_score_menu$
	:i if NOT $ObjectExists$$id$ = $net_score_menu$
		:i $SetScreenElementLock$$id$ = $root_window$$OFF$
		:i $CreateScreenElement$:s{
			:i $type$ = $ContainerElement$
			:i $parent$ = $root_window$
			:i $id$ = $net_score_menu$
			:i $pos$ = %vec2(0.000000,0.000000)
			:i $just$ = :a{$left$$top$:a}
			:i $scale$ = %i(0,00000000)
			:i $dims$ = %vec2(640.000000,480.000000)
		:i :s}
		:i $CreateScreenElement$:s{
			:i $type$ = $vmenu$
			:i $parent$ = $net_score_menu$
			:i $id$ = $net_score_vmenu$
			:i $just$ = :a{$left$$top$:a}
			:i $pos$ =  ($net_score_menu_pos$) 
			:i $scale$ = %f(0.900000)
			:i $padding_scale$ = %i(1,00000001)
			:i $internal_scale$ = %i(1,00000001)
			:i $internal_just$ = :a{$left$$top$:a}
		:i :s}
		:i %GLOBAL%$index$ = %i(1,00000001)
		:i while
			
			:i $FormatText$$checksumname$ = $current_id$%s(12,"net_score_%i")$i$ = %GLOBAL%$index$
			:i $CreateScreenElement$:s{
				:i $type$ = $textElement$
				:i $parent$ = $net_score_vmenu$
				:i $id$ = %GLOBAL%$current_id$
				:i $font$ = $dialog$
				:i $text$ = %s(0,"")
				:i $scale$ = %f(0.900000)
				:i $rgba$ = :a{%i(128,00000080)%i(128,00000080)%i(128,00000080)%i(98,00000062):a}
				:i $not_focusable$
				:i $z_priority$ = %i(4294967291,fffffffb)
			:i :s}
			:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
		:i loop_to %i(8,00000008)
		:i $RunScriptOnScreenElement$$id$ = $net_score_menu$$menu_onscreen$$params$ = :s{$preserve_menu_state$:s}
	:i endif
:i endfunction
:i function $clear_scores$
	:i if $ObjectExists$$id$ = $net_score_menu$
		:i %GLOBAL%$index$ = %i(1,00000001)
		:i while
			
			:i $FormatText$$checksumname$ = $current_id$%s(12,"net_score_%i")$i$ = %GLOBAL%$index$
			:i $SetScreenElementProps$:s{
				:i $id$ = %GLOBAL%$current_id$
				:i $text$ = %s(0,"")
			:i :s}
			:i %GLOBAL%$index$ =  (%GLOBAL%$index$ + %i(1,00000001)) 
		:i loop_to %i(8,00000008)
	:i endif
:i endfunction
:i function $update_score$
	:i if $GetGlobalFlag$$flag$ = $NO_DISPLAY_NET_SCORES$
		:i $hide_net_scores$
	:i else 
		:i if $ObjectExists$$id$ = $current_menu_anchor$
			:i if NOT $ObjectExists$$id$ = $kb_no_button_hdr$
				:i $hide_net_scores$
			:i else 
				:i $unhide_net_scores$
			:i endif
		:i else 
			:i $unhide_net_scores$
		:i endif
	:i endif
:i endfunction
:i function $entered_network_game$
	:i if $InInternetMode$
		:i $LeaveLobby$$preserve_status$
		:i $SetQuietMode$
	:i endif
	:i $kill_net_panel_messages$
	:i $console_unhide$
	:i $restore_start_key_binding$
	:i if $LocalSkaterExists$
		:i $refresh_skater_model_for_cheats$
	:i endif
	:i if $OnServer$
		:i $ClearOmnigons$
	:i else 
		:i if $InInternetMode$
			:i $CancelNatNegotiation$
		:i endif
		:i $SkProDisplayLoadingScreen$$blank$$freeze$
	:i endif
	:i $EnteredNetworkGame$
:i endfunction
:i function $restart_local_server$
	:i $SetNetworkMode$
	:i $setservermode$$on$
	:i $SetJoinMode$$JOIN_MODE_PLAY$
	:i $StartServer$
	:i $JoinServer$ isNull 
	:i $hide_balance_meter$
:i endfunction
:i function $handle_keyboard_input$
	:i if $ObjectExists$$id$ = $keyboard_anchor$
		:i if $GotParam$$got_enter$
			:i if $ScreenElementExists$$id$ = $keyboard_done_button$
				:i $FireEvent$$type$ = $pad_choose$$target$ = $keyboard_done_button$
			:i else 
				:i $FireEvent$$type$ = $pad_choose$$target$ = $keyboard_anchor$
			:i endif
		:i else 
			:i if $GotParam$$got_backspace$
				:i $keyboard_handle_backspace$
			:i else 
				:i $keyboard_button_pressed$ isNull 
			:i endif
		:i endif
	:i endif
:i endfunction
:i function $back_from_profile_options$
	:i $FireEvent$$type$ = $unfocus$$target$ = $profile_options_menu$
	:i $DestroyScreenElement$$id$ = $profile_options_anchor$
	:i $FireEvent$$type$ = $focus$$target$ = $sub_menu$
:i endfunction
:i function $back_from_profile_error$
	:i $printf$%s(30,"script back_from_profile_error")
	:i $dialog_box_exit$
	:i $create_internet_options$
:i endfunction
:i function $profile_connect$
	:i $dialog_box_exit$
	:i if NOT $ProfileLogIn$
		:i $create_internet_options$
	:i endif
:i endfunction
:i function $launch_profile_menu$
	:i $dialog_box_exit$
	:i if NOT $ScreenElementExists$$id$ = $menu_play_online$
		:i $create_internet_options$
	:i endif
	:i $create_profile_menu$
:i endfunction
:i function $launch_player_list_menu$
	:i $hide_current_goal$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $destroy_menu_background_title$
	:i if $InSplitScreenGame$
		:i $GoalManager_HidePoints$
	:i endif
	:i $create_menu_background_title$$title$ = %s(11,"PLAYER LIST")$bg_just$ = $right_scroll$$no_grain$
	:i $make_new_skateshop_menu$:s{
		:i $pos$ = %vec2(380.000000,115.000000)
		:i $internal_just$ = :a{$center$$center$:a}
		:i $menu_id$ = $sub_menu$
		:i $vmenu_id$ = $sub_vmenu$
	:i :s}
	:i $SetScreenElementProps$:s{$id$ = $sub_menu$$event_handlers$ = :a{
			:i :s{$pad_back$$generic_menu_pad_back$$params$ = :s{$callback$ = $create_pause_menu$:s}:s}
			:i :a}
	:i :s}
	:i $kill_start_key_binding$
	:i $create_helper_text$$generic_helper_text$
	:i $FillPlayerListMenu$
	:i $make_thpg_menu_item$$text$ = %s(1," ")$not_focusable$$centered$
	:i $make_thpg_menu_item$:s{$text$ = %s(14,"View Blacklist")$id$ = $view_blacklist_option$$pad_choose_script$ = $create_view_blacklist_menu$$scale$ = %f(0.580000):s}
	:i $AssignAlias$$id$ = $sub_menu$$alias$ = $current_menu$
	:i $FireEvent$$type$ = $focus$$target$ = $sub_menu$
:i endfunction
:i function $cancel_face_download$
	:i $destroy_onscreen_keyboard$
	:i $create_internet_options$
:i endfunction
:i function $face_download_chosen$$cancel_script$ = $cancel_face_download$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $GetPreferenceString$$pref_type$ = $network$$face_dl_key$
	:i $create_onscreen_keyboard$:s{$allow_cancel$
		:i $keyboard_cancel_script$ = %GLOBAL%$cancel_script$
		:i $keyboard_done_script$ = $launch_face_download$
		:i $keyboard_title$ = %s(14,"ENTER PASSWORD")
		:i $text$ = %GLOBAL%$ui_string$
		:i $max_length$ = %i(50,00000032)
		:i $from_net$ = %GLOBAL%$from_net$
	:i :s}
	:i $Theme_GetUnhighlightedTextColor$$return_value$ = $rgba$
	:i $Theme_GetHighlightedTextColor$$return_value$ = $highlight_rgba$
	:i if NOT $GotParam$$no_help_box$
		:i $CreateScreenElement$:s{
			:i $type$ = $textBlockElement$
			:i $parent$ = $current_menu_anchor$
			:i $id$ = $directions_text$
			:i $text$ = %s(75,"Enter the password that was e-mailed\nto you after submitting your picture.")
			:i $pos$ = %vec2(320.000000,668.000000)
			:i $dims$ = %vec2(640.000000,60.000000)
			:i $font$ = $small$
			:i $scale$ = %f(0.900000)
			:i $rgba$ = %GLOBAL%$rgba$
			:i $line_spacing$ = %f(0.650000)
			:i $z_priority$ = %i(5,00000005)
			:i $just$ = :a{$center$$center$:a}
		:i :s}
		:i $CreateScreenElement$:s{
			:i $type$ = $SpriteElement$
			:i $parent$ = $current_menu_anchor$
			:i $id$ = $directions_box$
			:i $texture$ = $myf_box_mid$
			:i $pos$ = %vec2(320.000000,670.000000)
			:i $scale$ = %vec2(12.000000,1.200000)
			:i $just$ = :a{$center$$center$:a}
			:i $rgba$ = %GLOBAL%$highlight_rgba$
			:i $z_priority$ = %i(5,00000005)
		:i :s}
		:i $DoScreenElementMorph$$id$ = $directions_text$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,368.000000)
		:i $DoScreenElementMorph$$id$ = $directions_box$$time$ = %f(0.200000)$pos$ = %vec2(320.000000,370.000000)
	:i endif
:i endfunction
:i function $face_dnas_warning$
	:i $dialog_box_exit$
	:i $body$ = %s(142,"Before you can download your face, you will need to select THUG 2 Online Play\n from the Main Menu\nand authenticate your internet connection.")
	:i if $ObjectExists$$id$ = $current_menu$
		:i $FireEvent$$type$ = $unfocus$$target$ = $current_menu$
	:i endif
	:i $create_dialog_box$:s{$title$ = %s(8,"Warning!")
		:i $text$ = %GLOBAL%$body$
		:i $text_dims$ = %vec2(350.000000,0.000000)
		:i $pos$ = %vec2(320.000000,240.000000)
		:i $just$ = :a{$center$$center$:a}
		:i $text_rgba$ = :a{%i(88,00000058)%i(105,00000069)%i(112,00000070)%i(128,00000080):a}
		:i $no_bg$ = $no_bg$
		:i $buttons$ = :a{:s{$font$ = $small$$text$ = %s(28,"Continue Without Downloading")$pad_choose_script$ = $cont_wo_dl_face_dnas$:s}
			:i :s{$font$ = $small$$text$ = %s(19,"Return to Main Menu")$pad_choose_script$ = $return_to_main_dnas$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $return_to_main_dnas$
	:i $dialog_box_exit$
	:i $Change$$main_menu_return_to_createamodes$ = %i(0,00000000)
	:i $UnloadCaptureDeviceLibraries$
	:i $exit_cas$$return_script$ = $launch_main_menu$
:i endfunction
:i function $cont_wo_dl_face_dnas$
	:i $dialog_box_exit$
	:i $face_map_exit$$new_script$ = $create_face_map_menu$$focus_child$ = %i(4,00000004)
:i endfunction
:i function $ok_face_dnas$
	:i $dialog_box_exit$
	:i $create_main_menu$
:i endfunction
:i function $launch_face_download$
	:i if $GotParam$$from_net$
		:i $Change$$download_from_online$ = %i(1,00000001)
	:i endif
	:i $GetTextElementString$$id$ = $keyboard_current_string$
	:i if $ObjectExists$$id$ = $current_menu_anchor$
		:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i endif
	:i $select_skater_get_current_skater_name$
	:i if NOT  (%GLOBAL%$current_skater$ = $custom$) 
		:i $load_pro_skater$:s{$profile$ = %i(0,00000000)$skater$ = %i(0,00000000)$Name$ = $custom$:s}
	:i endif
	:i $SetPreferencesFromUI$$prefs$ = $network$$field$ = %s(11,"face_dl_key") isNull 
	:i $printf$%s(16,"Downloading face")
	:i $create_dialog_box$:s{$title$ = %s(16,"Downloading Face")
		:i $text$ = %s(20,"Checking for file...")
		:i $buttons$ = :a{:s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_download_face$:s}
			:i :a}
		:i $no_animate$
	:i :s}
	:i $DownloadFace$ isNull 
:i endfunction
:i function $cancel_download_face$
	:i $Change$$download_from_online$ = %i(0,00000000)
	:i $CancelFileTransfer$
	:i $dialog_box_exit$
	:i $net_vault_menu_exit$
	:i $back_from_face_transfer_succeeded_dialog$
:i endfunction
:i function $LaunchFaceDownloadCompleteDialog$
	:i $dialog_box_exit$
	:i $net_vault_menu_exit$
	:i $create_dialog_box$:s{$title$ = %s(17,"Download Complete")
		:i $text$ = %s(29,"Press OK to go map your face.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"OK")$pad_choose_script$ = $back_from_face_transfer_succeeded_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $download_content$
	:i $printf$%s(28,"retrieving directory listing")
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_dialog_box$:s{$title$ = $net_status_msg$$text$ = %s(31,"Retrieving directory listing...")$buttons$ = :a{:s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_download_file$:s}:a}$no_animate$
	:i :s}
	:i $DownloadDirectoryList$%GLOBAL%$type$
:i endfunction
:i function $download_selected_file$
	:i $printf$%s(19,"Downloading content")
	:i $GetTags$
	:i $GetTextElementString$$id$ = :s{%GLOBAL%$id$$child$ = %i(0,00000000):s}
	:i $SetScriptString$$string$ = %GLOBAL%$string$
	:i $DestroyScreenElement$$id$ = $current_menu_anchor$
	:i $create_dialog_box$:s{$title$ = %s(16,"Downloading File")
		:i $text$ = %s(0,"")
		:i $buttons$ = :a{:s{$text$ = %s(6,"cancel")$pad_choose_script$ = $cancel_download_file$:s}
			:i :a}
		:i $no_animate$
	:i :s}
	:i $DownloadFile$ isNull 
:i endfunction
:i function $cancel_download_file$
	:i $CancelFileTransfer$
	:i $net_vault_menu_exit$
	:i $dialog_box_exit$
	:i $back_from_transfer_dialog$
:i endfunction
:i function $update_transfer_progress$
	:i if $ObjectExists$$id$ = $dialog_box_text$
		:i $SetScreenElementProps$:s{
			:i $id$ = $dialog_box_text$
			:i $text$ = %GLOBAL%$text$
		:i :s}
	:i endif
:i endfunction
:i function $back_from_transfer_dialog$
	:i if $GameModeEquals$$is_net$
		:i if NOT $IsTrue$$from_CAS_face_mapping$
			:i $dialog_box_exit$
			:i $launch_new_ss_menu$
		:i else 
			:i $Change$$from_CAS_face_mapping$ = %i(0,00000000)
			:i $launch_new_ss_menu$
		:i endif
	:i else 
		:i $launch_new_ss_menu$
	:i endif
:i endfunction
:i function $back_from_transfer_succeeded_dialog$
	:i $dialog_box_exit$
	:i $memcard_menus_cleanup$
	:i $create_internet_options$
	:i $Change$$savevaultdata$ = %i(0,00000000)
:i endfunction
:i function $LaunchFileNotFoundDialog$
	:i $Change$$download_from_online$ = %i(0,00000000)
	:i $net_vault_menu_exit$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = %s(14,"File Not Found")
		:i $text$ = %s(140,"Please verify that you have entered your key correctly and make sure that you have successfully emailed your face to: faces@thug2online.com.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_transfer_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $LaunchGeneralFileNotFoundDialog$
	:i $net_vault_menu_exit$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = %s(12,"Server Error")
		:i $text$ = %s(85,"Could not download the selected file. The server may be down. Please try again later.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_transfer_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $LaunchTransferFailedDialog$
	:i $Change$$download_from_online$ = %i(0,00000000)
	:i $net_vault_menu_exit$
	:i $dialog_box_exit$
	:i $create_dialog_box$:s{$title$ = %s(15,"Transfer Failed")
		:i $text$ = %s(33,"Please check your network cables.")
		:i $buttons$ = :a{:s{$text$ = %s(2,"ok")$pad_choose_script$ = $back_from_transfer_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $LaunchDownloadCompleteDialog$
	:i $printf$%s(35,"script LaunchDownloadCompleteDialog")
	:i $net_vault_menu_exit$
	:i $dialog_box_exit$
	:i $PrintStruct$ isNull 
	:i if $GotParam$$type$
		:i switch %GLOBAL%$type$
			:i case $parks$
				:i $text$ = %s(21,"Save downloaded park?")
				:i $file_type$ = $park$
				:i endcase
			case $goals$
				:i $text$ = %s(22,"Save downloaded goals?")
				:i $file_type$ = $createdgoals$
				:i endcase
			case $skaters$
				:i $text$ = %s(23,"Save downloaded skater?")
				:i $file_type$ = $optionsandpros$
				:i endcase
			case $tricks$
				:i $text$ = %s(22,"Save downloaded trick?")
				:i $file_type$ = $cat$
				:i endcase
			case $tags$
				:i $text$ = %s(24,"Save downloaded graphic?")
				:i $file_type$ = $createdgraphic$
				:i endcase
			default 
				:i $printf$%s(27,"save download: invalid type")
				:i return
				
				:i end_switch
		
	:i else 
		:i $printf$%s(27,"save download: missing type")
		:i return
		
	:i endif
	:i $create_dialog_box$:s{$title$ = %s(17,"Download Complete")
		:i $text$ = %GLOBAL%$text$
		:i $buttons$ = :a{:s{$text$ = %s(3,"Yes")$pad_choose_script$ = $launch_download_save_sequence$$pad_choose_params$ = :s{$file_type$ = %GLOBAL%$file_type$:s}:s}
			:i :s{$text$ = %s(2,"No")$pad_choose_script$ = $back_from_transfer_succeeded_dialog$:s}
			:i :a}
	:i :s}
:i endfunction
:i function $back_from_face_transfer_succeeded_dialog$
	:i $dialog_box_exit$
	:i if $GameModeEquals$$is_net$
		:i $SpawnSecondControllerCheck$
		:i $StatsLogOff$
		:i $ProfileLogOff$
		:i $Wait$%i(1,00000001)$gameframe$
		:i if $ScreenElementExists$$id$ = $current_menu_anchor$
			:i $DestroyScreenElement$$id$ = $current_menu_anchor$
		:i endif
		:i $launch_cas$:s{$face2$$downloaded_face$ = $downloaded_face$:s}
	:i else 
		:i $face_back_from_net_setup$
	:i endif
:i endfunction
:i function $StartFreeSkate$
	:i $MakeSkaterGosub$$add_skater_to_world$$skater$ = %i(0,00000000)
	:i $MakeSkaterGosub$$add_skater_to_world$$skater$ = %i(1,00000001)
	:i $SetGameType$$freeskate2p$
	:i $SetCurrentGameType$
	:i $SetScreenModeFromGameMode$
:i endfunction
:i function $kill_all_panel_messages$
	:i $exit_pause_menu$
	:i $dialog_box_exit$$anchor_id$ = $quit_dialog_anchor$
	:i $dialog_box_exit$
	:i $speech_box_exit$
	:i $force_close_rankings$
	:i $close_goals_menu$
	:i $kill_net_panel_messages$
	:i $destroy_onscreen_keyboard$
	:i $TantrumMessageKill$
	:i if $ObjectExists$$id$ = $perfect$
		:i $DestroyScreenElement$$id$ = $perfect$
	:i endif
	:i if $ObjectExists$$id$ = $perfect2$
		:i $DestroyScreenElement$$id$ = $perfect2$
	:i endif
	:i if $ObjectExists$$id$ = $death_message$
		:i $DestroyScreenElement$$id$ = $death_message$
	:i endif
	:i if $ObjectExists$$id$ = $leaving_message$
		:i $DestroyScreenElement$$id$ = $leaving_message$
	:i endif
	:i if $ObjectExists$$id$ = $goal_message$
		:i $DestroyScreenElement$$id$ = $goal_message$
	:i endif
	:i $kill_panel_message_if_it_exists$$id$ = $message_THAW_Grind_Count$
	:i $kill_panel_message_if_it_exists$$id$ = $skater_hint$
	:i $kill_panel_message_if_it_exists$$id$ = $new_ammo_message$
	:i $kill_panel_message_if_it_exists$$id$ = $new_ammo_message2$
	:i $kill_panel_message_if_it_exists$$id$ = $buttslap$
	:i $kill_panel_message_if_it_exists$$id$ = $buttslap2$
	:i $kill_panel_message_if_it_exists$$id$ = $boostplantcounter$
	:i $kill_panel_message_if_it_exists$$id$ = $boostplantcounter2$
	:i $kill_panel_message_if_it_exists$$id$ = $neuroplantcounter$
	:i $kill_panel_message_if_it_exists$$id$ = $neuroplantcounter2$
	:i $kill_panel_message_if_it_exists$$id$ = $maxfocus$
	:i $kill_panel_message_if_it_exists$$id$ = $pumpkin_smash_message$
	:i $kill_panel_message_if_it_exists$$id$ = $smash_message$
	:i $kill_panel_message_if_it_exists$$id$ = $goal_comp_out_of_bounds_warning$
	:i $kill_panel_message_if_it_exists$$id$ = $panel_message_death$
	:i if $levelIs$$Load_ALC$
		:i $kill_panel_message_if_it_exists$$id$ = $bullseyescore$
	:i endif
	:i if $levelIs$$Load_VC$
		:i $kill_panel_message_if_it_exists$$id$ = $hockey_score$
		:i $kill_panel_message_if_it_exists$$id$ = $combo_gap_message$
	:i endif
	:i if $levelIs$$Load_Z_EL$
		:i $kill_panel_message_if_it_exists$$id$ = $message_telegrind1$
	:i endif
	:i if $levelIs$$Load_AU$
		:i $kill_panel_message_if_it_exists$$id$ = $wetwarning$
	:i endif
	:i if $levelIs$$Load_AP$
		:i $kill_panel_message_if_it_exists$$id$ = $message_circbench$
	:i endif
	:i if $levelIs$$Load_LA$
		:i $kill_panel_message_if_it_exists$$id$ = $message_circbench$
		:i $kill_panel_message_if_it_exists$$id$ = $message_circwall$
		:i $kill_panel_message_if_it_exists$$id$ = $message_wcombo$
	:i endif
	:i if $levelIs$$Load_CA$
		:i $kill_panel_message_if_it_exists$$id$ = $message_rock$
	:i endif
	:i if $levelIs$$Load_NO$
		:i $kill_panel_message_if_it_exists$$id$ = $message_panels_broken$
		:i $kill_panel_message_if_it_exists$$id$ = $message_sign_spun$
		:i $kill_panel_message_if_it_exists$$id$ = $message_skulltime$
		:i $kill_panel_message_if_it_exists$$id$ = $message_skulls$
		:i $kill_panel_message_if_it_exists$$id$ = $message_skulls2$
	:i endif
	:i $destroy_edit_theme_preveiw_specialmeter$
	:i $destroy_edit_theme_preveiw_balancemeter$
:i endfunction
:i function $StartingNewNetGame$
	:i $destroy_edit_theme_preveiw_specialmeter$
	:i $destroy_edit_theme_preveiw_balancemeter$
	:i $sound_options_exit$$just_remove$
	:i $edit_tricks_menu_exit$$just_remove$
	:i $kill_all_panel_messages$
	:i if NOT $IsObserving$
		:i $skater$.$RunStarted$
	:i endif
	:i $ClearPowerups$
	:i if NOT $IsObserving$
		:i $ExitSurveyorMode$
	:i endif
	:i if $ScreenElementExists$$id$ = $screenflash$
		:i $fadetoblack$$OFF$$time$ = %GLOBAL%$FadeOffTime$$id$ = $screenflash$
	:i endif
	:i if $ObjectExists$$id$ = $killskater_cam$
		:i $SetActiveCamera$$id$ = $skatercam0$
		:i $killskater_cam$.$die$
	:i endif
:i endfunction
:i function $unlock_root_window$
	:i $SetScreenElementLock$$id$ = $root_window$$OFF$
:i endfunction
:i function $create_object_label$
	:i $SetScreenElementLock$$id$ = $root_window$$OFF$
	:i if $IsTrue$$GLOBAL_HideObjectLabels$
		:i %GLOBAL%$scale$ = %f(0.000000)
	:i else 
		:i %GLOBAL%$scale$ = %f(1.000000)
	:i endif
	:i $CreateScreenElement$:s{
		:i $id$ = %GLOBAL%$id$
		:i $type$ = $textElement$
		:i $parent$ = $root_window$
		:i $font$ = $small$
		:i $text$ = %s(0,"")
		:i $scale$ = %GLOBAL%$scale$
		:i $pos3D$ = %vec3(0.000000,0.000000,0.000000)
		:i $rgba$ = :a{%i(128,00000080)%i(128,00000080)%i(0,00000000)%i(128,00000080):a}
		:i $shadow$
		:i $Shadow_offs$ = %vec2(1.000000,1.000000)
		:i $Shadow_rgba$ = :a{%i(10,0000000a)%i(10,0000000a)%i(10,0000000a)%i(90,0000005a):a}
	:i :s}
	:i if $InNetGame$
		:i if $OnServer$
			:i $Server_BroadcastAllFlags$
		:i endif
	:i endif
:i endfunction
:i function $create_object_label_update$
	:i $SetScreenElementLock$$id$ = $root_window$$OFF$
	:i if $IsTrue$$GLOBAL_HideObjectLabels$
		:i %GLOBAL%$scale$ = %f(0.000000)
	:i else 
		:i if $IsTrue$$observe_overview_cam_state$
			:i %GLOBAL%$scale$ = %f(15.000000)
		:i else 
			:i %GLOBAL%$scale$ = %f(1.000000)
		:i endif
	:i endif
	:i $CreateScreenElement$:s{
		:i $id$ = %GLOBAL%$id$
		:i $type$ = $textElement$
		:i $parent$ = $root_window$
		:i $font$ = $small$
		:i $text$ = %s(0,"")
		:i $scale$ = %GLOBAL%$scale$
		:i $pos3D$ = %vec3(0.000000,0.000000,0.000000)
		:i $rgba$ = :a{%i(128,00000080)%i(128,00000080)%i(0,00000000)%i(128,00000080):a}
		:i $shadow$
		:i $Shadow_offs$ = %vec2(1.000000,1.000000)
		:i $Shadow_rgba$ = :a{%i(10,0000000a)%i(10,0000000a)%i(10,0000000a)%i(90,0000005a):a}
	:i :s}
:i endfunction
:i function $destroy_object_label$
	:i if $ObjectExists$$id$ = %GLOBAL%$id$
		:i $DestroyScreenElement$$id$ = %GLOBAL%$id$
	:i endif
:i endfunction
:i function $destroy_all_player_names$
	:i if $ObjectExists$$id$ = $skater_name_0$
		:i $DestroyScreenElement$$id$ = $skater_name_0$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_1$
		:i $DestroyScreenElement$$id$ = $skater_name_1$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_2$
		:i $DestroyScreenElement$$id$ = $skater_name_2$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_3$
		:i $DestroyScreenElement$$id$ = $skater_name_3$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_4$
		:i $DestroyScreenElement$$id$ = $skater_name_4$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_5$
		:i $DestroyScreenElement$$id$ = $skater_name_5$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_6$
		:i $DestroyScreenElement$$id$ = $skater_name_6$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_7$
		:i $DestroyScreenElement$$id$ = $skater_name_7$
	:i endif
:i endfunction
:i function $update_all_player_names$
	:i if $ObjectExists$$id$ = $skater_name_0$
		:i $DestroyScreenElement$$id$ = $skater_name_0$
		:i $create_object_label_update$$id$ = $skater_name_0$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_1$
		:i $DestroyScreenElement$$id$ = $skater_name_1$
		:i $create_object_label_update$$id$ = $skater_name_1$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_2$
		:i $DestroyScreenElement$$id$ = $skater_name_2$
		:i $create_object_label_update$$id$ = $skater_name_2$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_3$
		:i $DestroyScreenElement$$id$ = $skater_name_3$
		:i $create_object_label_update$$id$ = $skater_name_3$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_4$
		:i $DestroyScreenElement$$id$ = $skater_name_4$
		:i $create_object_label_update$$id$ = $skater_name_4$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_5$
		:i $DestroyScreenElement$$id$ = $skater_name_5$
		:i $create_object_label_update$$id$ = $skater_name_5$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_6$
		:i $DestroyScreenElement$$id$ = $skater_name_6$
		:i $create_object_label_update$$id$ = $skater_name_6$
	:i endif
	:i if $ObjectExists$$id$ = $skater_name_7$
		:i $DestroyScreenElement$$id$ = $skater_name_7$
		:i $create_object_label_update$$id$ = $skater_name_7$
	:i endif
:i endfunction
:i function $create_net_metrics$
	:i $SetScreenElementLock$$id$ = $root_window$$OFF$
	:i $CreateScreenElement$:s{
		:i $id$ = $net_metrics$
		:i $type$ = $textElement$
		:i $parent$ = $root_window$
		:i $font$ = $small$
		:i $text$ = %s(0,"")
		:i $scale$ = %f(1.000000)
		:i $pos$ = %vec2(150.000000,400.000000)
		:i $rgba$ = :a{%i(128,00000080)%i(128,00000080)%i(0,00000000)%i(128,00000080):a}
	:i :s}
:i endfunction
:i function $update_net_metrics$
	:i if NOT $ObjectExists$$id$ = $net_metrics$
		:i $create_net_metrics$
	:i endif
	:i $SetScreenElementProps$:s{
		:i $id$ = $net_metrics$
		:i $text$ = %GLOBAL%$text$
	:i :s}
:i endfunction
:i function $notify_cheating$
	:i if  ( ($request_cheat_toggle$)  = %i(1,00000001)) 
		:i $printf$%s(39,"*          requested that we not notify")
		:i $Change$$request_cheat_toggle$ = %i(0,00000000)
	:i else 
		:i $printf$%s(38,"*          net_message_server_cheating")
		:i $create_net_panel_message$$msg_time$ = %i(6000,00001770)$text$ = $net_message_server_cheating$
	:i endif
:i endfunction
:i function $notify_client_cheating$
	:i if  ( ($request_cheat_toggle$)  = %i(1,00000001)) 
		:i $printf$%s(46,"*          requested that we not notify client")
		:i $Change$$request_cheat_toggle$ = %i(0,00000000)
	:i else 
		:i $FormatText$$TextName$ = $msg_text$%s(22,"Player %s is cheating!")$s$ = %GLOBAL%$String0$
		:i $printf$%GLOBAL%$msg_text$
		:i $create_net_panel_message$$msg_time$ = %i(6000,00001770)$text$ = %GLOBAL%$msg_text$$style$ = $net_team_panel_message$
	:i endif
:i endfunction
:i function $warn_all_same_team$
	:i $create_net_panel_message$$id$ = $goal_message$$text$ = %s(41,"Warning: All players are on the same team")$style$ = $panel_message_generic_loss$$msg_time$ = %i(5000,00001388)
:i endfunction
:i function $flash_buddy_message_icon$
:i endfunction
:i function $kill_buddy_message_icon$
:i endfunction
:i function $GotBuddyMessage$
:i endfunction
:i function $ReadLastBuddyMessage$
:i endfunction
:i function $InitSelectedGoals$
	:i $GoalManager_InitializeAllSelectedGoals$
	:i $GetGoalsMode$
	:i if  (%GLOBAL%$goals$ = $goals_classic$) 
		:i if $IsTrue$$LEVEL_CLASSIC_GOAL_MODE$
			:i $GoalManager_ActivateAllSelectedGoals$
		:i endif
	:i endif
:i endfunction
:i function $PatchCleanup$
:i endfunction
:i $judge_full_name$ = %s(5,"Quazz")
:i :end
