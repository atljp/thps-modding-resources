
NO_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (-9140.599609375, 1073.800048828125, 8152.39990234375)
        positionOffset = (-1104.699951171875, 52.79999923706055, 2288.89990234375)
        frames = 500
        skippable = 1
        text = NO_Intro_Text1
        time = 10000
        cam_start_script = NO_Intro_Line1
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-9140.599609375, 1073.800048828125, 8152.39990234375)
        positionOffset = (-1104.699951171875, 52.79999923706055, 2288.89990234375)
        frames = 300
        skippable = 1
        text = NO_Intro_Text2
        time = 5000
        cam_start_script = NO_Intro_Line2
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-3987.89990234375, 46.79999923706055, 7513.5)
        positionOffset = (1676.199951171875, 539.0, -712.7999877929688)
        frames = 375
        skippable = 1
        goal = NO_Goal_TimedScoreRun
        time = 3000
    }
    {virtual_cam
        TargetID = world
        {targetOffset = (-5966.7998046875, 901.0, 8031.60009765625)
            positionOffset = (540.7000122070312, 788.0999755859375, 439.70001220703125)
        }
        frames = 375
        skippable = 1
        goal = NO_Goal_TrickBeat
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (11751.0, -1592.5999755859375, -3621.10009765625)
        positionOffset = (2692.39990234375, 164.3000030517578, 233.10000610351562)
        frames = 375
        skippable = 1
        goal = NO_Goal_Gaps
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-8085.0, -2069.10009765625, -1634.0999755859375)
        positionOffset = (781.5, 310.0, 2330.60009765625)
        frames = 370
        skippable = 1
        goal = NO_Goal_Gaps2
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (7435.60009765625, -1248.9000244140625, -8572.7001953125)
        positionOffset = (1551.199951171875, 760.4000244140625, -741.0999755859375)
        frames = 375
        skippable = 1
        goal = NO_Goal_Gaps8
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (6908.0, -329.8999938964844, 6495.89990234375)
        positionOffset = (1342.0999755859375, 845.0, -1728.4000244140625)
        frames = 370
        skippable = 1
        goal = NO_Goal_Gaps4
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (5139.89990234375, -1786.9000244140625, -10094.7998046875)
        positionOffset = (-1036.199951171875, 165.8000030517578, -2476.199951171875)
        frames = 370
        skippable = 1
        goal = NO_Goal_Gaps6
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (3027.300048828125, 169.10000610351562, 8828.7998046875)
        positionOffset = (-152.39999389648438, 50.5, -651.2000122070312)
        frames = 370
        skippable = 1
        goal = NO_Goal_SkateTheLine
        time = 6000
    }
]
NO_Pro_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (-7408.0, -408.8999938964844, -7082.5)
        positionOffset = (-87.0999984741211, 45.599998474121094, -285.6000061035156)
        frames = 615
        skippable = 1
        text = 'New goal list unlocked.  Pro goals!'
        time = 10000
        cam_start_script = FirstSwap_VO
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-6281.5, -3018.10009765625, -6369.89990234375)
        positionOffset = (-174.8000030517578, 870.4000244140625, 528.4000244140625)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps13
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (6924.10009765625, -2624.39990234375, -6129.2001953125)
        positionOffset = (2022.800048828125, 277.20001220703125, 2090.10009765625)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps10
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-8089.2998046875, -4022.89990234375, 3780.699951171875)
        positionOffset = (-860.5999755859375, 1240.5, -696.0999755859375)
        frames = 200
        skippable = 1
        goal = NO_Goal_SkateTheLine2
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-8378.5, -2486.39990234375, 6000.60009765625)
        positionOffset = (-1359.0999755859375, 1274.0, -48.099998474121094)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps7
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (3983.10009765625, -2416.300048828125, 7243.7998046875)
        positionOffset = (-43.29999923706055, 34.20000076293945, -1575.5999755859375)
        frames = 200
        skippable = 1
        goal = NO_Goal_TrickObjects
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-5892.2998046875, 2346.89990234375, -9498.0)
        positionOffset = (-377.5, 624.5, -1335.9000244140625)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps5
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-244.89999389648438, 674.2999877929688, -8526.2998046875)
        positionOffset = (2419.199951171875, 187.1999969482422, 1100.0)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps3
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (5593.2001953125, -2460.39990234375, -6590.2998046875)
        positionOffset = (-566.5, 902.4000244140625, 533.4000244140625)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps12
        time = 6000
    }
]
NO_Jester_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (-7249.7001953125, 371.20001220703125, 9644.2001953125)
        positionOffset = (-1791.699951171875, 149.60000610351562, 1268.0)
        frames = 615
        skippable = 1
        text = 'New goal list unlocked.  Guest goals!\nNew Special Trick - The Manual Entertainer!'
        time = 10000
        cam_start_script = FirstSwap_VO
    }
    {virtual_cam
        TargetID = world
        targetOffset = (2481.5, 911.5, -10026.2998046875)
        positionOffset = (1874.0, 51.099998474121094, -82.30000305175781)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps9
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (3505.89990234375, -2194.0, 9042.900390625)
        positionOffset = (-2100.5, 212.5, 1119.800048828125)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps14
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (4305.39990234375, -2590.89990234375, 10208.5)
        positionOffset = (-472.1000061035156, 385.5, 1943.0999755859375)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps19
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (2867.300048828125, 1595.0999755859375, -7435.7998046875)
        positionOffset = (26.100000381469727, 301.0, 2064.199951171875)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps15
        time = 6000
    }
]
NO_Voodoo_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (5316.5, -1115.9000244140625, -12608.5)
        positionOffset = (-97.80000305175781, 95.80000305175781, -4288.7998046875)
        frames = 615
        skippable = 1
        text = 'New goal list unlocked.  Secret goals!'
        time = 10000
        cam_start_script = FirstSwap_VO
    }
    {virtual_cam
        TargetID = world
        targetOffset = (1642.300048828125, 3029.300048828125, 7272.60009765625)
        positionOffset = (-29.399999618530273, 33.400001525878906, -2120.300048828125)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps11
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (4342.7998046875, -1863.5, 7689.39990234375)
        positionOffset = (1102.9000244140625, 91.69999694824219, -1566.9000244140625)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps16
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-6020.7001953125, 886.5999755859375, -9972.400390625)
        positionOffset = (132.89999389648438, 155.1999969482422, -2124.0)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps18
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (7860.0, -1155.4000244140625, -4990.60009765625)
        positionOffset = (-572.5, 353.79998779296875, 168.39999389648438)
        frames = 200
        skippable = 1
        goal = NO_Goal_Gaps17
        time = 6000
    }
]
NO_Equalizer_Intro_Cameras = [
    {virtual_cam
        TargetID = world
        targetOffset = (-3191.699951171875, -430.8999938964844, 7595.5)
        positionOffset = (-280.3999938964844, 60.70000076293945, -1958.5999755859375)
        frames = 500
        skippable = 1
        text = NO_Equalizer_Intro_Text1
        cam_start_script = NO_Equalizer_Intro_Line1
        time = 10000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-6270.39990234375, -394.70001220703125, 6012.2998046875)
        positionOffset = (-154.39999389648438, 57.0, -1886.4000244140625)
        frames = 615
        skippable = 1
        text = NO_Equalizer_Intro_Text2
        cam_start_script = NO_Equalizer_Intro_Line2
        time = 10000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-9255.2001953125, -2463.89990234375, 3216.800048828125)
        positionOffset = (-876.9000244140625, 1101.4000244140625, -916.7000122070312)
        frames = 300
        skippable = 1
        text = NO_Equalizer_Intro_Text3
        cam_start_script = NO_Equalizer_Intro_Line3
        time = 7000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-6270.39990234375, -394.70001220703125, 6012.2998046875)
        positionOffset = (-154.39999389648438, 57.0, -1886.4000244140625)
        frames = 300
        skippable = 1
        text = NO_Equalizer_Intro_Text4
        cam_start_script = NO_Equalizer_Intro_Line4
        time = 7000
    }
]

script NO_Intro_Line1 
    TRG_Ped_Hawk ::obj_playfam NO_Intro_01_Lip vol = 160 priority = StreamPriorityHighest
endscript


script NO_Intro_Line2 
    TRG_Ped_Hawk ::obj_playfam NO_Intro_02_Lip vol = 160 priority = StreamPriorityHighest
endscript


script NO_Equalizer_Intro_Line1 
    TRG_Ped_Equalizer_Intro02 ::obj_playfam NO_Equalizer_Intro_Text1_lip vol = 150 priority = StreamPriorityHighest
endscript


script NO_Equalizer_Intro_Line2 
    TRG_Ped_Equalizer_Intro02 ::obj_stoplastfam
    TRG_Ped_Equalizer_Intro01 ::obj_playfam NO_Equalizer_Intro_Text2_lip vol = 150 priority = StreamPriorityHighest
endscript


script NO_Equalizer_Intro_Line3 
    TRG_veh_heli ::obj_playsound SK6_NO_HeloLoop vol = 200 dropoff = 500 id = HeloLoopSound dropoff_function = exponential
    TRG_Ped_Equalizer_Intro01 ::obj_playfam NO_Equalizer_Intro_Text3_lip vol = 150 priority = StreamPriorityHighest
endscript


script NO_Equalizer_Intro_Line4 
    TRG_Ped_Equalizer_Intro01 ::obj_playfam NO_Equalizer_Intro_Text4_lip vol = 150 priority = StreamPriorityHighest
endscript


script NO_ProSwitch_Line1 
    get_current_skater_name
    switch <name>
        case Burnquist
        printf 'Burnquist'
        TRG_Ped_TeammateIntroPro ::obj_playfam Burnquist_FirstSwap_Lip vol = 200 priority = StreamPriorityHighest
        case Mullen
        printf 'Mullen'
        TRG_Ped_TeammateIntroPro ::obj_playfam Mullen_FirstSwap_Lip vol = 200 priority = StreamPriorityHighest
        case Muska
        printf 'Muska'
        TRG_Ped_TeammateIntroPro ::obj_playfam Muska_FirstSwap_Lip vol = 200 priority = StreamPriorityHighest
        case Vallely
        printf 'Vallely'
        TRG_Ped_TeammateIntroPro ::obj_playfam Vallely_FirstSwap_Lip vol = 200 priority = StreamPriorityHighest
    endswitch
endscript


script NO_setup 
    NO_CreateCars
    NO_CreatePeds
    NO_combo_panels
    NO_manualcheck_init
    NO_Initializer
    NO_chimney_smoke_Particles
    NO_WaterTower_Particles
endscript


script NO_Startup 
    LoadAsset 'models\gameobjects\projectiles\beads\beads.tex'
    LoadAsset 'models\gameobjects\projectiles\beads\beads.mdl' parent = `models\gameobjects\projectiles\beads\beads.tex`
    LoadSkeleton name = 'skeletons/CS_NO_List.ske' CS_NO_List
    LoadSkeleton name = 'skeletons/CS_NO_TunnelGlow.ske' CS_NO_TunnelGlow
endscript

jm_skullcount = 0
jm_panels_broken = 0
jm_skaterinmanual = 0
jm_hurricane = 0
jm_natchez_move = 0
JM_sign_spincount = 0
jm_sewer_escape = 0
FLAG_SKULL = 0
FLAG_CRYPT_1 = 1
FLAG_CRYPT_2 = 2
FLAG_CRYPT_3 = 3
FLAG_CRYPT_4 = 4
FLAG_CRYPT_5 = 5
FLAG_JESUS = 6
FLAG_HELIPAD = 7
FLAG_HELIPAD2 = 8
FLAG_VORTEX = 9
FLAG_SKATER_ON_FLOAT = 10
FLAG_SMOKE1 = 11
FLAG_SMOKE2 = 12
FLAG_TRASH1 = 13
FLAG_TRASH2 = 14

script NO_KillCreate_NetGeo 
    if ((InMultiPlayerGame)|| (InNetGame))
    endif
endscript


script NO_goals 
    if NOT InMultiPlayerGame
    endif
    if InMultiPlayerGame
        add_multiplayer_mode_goals
    endif
    if NOT InSplitScreenGame
        if ((GameModeEquals is_classic)|| (InNetGame))
            AddGoal_HighScore {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {
                        Score = NO_Classic_Easy_HighScore
                        goal_text = NO_Classic_Easy_HighScore_Text
                        view_goals_text = NO_Classic_Easy_HighScore_Text
                    }
                    {
                        Score = NO_Classic_HighScore
                        goal_text = NO_Classic_HighScore_Text
                        view_goals_text = NO_Classic_HighScore_Text
                    }
                ]
                view_goals_cameras = [{
                        name = CAM_NO_Classic_Intro
                        frames = 1200
                        skippable = 1
                    }
                ]
            }
            AddGoal_ProScore {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {
                        Score = NO_Classic_Easy_ProScore
                        goal_text = NO_Classic_Easy_ProScore_Text
                        view_goals_text = NO_Classic_Easy_ProScore_Text
                    }
                    {
                        Score = NO_Classic_ProScore
                        goal_text = NO_Classic_ProScore_Text
                        view_goals_text = NO_Classic_ProScore_Text
                    }
                ]
            }
            AddGoal_SickScore {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {
                        Score = NO_Classic_Easy_SickScore
                        goal_text = NO_Classic_Easy_SickScore_Text
                        view_goals_text = NO_Classic_Easy_SickScore_Text
                    }
                    {
                        Score = NO_Classic_SickScore
                        goal_text = NO_Classic_SickScore_Text
                        view_goals_text = NO_Classic_SickScore_Text
                    }
                ]
            }
            AddGoal_HighCombo {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {
                        Score = NO_Classic_Easy_HighCombo
                        goal_text = NO_Classic_Easy_HighCombo_Text
                        view_goals_text = NO_Classic_Easy_HighCombo_Text
                    }
                    {
                        Score = NO_Classic_HighCombo
                        goal_text = NO_Classic_HighCombo_Text
                        view_goals_text = NO_Classic_HighCombo_Text
                    }
                ]
            }
            AddGoal_Skate {
                unlimited_time
                classic_mode_goal
                S_obj_id = TRG_SKATE_S
                K_obj_id = TRG_SKATE_K
                A_obj_id = TRG_SKATE_A
                T_obj_id = TRG_SKATE_T
                E_obj_id = TRG_SKATE_E
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (4109.7998046875, -2804.5, 4794.0)
                        positionOffset = (-77.5, 458.70001220703125, -3680.39990234375)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Combo {
                unlimited_time
                classic_mode_goal
                letter_info = [
                    {obj_id = TRG_COMBO_C text = 'C'}
                    {obj_id = TRG_COMBO_O text = 'O'}
                    {obj_id = TRG_COMBO_M text = 'M'}
                    {obj_id = TRG_COMBO_B text = 'B'}
                    {obj_id = TRG_COMBO_O01 text = 'O'}
                ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-6243.5, -585.7999877929688, 8551.7001953125)
                        positionOffset = (1618.300048828125, 301.20001220703125, 2435.89990234375)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Gaps {
                unlimited_time
                classic_mode_goal
                goal_text = '\t1 (\k1) The Big Crypt'
                view_goals_text = '\t1 (\k1) The Big Crypt'
                goal_description = '\t1 (\k1) The Big Crypt'
                key_combos = [ Air_CircleUL ]
                goal_flags = [ got_1
                 ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (7061.89990234375, -4475.7998046875, -287.1000061035156)
                        positionOffset = (-680.2999877929688, 457.3999938964844, -4251.5)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Collect {
                unlimited_time
                classic_mode_goal
                collect_type = 'Voodoo Dolls'
                use_hud_counter
                hud_counter_caption = 'Dolls Collected'
                goal_text = 'Collect 5 Voodoo Dolls'
                view_goals_text = 'Collect 5 Voodoo Dolls'
                goal_description = 'Collect 5 Voodoo Dolls'
                init_script = NO_Goal_Classic_Voodoo_Init
                goal_deactivate_script = NO_Goal_Classic_Voodoo_Deactivate
                goal_flags = [got_1
                    got_2
                    got_3
                    got_4
                    got_5
                ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (3221.300048828125, -3638.5, 6138.7998046875)
                        positionOffset = (-47.29999923706055, 340.3999938964844, -2433.5)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Collect {
                unlimited_time
                classic_mode_goal
                collect_type = 'Crystal Balls'
                version = 2
                use_hud_counter
                hud_counter_caption = 'Dolls Collected'
                goal_text = 'Smash 5 Crystal Balls'
                view_goals_text = 'Smash 5 Crystal Balls'
                goal_description = 'Smash 5 Crystal Balls'
                init_script = NO_Goal_Classic_CrystalBall_Init
                goal_deactivate_script = NO_Goal_Classic_CrystalBall_Deactivate
                goal_flags = [got_1
                    got_2
                    got_3
                    got_4
                    got_5
                ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-3138.89990234375, -3639.5, 5695.2998046875)
                        positionOffset = (1629.800048828125, 983.7999877929688, -1780.300048828125)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_SecretTape {
                classic_mode_goal
                goal_text = 'Get the secret tape'
                view_goals_text = 'Get the secret tape'
                goal_description = 'Get the secret tape'
                secret_tape_id = TRG_NO_Secret_Tape
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-3489.699951171875, -699.7999877929688, -10077.7998046875)
                        positionOffset = (1125.9000244140625, 804.0, -1335.199951171875)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
        else
            if NOT ((GameModeEquals is_singlesession)|| (GameModeEquals is_creategoals))
                if NOT InNetGame
                endif
            endif
        endif
    endif
endscript


script NO_Main_Story_goals 
    NO_AddGoal_TimedScoreRun
    NO_AddGoal_TrickToTheBeat
    NO_AddGoal_Gap
    NO_AddGoal_Secret
    NO_AddGoal_Spat
    NO_AddGoal_WaterTower
    NO_AddGoal_RaiseTheDead
    NO_AddGoal_SkatetheLine
    NO_AddGoal_Nawlins
    NO_AddGoal_TrolleyWallie
    NO_AddGoal_Spines
    NO_AddGoal_BigBillboard
    NO_AddGoal_Manhole
    NO_AddGoal_Birds
    NO_AddGoal_GasLamps
    NO_AddGoal_BigFocus
    NO_AddGoal_Parade
    NO_AddGoal_Hurricane
    NO_AddGoal_Team
    NO_AddGoal_Balconies
    NO_AddGoal_Zombies
    NO_AddGoal_Dumpster
    NO_AddGoal_Natas
    NO_AddGoal_Signs
endscript


script NO_Capstone_Story_goals 
    NO_AddGoal_Equalizer
endscript


script NO_AddGoal_TimedScoreRun 
    AddGoal_TimedScoreRun {
        reward_points = 25
        view_goals_text = NO_TimedScoreRun_View_Goal_Text
        goal_text = NO_TimedScoreRun_Goal_Text
        goal_description = NO_TimedScoreRun_Goal_Description
        can_retry_goal
        restart_node = TRG_Restart_Arcade
        view_goals_cameras = [
            {targetOffset = (-3987.89990234375, 46.79999923706055, 7513.5)
                positionOffset = (1676.199951171875, 539.0, -712.7999877929688)
            }
        ]
        time = 60
        skater = custom
        trigger_obj_id = TRG_Arcade_Machine
        pro = 'Arcade machine'
        trigger_wait_script = NullScript
        trigger_start_script = arcade_machine_start_goal
        trigger_success_script = NullScript
        restart_node = TRG_Restart_Arcade
        always_initialize_goal
        dont_kill_trigger_on_success
    }
endscript


script NO_AddGoal_TrickToTheBeat 
    AddGoal_TrickBeat {
        unlimited_time = 0
        reward_points = 25
        view_goals_text = NO_TrickToTheBeat_View_Goal_Text
        goal_text = NO_TrickToTheBeat_Goal_Text
        goal_description = NO_TrickToTheBeat_View_Goal_Description
        view_goals_tip = NO_TrickToTheBeat_View_Goal_Tip
        view_goals_cameras = [
            {
                targetOffset = (-5966.7998046875, 901.0, 8031.60009765625)
                positionOffset = (540.7000122070312, 788.0999755859375, 439.70001220703125)
            }
        ]
        skater = custom
        time = 60
        can_retry_goal
        restart_node = TRG_Restart_BeatBox
        pro = 'Boombox'
        trigger_obj_id = TRG_BeatBox
        always_initialize_goal
        trigger_wait_script = NullScript
        trigger_start_script = NO_BeatBox_start_goal
        trigger_success_script = NullScript
        beat_window_time = 255
        total_to_win = 10
        block_size = 1
        goal_trick_beat_key_combos = [
            Air_SquareD
            Air_SquareR
            Air_SquareL
            Air_SquareU
            Air_CircleU
            Air_CircleL
            Air_CircleD
            Air_CircleR
        ]
        tempo = 105
        beat_pattern = [
            {sounds = [{GoToLoadLevel vol = ((BO_MUSIC_KickDrumVolume * 2)+ randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
            {sounds = [{MB_HiHat_01 vol = (BO_MUSIC_HiHatVolume + randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
            {pulse
                sounds = [{SK6_BO_RevolutionaryDrum01 vol = (BO_MUSIC_SnareDrumVolume + randomrange (0.10000000149011612, 4.0))pitch = (160 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
            {sounds = [{MB_HiHat_01 vol = (BO_MUSIC_HiHatVolume + randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {
                sounds = [{GoToLoadLevel vol = ((BO_MUSIC_KickDrumVolume * 2)+ randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {
                sounds = [{GoToLoadLevel vol = ((BO_MUSIC_KickDrumVolume * 2)+ randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
            {sounds = [{GoToLoadLevel vol = ((BO_MUSIC_KickDrumVolume * 2)+ randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}
                    {MB_HiHat_01 vol = (BO_MUSIC_HiHatVolume + randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
            {pulse
                sounds = [{SK6_BO_RevolutionaryDrum01 vol = (BO_MUSIC_SnareDrumVolume + randomrange (0.10000000149011612, 4.0))pitch = (160 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
            {sounds = [{MB_HiHat_01 vol = (BO_MUSIC_HiHatVolume + randomrange (0.10000000149011612, 4.0))pitch = (100 + randomrange (0.10000000149011612, 3.0))}]
            }
            {}
        ]
    }
endscript


script NO_BeatBox_start_goal 
    create_panel_message {text = 'Trick to the beat!' style = goal_collect_text}
    GoalManager_ActivateGoal name = NO_Goal_TrickBeat
endscript


script NO_AddGoal_Gap 
    AddGoal_Gaps {
        silent_activation
        skater = custom
        reward_points = 25
        view_goals_text = NO_BoatSlapper_View_Goal_Text
        goal_description = NO_BoatSlapper_View_Goal_Description
        view_goals_tip = NO_BoatSlapper_View_Goal_Tip
        collect_type = 'Riverboat Slaps'
        goal_flags = [got_1
            got_2
            got_3
        ]
        view_goals_cameras = [
            {targetOffset = (11751.0, -1592.5999755859375, -3621.10009765625)
                positionOffset = (2692.39990234375, 164.3000030517578, 233.10000610351562)
            }
        ]
    }
endscript


script NO_AddGoal_Spat 
    AddGoal_Gaps {
        silent_activation
        skater = custom
        version = 8
        reward_points = 25
        collect_type = 'Spat Tags'
        view_goals_text = NO_SpatTags_View_Goal_Text
        goal_description = NO_SpatTags_View_Goal_Description
        goal_flags = [got_1
            got_2
            got_3
            got_4
            got_5
        ]
        view_goals_cameras = [
            {targetOffset = (7435.60009765625, -1248.9000244140625, -8572.7001953125)
                positionOffset = (1551.199951171875, 760.4000244140625, -741.0999755859375)
            }
        ]
    }
endscript


script NO_AddGoal_WaterTower 
    AddGoal_Gaps {
        silent_activation
        skater = custom
        version = 4
        reward_points = 25
        view_goals_text = NO_WaterTower_View_Goal_Text
        goal_description = NO_WaterTower_View_Goal_Description
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (6908.0, -329.8999938964844, 6495.89990234375)
                positionOffset = (1342.0999755859375, 845.0, -1728.4000244140625)
            }
        ]
    }
endscript


script NO_AddGoal_Secret 
    AddGoal_Gaps {
        silent_activation
        skater = custom
        version = 2
        reward_points = 25
        view_goals_text = NO_FindJester_View_Goal_Text
        goal_description = NO_FindJester_View_Goal_Description
        success_node = TRG_Restart_Jester_Found
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (-8085.0, -2069.10009765625, -1634.0999755859375)
                positionOffset = (781.5, 310.0, 2330.60009765625)
            }
        ]
        success_cam_anims = [
            {virtual_cam
                TargetID = world
                targetOffset = (-9874.7001953125, 508.70001220703125, 7129.2998046875)
                positionOffset = (-1752.199951171875, 156.5, 1307.0)
                frames = 100
                skippable = 1
                pre_anim_script = NO_Goal_Secret_Success
                cam_anim_text = [ 'Thanks for getting me off that float.  Here, let me buy you a drink.'
                 ]
            }
        ]
    }
endscript


script NO_AddGoal_RaiseTheDead 
    AddGoal_Gaps {
        silent_activation
        skater = custom
        version = 6
        reward_points = 25
        view_goals_text = NO_RaiseTheDead_View_Goal_Text
        goal_description = NO_RaiseTheDead_View_Goal_Description
        goal_success_script = NO_Goal_RaiseTheDead_Success
        view_goals_tip = NO_RaiseTheDead_View_Goal_Tip
        collect_type = 'Crypts'
        goal_flags = [got_1
            got_2
            got_3
            got_4
            got_5
        ]
        view_goals_cameras = [
            {targetOffset = (5139.89990234375, -1786.9000244140625, -10094.7998046875)
                positionOffset = (-1036.199951171875, 165.8000030517578, -2476.199951171875)
            }
        ]
    }
endscript


script NO_AddGoal_SkatetheLine 
    AddGoal_SkateTheLine {
        skater = custom
        reward_points = 100
        view_goals_text = NO_SaveNawlins_View_Goal_Text
        goal_description = NO_SaveNawlins_View_Goal_Description
        view_goals_tip = NO_SaveNawlins_View_Goal_Tip
        goal_flags = [
            got_1
            got_2
            got_3
            got_4
        ]
        unlimited_time
        view_goals_cameras = [
            {targetOffset = (3027.300048828125, 169.10000610351562, 8828.7998046875)
                positionOffset = (-152.39999389648438, 50.5, -651.2000122070312)
                time = 2
            }
            {targetOffset = (-2057.199951171875, -7541.0, -7999.60009765625)
                positionOffset = (91.80000305175781, -2238.699951171875, 202.0)
                time = 2
            }
            {targetOffset = (4251.2998046875, 1216.699951171875, 11498.2998046875)
                positionOffset = (-278.0, 102.9000015258789, 2653.0)
                time = 2
            }
        ]
        goal_success_script = NO_voodoo_vortex_end
        key_combos = [ Air_CircleDR ]
        goal_objects = [
            {
                flag = got_1
                time = 10
                trick_objects = [
                    {name = g_vortex_base light_group = outdoor}
                ]
            }
            {
                text = 'Grind the Underworld Ring\n\n\nHold(\b0)'
                flag = got_2
                time = 10
                trick_objects = [
                    {name = JG_Swr_Chandalier light_group = outdoor}
                ]
            }
            {
                text = 'Now Jump off!'
                flag = got_3
                time = 10
                trick_objects = [
                    {name = JG_Swr_Chandalier light_group = outdoor}
                ]
            }
            {
                text = 'Save Nawlins!\nQuickly do a trick (\ba+\b2) over the Church Statue'
                flag = got_4
                time = 15
                trick_objects = [
                    {name = g_church_47 light_group = outdoor}
                    {name = g_church_vfer1_01 light_group = outdoor}
                    {name = g_church_vfer1_02 light_group = outdoor}
                ]
            }
        ]
    }
endscript


script NO_AddGoal_Equalizer 
    AddGoal_SkateTheLine {
        skater = custom
        version = 3
        can_retry_goal
        restart_node = TRG_Restart_Equalizer
        reward_points = 1000
        view_goals_text = 'The Equalizer'
        goal_text = 'Avoid security and get up to the helicopter on the roof.'
        goal_description = [
            '- Grab (\bf) onto the helicopter\'s skid'
            '- Acid drop (\ml) into the pool below'
            '- Air up and grab the helicopter again'
            '- Acid Drop (\ml) again'
            '- Spine (\ml) Over the helicopter'
        ]
        goal_flags = [
            got_1
            got_2
            got_3
        ]
        restart_node = TRG_Restart_Equalizer
        view_goals_cameras = [
            {targetOffset = (-6760.2998046875, -5380.7998046875, -4692.10009765625)
                positionOffset = (-884.0, 1378.5, -244.5)
                time = 2
            }
            {targetOffset = (-6180.89990234375, -6350.7001953125, 2376.699951171875)
                positionOffset = (-126.19999694824219, 1362.4000244140625, 415.3999938964844)
                time = 2
            }
            {targetOffset = (-6180.89990234375, -6350.7001953125, 2376.699951171875)
                positionOffset = (-126.19999694824219, 1362.4000244140625, 415.3999938964844)
                time = 2
            }
            {targetOffset = (-3647.800048828125, -6451.2001953125, -3508.300048828125)
                positionOffset = (-325.1000061035156, 1289.199951171875, 1881.0)
                time = 2
            }
            {targetOffset = (-6777.0, -2297.0, -6357.89990234375)
                positionOffset = (-172.1999969482422, 871.7000122070312, 449.0)
                time = 2
            }
        ]
        goal_fail_script = NO_Reset_Equalizer_Die
        goal_deactivate_script = NO_Reset_Equalizer
        goal_success_script = NO_Equalizer_Success
        goal_objects = [
            {
                text = 'Walk up to the helicopter, jump and grab (\bf) the skid'
                flag = got_1
                time = 10
                trick_objects = [
                    {name = g_blockD_64 light_group = outdoor}
                ]
            }
            {
                text = 'Hold on till we get into position!'
                flag = got_2
                time = 10
                trick_objects = [
                    {name = g_blockD_64 light_group = outdoor}
                ]
            }
            {
                text = 'Acid drop (\ml) again and then spine (\ml) over the helicopter'
                flag = got_3
                time = 15
                trick_objects = [
                    {name = g_blockD_04 light_group = outdoor}
                    {name = g_blockD_64 light_group = outdoor}
                    {name = g_blockB_vfer_00 light_group = outdoor}
                ]
            }
        ]
    }
endscript


script NO_AddGoal_BigBillboard 
    AddGoal_Gaps {
        silent_activation
        skater = pro
        unlocked_by_another
        version = 7
        reward_points = 50
        goal_success_script = NO_Goal_Gaps7_Success
        view_goals_text = NO_BigBillboard_View_Goal_Text
        goal_description = NO_BigBillboard_View_Goal_Description
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (-8378.5, -2486.39990234375, 6000.60009765625)
                positionOffset = (-1359.0999755859375, 1274.0, -48.099998474121094)
            }
        ]
    }
endscript


script NO_AddGoal_TrolleyWallie 
    AddGoal_Gaps {
        silent_activation
        skater = pro
        unlocked_by_another
        version = 10
        reward_points = 25
        view_goals_text = NO_WallieTrolley_View_Goal_Text
        view_goals_tip = NO_WallieTrolley_Tip
        goal_description = NO_WallieTrolley_Description
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (6924.10009765625, -2624.39990234375, -6129.2001953125)
                positionOffset = (2022.800048828125, 277.20001220703125, 2090.10009765625)
            }
        ]
    }
endscript


script NO_AddGoal_Spines 
    AddGoal_SkateTheLine {
        skater = pro
        unlocked_by_another
        version = 2
        reward_points = 25
        require_combo
        can_retry_goal
        restart_node = TRG_Restart_SpineTingler
        view_goals_text = NO_SpineTingler_View_Goal_Text
        goal_description = NO_SpineTingler_Description
        goal_success_script = NO_Goal_Spines_Success
        view_goals_cameras = [
            {
                targetOffset = (-8089.2998046875, -4022.89990234375, 3780.699951171875)
                positionOffset = (-860.5999755859375, 1240.5, -696.0999755859375)
                time = 2
            }
            {
                targetOffset = (-7781.10009765625, -4479.89990234375, 4742.7001953125)
                positionOffset = (-831.9000244140625, 821.5999755859375, -115.30000305175781)
                time = 2
            }
            {targetOffset = (-7484.7001953125, -6080.89990234375, 3900.89990234375)
                positionOffset = (-1055.300048828125, 827.2000122070312, 594.0)
                time = 2
            }
        ]
        goal_flags = [
            got_1
            got_2
            got_3
        ]
        unlimited_time = 0
        goal_objects = [
            {
                flag = got_1
                time = 15
                trick_objects = [
                    {name = g_blockB_vfer_03 light_group = outdoor}
                    {name = g_blockB_extra_02 light_group = outdoor}
                ]
            }
            {
                text = 'Spine Tingler Combo\nNext spine into the pool on the bar rooftop'
                flag = got_2
                time = 15
                trick_objects = [
                    {name = g_blockD_qp02 light_group = outdoor}
                    {name = g_blockD_62 light_group = outdoor}
                ]
            }
            {
                text = 'Spine Tingler Combo\nFinally spine into the bar'
                flag = got_3
                time = 15
                trick_objects = [
                    {name = g_blockD_62 light_group = outdoor}
                    {name = g_blockD_vfer_00 light_group = outdoor}
                ]
            }
        ]
    }
endscript


script NO_AddGoal_Nawlins 
    AddGoal_Gaps {
        silent_activation
        skater = pro
        unlocked_by_another
        version = 13
        reward_points = 25
        view_goals_text = NO_StreetTransfer_View_Goal_Text
        goal_description = NO_StreetTransfer_Description
        view_goals_cameras = [
            {targetOffset = (-6281.5, -3018.10009765625, -6369.89990234375)
                positionOffset = (-174.8000030517578, 870.4000244140625, 528.4000244140625)
            }
        ]
        goal_flags = [ got_1
         ]
    }
endscript


script NO_AddGoal_Manhole 
    AddGoal_TrickTheObjects {
        skater = pro
        unlocked_by_another
        reward_points = 50
        num_flags_to_win = 5
        view_goals_text = NO_ManholeManual_View_Goal_Text
        goal_description = NO_ManholeManual_Description
        goal_start_script = NO_ManHoleManual_Start
        goal_deactivate_script = NO_ManHoleManual_Deactivate
        view_goals_cameras = [
            {targetOffset = (3983.10009765625, -2416.300048828125, 7243.7998046875)
                positionOffset = (-43.29999923706055, 34.20000076293945, -1575.5999755859375)}
        ]
        goal_objects = [
            {cluster_id = g_manspot_01 flag = got_1}
            {cluster_id = g_manspot_02 flag = got_2}
            {cluster_id = g_manspot_03 flag = got_3}
            {cluster_id = g_manspot_04 flag = got_4}
            {cluster_id = g_manspot_05 flag = got_5}
            {cluster_id = g_manspot_06 flag = got_6}
            {cluster_id = g_manspot_07 flag = got_7}
            {cluster_id = g_manspot_08 flag = got_8}
            {cluster_id = g_manspot_09 flag = got_9}
            {cluster_id = g_manspot_10 flag = got_10}
            {cluster_id = g_manspot_11 flag = got_11}
        ]
        goal_flags = [
            got_1
            got_2
            got_3
            got_4
            got_5
            got_6
            got_7
            got_8
            got_9
            got_10
            got_11
        ]
        trick_object_prefix = 'g_manspot_'
        trick_object_light_group = outdoor
        require_combo
        no_fail_messages
    }
endscript


script NO_ManHoleManual_Start 
    SpawnScript NO_Manhole_Counter
endscript


script NO_ManHoleManual_Deactivate 
    KillSpawnedScript name = NO_Manhole_Counter
endscript


script NO_Manhole_Counter 
    <manhole> = 0
    <manhole_old> = 0
    begin 
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_1
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_2
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_3
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_4
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_5
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_6
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_7
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_8
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_9
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_10
        <manhole> = (<manhole> + 1)
    endif
    if GoalManager_GoalFlagSet name = NO_Goal_TrickObjects flag = got_11
        <manhole> = (<manhole> + 1)
    endif
    if (<manhole> > <manhole_old>)
        switch <manhole>
            case 1
            create_panel_message {id = current_goal text = '1 of 5 manholes! ' style = goal_collect_text}
            case 2
            create_panel_message {id = current_goal text = '2 of 5 manholes! ' style = goal_collect_text}
            case 3
            create_panel_message {id = current_goal text = '3 of 5 manholes! ' style = goal_collect_text}
            case 4
            create_panel_message {id = current_goal text = '4 of 5 manholes! ' style = goal_collect_text}
            case 5
            create_panel_message {id = current_goal text = 'That\'s 5!  Now land it! ' style = goal_collect_text}
            default 
        endswitch
    endif
    <manhole_old> = <manhole>
    <manhole> = 0
    wait 5 frames
    repeat 
endscript


script NO_AddGoal_Birds 
    AddGoal_Gaps {
        silent_activation
        skater = pro
        unlocked_by_another
        version = 5
        reward_points = 50
        collect_type = 'birds'
        view_goals_text = NO_SmackBirds_View_Goal_Text
        goal_description = NO_SmackBirds_Description
        view_goals_tip = NO_SmackBirds_View_Goal_Tip
        goal_success_script = NO_Goal_Birds_Success
        goal_flags = [got_1
            got_2
            got_3
        ]
        view_goals_cameras = [
            {targetOffset = (-5892.2998046875, 2346.89990234375, -9498.0)
                positionOffset = (-377.5, 624.5, -1335.9000244140625)
            }
        ]
    }
endscript


script NO_AddGoal_GasLamps 
    AddGoal_Gaps {
        silent_activation
        skater = pro
        unlocked_by_another
        version = 3
        reward_points = 50
        view_goals_text = NO_GasLamps_View_Goal_Text
        goal_description = NO_GasLamps_Description
        collect_type = 'Gaslamps'
        view_goals_cameras = [
            {targetOffset = (-244.89999389648438, 674.2999877929688, -8526.2998046875)
                positionOffset = (2419.199951171875, 187.1999969482422, 1100.0)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
        ]
    }
endscript


script NO_AddGoal_BigFocus 
    AddGoal_Gaps {
        silent_activation
        skater = pro
        unlocked_by_another
        version = 12
        reward_points = 50
        view_goals_text = NO_BigFocus_View_Goal_Text
        view_goals_tip = NO_BigFocus_View_Goal_Tip
        view_goals_cameras = [
            {targetOffset = (5593.2001953125, -2460.39990234375, -6590.2998046875)
                positionOffset = (-566.5, 902.4000244140625, 533.4000244140625)
            }
        ]
        goal_flags = [ got_1
         ]
        difficulty_level_params = [
            {
                goal_description = NO_BigFocus_Easy_Description
            }
            {
                goal_description = NO_BigFocus_Normal_Description
            }
            {
                goal_description = NO_BigFocus_Hard_Description
            }
        ]
    }
endscript


script NO_AddGoal_Parade 
    AddGoal_Gaps {
        silent_activation
        skater = jester
        version = 9
        reward_points = 50
        unlocked_by_another
        collect_type = 'Girls gone crazy'
        view_goals_text = NO_GirlsGoneCrazy_View_Goal_Text
        goal_description = NO_GirlsGoneCrazy_Description
        goal_flags = [got_1
            got_2
            got_3
            got_4
            got_5
        ]
        view_goals_cameras = [
            {targetOffset = (2481.5, 911.5, -10026.2998046875)
                positionOffset = (1874.0, 51.099998474121094, -82.30000305175781)
            }
        ]
    }
endscript


script NO_AddGoal_Hurricane 
    AddGoal_Gaps {
        silent_activation
        skater = jester
        unlocked_by_another
        version = 14
        reward_points = 50
        view_goals_text = NO_AcidHurricane_View_Goal_Text
        goal_description = NO_AcidHurricane_Description
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (3505.89990234375, -2194.0, 9042.900390625)
                positionOffset = (-2100.5, 212.5, 1119.800048828125)
            }
        ]
    }
endscript


script NO_AddGoal_Balconies 
    AddGoal_Gaps {
        silent_activation
        skater = jester
        unlocked_by_another
        version = 15
        reward_points = 50
        view_goals_text = NO_BalconyBreaker_View_Goal_Text
        goal_description = NO_BalconyBreaker_Description
        view_goals_tip = NO_BalconyBreaker_Tip
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (2867.300048828125, 1595.0999755859375, -7435.7998046875)
                positionOffset = (26.100000381469727, 301.0, 2064.199951171875)
            }
        ]
    }
endscript


script NO_AddGoal_Team 
    AddGoal_Gaps {
        version = 19
        silent_activation
        unlocked_by_another
        skater = jester
        reward_points = 50
        view_goals_text = NO_TeamChallenge_View_Goal_Text
        goal_description = NO_TeamChallenge_Description
        view_goals_cameras = [
            {targetOffset = (4305.39990234375, -2590.89990234375, 10208.5)
                positionOffset = (-472.1000061035156, 385.5, 1943.0999755859375)
            }
        ]
        goal_flags = [
            {skater = pro goal_flags = [ got_1 ]}
            {skater = custom goal_flags = [ got_1 ]}
            {skater = jester goal_flags = [ got_1 ]}
        ]
    }
endscript


script NO_AddGoal_Zombies 
    AddGoal_Gaps {
        silent_activation
        skater = Voodoo
        unlocked_by_another
        version = 11
        reward_points = 50
        view_goals_text = NO_ZombieHunter_View_Goal_Text
        goal_description = NO_ZombieHunter_Description
        view_goals_tip = NO_ZombieHunter_Tip
        collect_type = 'Zombies Killed'
        view_goals_cameras = [
            {targetOffset = (1642.300048828125, 3029.300048828125, 7272.60009765625)
                positionOffset = (-29.399999618530273, 33.400001525878906, -2120.300048828125)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
            got_4
            got_5
            got_6
            got_7
            got_8
            got_9
            got_10
        ]
    }
endscript


script NO_AddGoal_Dumpster 
    AddGoal_Gaps {
        silent_activation
        skater = Voodoo
        unlocked_by_another
        version = 16
        reward_points = 50
        view_goals_text = NO_Trashman_View_Goal_Text
        goal_description = NO_TrashMan_Description
        view_goals_tip = NO_TrashMan_Tip
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (4342.7998046875, -1863.5, 7689.39990234375)
                positionOffset = (1102.9000244140625, 91.69999694824219, -1566.9000244140625)
            }
        ]
    }
endscript


script NO_AddGoal_Natas 
    AddGoal_Gaps {
        silent_activation
        skater = Voodoo
        unlocked_by_another
        version = 18
        reward_points = 50
        view_goals_text = NO_NatasNeversoft_View_Goal_Text
        goal_description = NO_NatasNeversoft_Description
        view_goals_tip = NO_NatasNeversoft_Tip
        goal_flags = [ got_1
         ]
        view_goals_cameras = [
            {targetOffset = (-6020.7001953125, 886.5999755859375, -9972.400390625)
                positionOffset = (132.89999389648438, 155.1999969482422, -2124.0)
            }
        ]
    }
endscript


script NO_AddGoal_Signs 
    AddGoal_Gaps {
        silent_activation
        skater = Voodoo
        version = 17
        reward_points = 50
        unlocked_by_another
        collect_type = 'Signs spun'
        view_goals_text = NO_SignSpinner_View_Goal_Text
        goal_description = NO_SignSpinnder_Description
        goal_flags = [got_1
            got_2
            got_3
        ]
        view_goals_cameras = [
            {targetOffset = (7860.0, -1155.4000244140625, -4990.60009765625)
                positionOffset = (-572.5, 353.79998779296875, 168.39999389648438)
            }
        ]
    }
endscript


script NO_killCars 
    Kill prefix = 'TRG_veh_jester'
    Kill prefix = 'TRG_veh_float'
    Kill prefix = 'TRG_veh_donkey'
    Kill name = TRG_veh_float_ghost
endscript


script NO_CreateCars 
    <vehicle> = Random (@ 1 @ 2)
    switch <vehicle>
        case 1
        if NOT IsAlive name = TRG_veh_float1
            Create name = TRG_veh_float1
        endif
        if NOT GoalManager_HasWonGoal name = NO_Goal_Gaps2
            if NOT IsAlive name = TRG_veh_jester1
                Create name = TRG_veh_jester1
                printf 'create jester 1'
            endif
        endif
        case 2
        if NOT IsAlive name = TRG_veh_float2
            Create name = TRG_veh_float2
        endif
        if NOT GoalManager_HasWonGoal name = NO_Goal_Gaps2
            if NOT IsAlive name = TRG_veh_jester1
                Create name = TRG_veh_jester2
                printf 'create jester 2'
            endif
        endif
        case 3
        if NOT IsAlive name = TRG_veh_float1
            Create name = TRG_veh_donkey1
        endif
        case 4
        if NOT IsAlive name = TRG_veh_float1
            Create name = TRG_veh_donkey2
        endif
    endswitch
    if IsCareerMode
        if NOT IsAlive name = TRG_veh_float_ghost
            Create name = TRG_veh_float_ghost
        endif
    endif
endscript


script NO_veh_path01_end 
    SpawnScript NO_veh_path01_spawncar id = NO_spawncar
    Die
endscript


script NO_Initializer 
    NO_Sewer_Off
    SpawnScript NO_FakeLights_Off
    if GameModeEquals is_classic
    endif
    if GameModeEquals is_career
        Create name = TRG_Ped_Hawk
        Create name = TRG_Ped_TeammatePro
        if GoalManager_HasWonGoal name = NO_Goal_Gaps7
            Create name = NO_AS_MasterPiece_final01
        endif
        if GoalManager_HasWonGoal name = NO_Goal_Gaps8
            Create prefix = 'SPAT_COVER'
        else
            Create prefix = 'SPAT'
            Kill prefix = 'SPAT_COVER'
        endif
        if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps5
            if NOT GoalManager_HasWonGoal name = NO_Goal_Gaps5
                Create name = TRG_Ped_Hint_Birds
            endif
        endif
        if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps6
            if NOT GoalManager_HasWonGoal name = NO_Goal_Gaps6
                Create name = TRG_Ped_Hint_Skulls
            endif
        endif
        if NOT GoalManager_GoalIsLocked name = NO_Goal_SkateTheLine2
            if NOT GoalManager_HasWonGoal name = NO_Goal_SkateTheLine2
                Create name = TRG_Ped_Hint_Spine
            endif
        endif
        if GoalManager_HasWonGoal name = NO_Goal_Gaps2
            if NOT IsAlive name = TRG_Switchable_Jester
                Create name = TRG_Switchable_Jester
            endif
        endif
        if NOT IsAlive name = TRG_veh_heli
            if GoalManager_HasWonGoal name = NO_Goal_Gaps6
                if NOT IsAlive name = TRG_ped_voodoo_tricycle01
                    Create name = TRG_ped_voodoo_tricycle01
                endif
            endif
        endif
    endif
endscript


script NO_Goal_Classic_CrystalBall_Init 
    printf 'Crystal'
    Create prefix = 'Classic_CrystalBall'
endscript


script NO_Goal_Classic_CrystalBall_Deactivate 
    Kill prefix = 'Classic_CrystalBall'
endscript


script NO_Goal_Classic_Voodoo_Init 
    Create prefix = 'TRG_Classic_VoodooDoll_'
endscript


script NO_Goal_Classic_Voodoo_Deactivate 
    Kill prefix = 'TRG_Classic_VoodooDoll_'
endscript


script NO_Equalizer_Start 
    if NOT IsAlive name = TRG_veh_heli
        Create name = TRG_veh_heli
        Create name = Veh_NO_Heli_Blades
        Create name = TRGP_Equalizer_Start
        Create prefix = 'TRG_Ped_Equalizer_Security'
    endif
    Kill name = TRG_Ped_TeammatePro
    Kill name = TRG_Switchable_Jester
    Kill name = TRG_ped_voodoo_tricycle01
    Kill name = TRG_Ped_Hint_Birds
    Kill name = g_blockD_65
    Kill name = g_blockD_67
endscript


script NO_Equalizer_Intro_Setup 
    Create prefix = 'TRG_Ped_Equalizer_Intro'
endscript


script NO_Equalizer_Intro_CleanUp 
    Kill prefix = 'TRG_Ped_Equalizer_Intro'
    kill_panel_message_if_it_exists id = current_goal
    create_panel_block id = current_goal text = 'Avoid security and get up to the helicopter on the roof.' style = panel_message_goal
endscript


script NO_Equalizer_Success 
    Kill prefix = 'TRG_Ped_Equalizer'
    Kill name = TRG_veh_heli
    Kill name = Veh_NO_Heli_Blades
    Kill name = TRGP_Equalizer_Start
endscript


script NO_Goal_Spines_Success 
    Kill name = TRG_Ped_Hint_Spine
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
endscript


script NO_Goal_RaiseTheDead_Success 
    Kill name = TRG_Ped_Hint_Skulls
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
endscript


script NO_veh_path01_spawncar 
    wait 2 seconds
    Kill prefix = 'TRG_veh_jester'
    Kill prefix = 'TRG_veh_float'
    Kill prefix = 'TRG_veh_donkey'
    printf 'kill jester'
    NO_CreateCars
endscript


script NO_Dish_Collide 
    if IsAlive name = nighton_10_g_blockD_satellite_blinker
        Kill name = nighton_10_g_blockD_satellite_blinker
        TODManager_MarkPermanentlyDead name = nighton_10_g_blockD_satellite_blinker
    endif
endscript


script NO_float_jester 
    Obj_ClearExceptions
    ClearExceptionGroup NO_Jester
    obj_setinnerradius 7
    if IsCareerMode
        Obj_SetException Ex = objectinradius scr = NO_Float_Jester_Found group = NO_Jester
    endif
    printf 'float jester'
    switch <path>
        case 1
        obj_locktoobject objectname = TRG_veh_float1 (0.0, 120.0, 100.0)
        case 2
        obj_locktoobject objectname = TRG_veh_float2 (0.0, 120.0, 100.0)
    endswitch
    Ped_InitAI stand Default_jester_anim_assets should_look_at_skater = 0
endscript


script NO_Float_Jester_Found 
    Obj_ClearExceptions
    ClearExceptionGroup NO_Jester
    if GoalManager_GoalExists name = NO_Goal_Gaps2
        GoalManager_SetGoalFlag name = NO_Goal_Gaps2 got_1 1
    endif
endscript


script NO_Crazy_Girl 
    obj_setattentionradius 10
    Ped_InitAI stand avoid GetAttention F_MardisGras_Dance
endscript


script NO_Goal_Secret_Success 
    Kill prefix = 'TRG_veh_jester'
    if NOT IsAlive name = TRG_Switchable_Jester
        Create name = TRG_Switchable_Jester
    endif
    TRG_Switchable_Jester ::obj_playfam NO_Ped_Jester_VO_Lip vol = GlobalHintVOVol priorty = 101
endscript


script NO_Goal_BigBillboard 
    GetTriggerArray graffiti onto
    if triggertype <trigger_array>
        if GoalManager_GoalExists name = NO_Goal_Gaps7
            GoalManager_SetGoalFlag name = NO_Goal_Gaps7 got_1 1
        endif
    endif
endscript


script NO_Goal_Gaps7_Success 
    printf 'BO_Gaps10_success'
    KillAllTextureSplats box = {height = 20 dist = 20 width = 30 Offset = (-188.0, 73.0, 173.0)}
    play_cutscene name = 'cutscenes\NO_SmallEvent_Billboard.cut' RestartNode = TRG_Restart_Billboard
    if NOT IsAlive name = NO_AS_MasterPiece_final01
        Create name = NO_AS_MasterPiece_final01
    endif
endscript


script NO_Graf_Tag 
    GetTriggerArray graffiti onto
    if triggertype <trigger_array>
        printf 'Graffiti'
        if GoalManager_GoalExists name = NO_Goal_Gaps8
            if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps8 flag = <flag>
                GoalManager_SetGoalFlag name = NO_Goal_Gaps8 <flag> 1
                if NOT IsAlive name = <cover>
                    Create name = <cover>
                    Kill name = <name>
                endif
            endif
        endif
    endif
endscript


script NO_SwitchSkaters 
    KillSpawnedScript name = NO_Spawn_SwitchSkaters
    SpawnSkaterScript NO_Spawn_SwitchSkaters
endscript


script NO_Spawn_SwitchSkaters 
    wait 2 frames
    pulse_blur
    swap_skaters_get_current_name
    switch <name>
        case custom
        printf 'Custom'
        Takeover_VO
        case pro_teammate
        SetGlobalFlag flag = PRO_FOUND_05
        NO_Unlock_Pro_Goals
        case jester
        printf 'Jester'
        SetGlobalFlag flag = GUEST_FOUND_JESTER
        SetGlobalFlag flag = SKATER_UNLOCKED_JESTER
        NO_Unlock_Jester_Goals
        case Voodoo
        SetGlobalFlag flag = GUEST_FOUND_VOODOO
        NO_Unlock_Voodoo_Goals
        default 
    endswitch
    if GetFlag flag = FLAG_VORTEX
        NO_CreateZombies
    endif
endscript


script NO_Talking 
    begin 
    PlayAnimWithPartialAnimIfExists anim = Ped_M_Talk2_RightHere
    Obj_WaitAnimFinished
    PlayAnimWithPartialAnimIfExists anim = Ped_M_Talk2_MixIt
    Obj_WaitAnimFinished
    PlayAnimWithPartialAnimIfExists anim = Ped_M_Talk2_SureThing
    Obj_WaitAnimFinished
    PlayAnimWithPartialAnimIfExists anim = Ped_M_Talk2_Idle2
    Obj_WaitAnimFinished
    PlayAnimWithPartialAnimIfExists anim = Ped_M_Talk2_RightHere
    Obj_WaitAnimFinished
    repeat 
endscript


script NO_Unlock_Pro_Goals 
    if GoalManager_GoalIsLocked name = NO_Goal_Gaps7
        if ScreenElementExists id = ped_speech_dialog
            DestroyScreenElement id = ped_speech_dialog
        endif
        printf 'play cameras'
        play_swappable_pro_intro_cameras intro_cameras = NO_Pro_Goal_Intro_Cameras
        GoalManager_UnlockGoal name = NO_Goal_Gaps7
        GoalManager_UnlockGoal name = NO_Goal_Gaps10
        GoalManager_UnlockGoal name = NO_Goal_SkateTheLine2
        GoalManager_UnlockGoal name = NO_Goal_TrickObjects
        GoalManager_UnlockGoal name = NO_Goal_Gaps5
        GoalManager_UnlockGoal name = NO_Goal_Gaps3
        GoalManager_UnlockGoal name = NO_Goal_Gaps12
        GoalManager_UnlockGoal name = NO_Goal_Gaps13
        Create name = TRG_Ped_Hint_Birds
        Create name = TRG_Ped_Hint_Spine
    else
        Takeover_VO
    endif
endscript


script NO_Unlock_Jester_Goals 
    if GoalManager_GoalIsLocked name = NO_Goal_Gaps9
        if ScreenElementExists id = ped_speech_dialog
            DestroyScreenElement id = ped_speech_dialog
        endif
        printf 'play cameras'
        Create name = TRG_Ped_Jester_Intro
        PlayIntroCameras goal_intro_cameras = NO_Jester_Goal_Intro_Cameras letterbox
        Kill name = TRG_Ped_Jester_Intro
        GoalManager_UnlockGoal name = NO_Goal_Gaps9
        GoalManager_UnlockGoal name = NO_Goal_Gaps14
        GoalManager_UnlockGoal name = NO_Goal_Gaps15
        GoalManager_UnlockGoal name = NO_Goal_Gaps19
        AwardNewSpecialTrickToProfile {
            all_profiles
            Trick = Trick_JesterJuggle
            key_combo = SpMan_U_D_Triangle
        }
    else
        Takeover_VO
    endif
endscript


script NO_Unlock_Voodoo_Goals 
    if GoalManager_GoalIsLocked name = NO_Goal_Gaps11
        if ScreenElementExists id = ped_speech_dialog
            DestroyScreenElement id = ped_speech_dialog
        endif
        printf 'play cameras'
        Create name = TRG_ped_voodoo_intro
        PlayIntroCameras goal_intro_cameras = NO_Voodoo_Goal_Intro_Cameras letterbox
        Kill name = TRG_ped_voodoo_intro
        GoalManager_UnlockGoal name = NO_Goal_Gaps11
        GoalManager_UnlockGoal name = NO_Goal_Gaps16
        GoalManager_UnlockGoal name = NO_Goal_Gaps18
        GoalManager_UnlockGoal name = NO_Goal_Gaps17
    else
        Takeover_VO
    endif
endscript


script NO_ShatteringGate 
    GetBonus Score = 1000 text = 'Destruction Bonus'
    SpawnSound NO_SFX_BreakObrienFence
    Shatter {name = <name>
        area = 2000
        texture_swap = jg_bo_shatter_shfence
        variance = 1.0
        spread = 1.500
        life = 3
        Bounce = 0
        Scale = 0.4000
        vel_x = 0
        vel_y = 60
        vel_z = 0
    }
    Kill name = <name>
endscript


script NO_Tony_Advance 
    Obj_ClearExceptions
    setup_ped_speech {ped_id = TRG_Ped_Hawk
        activation_script = ChapterAdvanceDialog
        accept_text = 'Tony Hawk press \m5 to talk'
    }
    Ped_InitAI stand should_look_at_skater = 0 Cop_Ticketing
endscript


script NO_CreatePeds 
    Create prefix = 'trg_ped_'
    Create prefix = 'trg_skate_ped_'
    Create prefix = 'trg_ped_club_'
    Create prefix = 'trg_ped_jazz_'
endscript


script NO_CreateZombies 
    get_current_skater_name
    if (<name> = Voodoo)
        Kill prefix = 'TRG_zomb_ped_'
        Kill prefix = 'TRG_zomb_explode_'
        Create prefix = 'TRG_zomb_explode_'
    else
        Kill prefix = 'TRG_zomb_ped_'
        Create prefix = 'TRG_zomb_ped_'
        Kill prefix = 'TRG_zomb_explode_'
    endif
endscript


script NO_KillZombies 
    Kill prefix = 'TRG_zomb_ped_'
    Kill prefix = 'TRG_zomb_explode_'
endscript


script NO_Peds_Eventstart 
    Kill prefix = 'trg_ped_'
    Kill prefix = 'trg_ped_jazz_'
    Kill prefix = 'trg_skate_ped_'
    Kill prefix = 'trg_ped_club_'
    NO_CreateZombies
endscript


script NO_Peds_Eventend 
    NO_KillZombies
    Create prefix = 'trg_ped_'
    Create prefix = 'trg_ped_club_'
    Create prefix = 'trg_ped_jazz_'
    Create prefix = 'trg_skate_ped'
endscript


script TRG_Ped_TricycleScript 
    NO_Ped_Tricycle {switch_node = TRG_restart_player1
        current_node = TRG_ped_voodoo_tricycle
        you_node = TRG_restart_swamp
    }
endscript


script NO_Sewer_Off 
    invisible prefix = 'g_sewer'
endscript


script NO_Sewer_On 
    if NOT InMultiPlayerGame
        Visible prefix = 'g_sewer'
    endif
endscript


script NO_Car01 
    Car_Generic01 DefaultSpeed = 40 TurnDist = 35 StickToGround SkitchSpeed = 55
endscript


script NO_Car02 
    Car_Generic01 {
        DefaultSpeed = 25
        TurnDist = 25
        StickToGround
        SkitchSpeed = 55
        SkaterCheckOffset = (0.0, 0.0, 15.0)
    }
endscript


script NO_Float_Proxim 
    Obj_ClearExceptions
    ClearExceptionGroup NO_Float_Ghost
    if IsAlive name = TRG_veh_float1
        obj_locktoobject objectname = TRG_veh_float1 (0.0, 140.0, 31.0)
    else
        if IsAlive name = TRG_veh_float2
            obj_locktoobject objectname = TRG_veh_float2 (0.0, 140.0, 31.0)
        endif
    endif
    UnSetFlag flag = FLAG_SKATER_ON_FLOAT
    printf 'Off float'
    obj_setinnerradius 15
    Obj_SetException Ex = objectinradius scr = NO_Float_Proxim_Near group = NO_Float_Ghost
endscript


script NO_Float_Proxim_Near 
    Obj_ClearExceptions
    ClearExceptionGroup NO_Float_Ghost
    obj_setouterradius 17
    Obj_SetException Ex = objectoutofradius scr = NO_Float_Proxim group = NO_Float_Ghost
    SetFlag flag = FLAG_SKATER_ON_FLOAT
    printf 'On Float'
endscript


script NO_ZombieManager 
    ClearExceptionGroup zombie
    WaitForEvent type = Zombie_Explode
    printf '1 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_1 1
    WaitForEvent type = Zombie_Explode
    printf '2 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_2 1
    WaitForEvent type = Zombie_Explode
    printf '3 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_3 1
    WaitForEvent type = Zombie_Explode
    printf '4 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_4 1
    WaitForEvent type = Zombie_Explode
    printf '5 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_5 1
    WaitForEvent type = Zombie_Explode
    printf '6 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_6 1
    WaitForEvent type = Zombie_Explode
    printf '7 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_7 1
    WaitForEvent type = Zombie_Explode
    printf '8 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_8 1
    WaitForEvent type = Zombie_Explode
    printf '9 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_9 1
    WaitForEvent type = Zombie_Explode
    printf '10 Zombie Exploded'
    GoalManager_SetGoalFlag name = NO_Goal_Gaps11 got_10 1
    Die
endscript


script Zombie_SFX_Die 
    playsound SK6_NO_Hit_Zombie vol = 130
    RandomNoRepeat (
        @ PlayStream Zombie_Death01 vol = 200 priority = StreamPriorityHigh
        @ PlayStream Zombie_Death02 vol = 200 priority = StreamPriorityHigh
        @ PlayStream Zombie_Death03 vol = 200 priority = StreamPriorityHigh
    )
endscript


script NO_BeadManager 
    ClearExceptionGroup NO_Beads
    SetException Ex = PedHitByProjectile group = NO_Beads scr = NO_BeadManager_Check
    Block
endscript


script NO_BeadManager_Check 
    ClearExceptionGroup NO_Beads
    if GetFlag flag = FLAG_SKATER_ON_FLOAT
        printf 'Show me you boobs'
        SpawnScript NO_SetBeadFlags
    endif
    goto NO_BeadManager
endscript


script NO_SetBeadFlags 
    if GoalManager_GoalExists name = NO_Goal_Gaps9
        if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps9 flag = got_1
            GoalManager_SetGoalFlag name = NO_Goal_Gaps9 got_1 1
        else
            if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps9 flag = got_2
                GoalManager_SetGoalFlag name = NO_Goal_Gaps9 got_2 1
            else
                if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps9 flag = got_3
                    GoalManager_SetGoalFlag name = NO_Goal_Gaps9 got_3 1
                else
                    if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps9 flag = got_4
                        GoalManager_SetGoalFlag name = NO_Goal_Gaps9 got_4 1
                    else
                        if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps9 flag = got_5
                            GoalManager_SetGoalFlag name = NO_Goal_Gaps9 got_5 1
                        endif
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_SkaterOnFloat 
    SetFlag flag = FLAG_SKATER_ON_FLOAT
endscript


script NO_SkaterOffFloat 
    UnSetFlag flag = FLAG_SKATER_ON_FLOAT
endscript


script NO_Classic_Voodoo_Doll 
    Obj_ClearExceptions
    Obj_SetException Ex = objectinradius scr = NO_Classic_Voodoo_Got params = <...> 
    obj_setinnerradius 5
    obj_roty Speed = 250
    obj_hover amp = 10 freq = 1
endscript


script NO_Classic_Voodoo_Got 
    Obj_ClearExceptions
    goal_collect_got_object goal_id = NO_Classic_Goal_Collect flag = <flag>
    Die
endscript


script NO_Classic_Crystal_Ball 
    Obj_ClearExceptions
    Obj_SetException Ex = objectinradius scr = NO_Classic_Crystal_Ball_Got params = <...> 
    printf 'YoYo'
    obj_setinnerradius 5
    obj_roty Speed = 250
    obj_hover amp = 5 freq = 1
endscript


script NO_Classic_Crystal_Ball_Got 
    Obj_ClearExceptions
    goal_collect_got_object goal_id = NO_Classic_Goal_Collect2 flag = <flag>
    switch <name>
        case Classic_CrystalBall01
        CreateFastParticleSystem name = JOW_NO_CrystalBall01 params_script = JOW_NO_CrystalBall01_fast_particle_params
        case Classic_CrystalBall02
        CreateFastParticleSystem name = JOW_NO_CrystalBall02 params_script = JOW_NO_CrystalBall02_fast_particle_params
        case Classic_CrystalBall03
        CreateFastParticleSystem name = JOW_NO_CrystalBall03 params_script = JOW_NO_CrystalBall03_fast_particle_params
        case Classic_CrystalBall04
        CreateFastParticleSystem name = JOW_NO_CrystalBall04 params_script = JOW_NO_CrystalBall04_fast_particle_params
        case Classic_CrystalBall05
        CreateFastParticleSystem name = JOW_NO_CrystalBall05 params_script = JOW_NO_CrystalBall05_fast_particle_params
    endswitch
    playsound HitGlassPane2x
    Die
endscript


script NO_Enter_ChurchArea 
    if IsCareerMode
        if NOT IsAlive name = TRG_Church_Dummy
            Create name = TRG_Church_Dummy
        endif
    endif
endscript


script NO_Exit_ChurchArea 
    if IsCareerMode
        Kill name = TRG_Church_Dummy
    endif
endscript


script NO_Church_Dummy 
    ClearExceptionGroup NO_Church_Dummy
    SetException Ex = SkaterEnterSpecialTrick scr = NO_Church_Dummy_Special group = NO_Church_Dummy
    printf 'Waiting for Special Trick'
    Block
endscript


script NO_Church_Dummy_Special 
    ClearExceptionGroup NO_Church_Dummy
    SetException Ex = SkaterLanded scr = NO_Church_Dummy_Landed group = NO_Church_Dummy
    SetException Ex = SkaterBailed scr = NO_Church_Dummy_Bailed group = NO_Church_Dummy
    printf 'Got Special Trick'
endscript


script NO_Church_Dummy_Bailed 
    printf 'You Bailed'
    goto NO_Church_Dummy
endscript


script NO_Church_Dummy_Landed 
    ClearExceptionGroup NO_Church_Dummy
    printf 'You Landed'
    if GoalManager_GoalExists name = NO_Goal_Gaps19
        if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps19
            swap_skaters_get_current_name
            switch <name>
                case custom
                printf 'custom special trick'
                if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps19 flag = got_1 skater = custom
                    GoalManager_SetGoalFlag name = NO_Goal_Gaps19 got_1 1 skater = custom
                    printf 'Set It'
                endif
                case pro_teammate
                printf 'pro special trick'
                if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps19 flag = got_1 skater = pro
                    GoalManager_SetGoalFlag name = NO_Goal_Gaps19 got_1 1 skater = pro
                    printf 'Set It'
                endif
                case jester
                printf 'jester special trick'
                if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps19 flag = got_1 skater = jester
                    GoalManager_SetGoalFlag name = NO_Goal_Gaps19 got_1 1 skater = jester
                    printf 'Set It'
                endif
                case Voodoo
                printf 'voodoo special trick'
            endswitch
            <special_tricks> = 0
            if GoalManager_GoalFlagSet name = NO_Goal_Gaps19 flag = got_1 skater = pro
                <special_tricks> = (<special_tricks> + 1)
            endif
            if GoalManager_GoalFlagSet name = NO_Goal_Gaps19 flag = got_1 skater = custom
                <special_tricks> = (<special_tricks> + 1)
            endif
            if GoalManager_GoalFlagSet name = NO_Goal_Gaps19 flag = got_1 skater = jester
                <special_tricks> = (<special_tricks> + 1)
            endif
            switch <special_tricks>
                case 0
                printf '0'
                case 1
                create_panel_message {text = '1 of 3 Special Tricks' style = goal_collect_text}
                case 2
                create_panel_message {text = '2 of 3 Special Tricks' style = goal_collect_text}
                default 
            endswitch
        endif
    endif
    Die
endscript


script NO_voodoo_vortex 
    printf ' VOODOO VORTEX '
    NO_killCars
    Kill name = TRG_SFX_TrigBox_DixieBandMusicOff
    Kill name = TRG_SFX_TrigBox_DixieBand01
    Kill name = TRG_SFX_TrigBox_SmallDixie
    Kill name = TRG_SFX_TrigBox_LG_CajunBand01
    Kill name = TRG_SFX_TrigBox_LG_CajunBandMusicOff
    Kill name = TRG_SFX_TrigBox_MS_SmallCajunMusic
    SpawnScript NO_FakeLights_Off
    if NOT IsAlive name = g_vortex_cone
        Create name = g_vortex_cone
    endif
    if IsAlive name = G_grv_event_dome
        Kill name = G_grv_event_dome
        Kill name = TRG_G_grv_event_dome
    endif
    if IsAlive name = g_grv_dome_invis
        Kill name = g_grv_dome_invis
    endif
    if IsAlive name = g_funkhole_cover
        Kill name = g_funkhole_cover
    endif
    if NOT IsAlive name = G_grv_event_bowl
        Create name = G_grv_event_bowl
        Create name = G_grv_event_bowl_soup01
        Create prefix = 'g_grv_bnc_skeleton_'
    endif
    if NOT IsAlive name = g_vortex_base
        Create name = g_vortex_base
        Create name = g_vortex_base01
    endif
    if GetFlag flag = FLAG_VORTEX
        Create prefix = 'g_vortex_debris'
        Create prefix = 'g_vortex_lightning'
        Create prefix = 'g_vortex_spin'
        Create prefix = 'g_vortex_bnc_'
        Create prefix = 'g_blockA_fire_hydrant_'
        Create name = Vortex_ParticleBox_Start_Start
        Create name = Vortex_Tornado_ParticleBox_01_Start
        Kill name = TRG_SFX_TrigBox_Tornado
        Create name = TRG_SFX_TrigBox_Tornado
        Create name = TRG_542
        Create name = TRG_543
        Create name = TRG_544
        Create name = TRG_545
        Create name = TRG_546
        Create name = TRG_547
        Create name = TRG_548
        Create name = TRG_549
        Create name = TRG_550
        Create name = TRG_551
        Create name = TRG_552
        Create name = TRG_553
        Create name = TRG_50
        Create name = TRG_51
        Create name = TRG_52
        Create name = TRG_53
        Create name = TRG_54
        Create name = TRG_55
        Create name = TRG_56
        Create name = TRG_60
        Create name = TRG_271
        Create name = TRG_272
        Create name = TRG_273
        Create name = TRG_274
        Create name = TRG_275
        Create name = TRG_276
        Create name = TRG_277
        Create name = TRG_278
    endif
    if IsCareerMode
        if NOT IsAlive name = TRG_veh_heli
            if NOT IsAlive name = TRG_ped_voodoo_tricycle01
                Create name = TRG_ped_voodoo_tricycle01
            endif
        endif
    endif
    NO_Peds_Eventstart
endscript


script NO_voodoo_vortex_end 
    UnSetFlag flag = FLAG_VORTEX
    play_cutscene name = 'cutscenes\NO_LevelEvent2.cut'
    printf ' SAVED NAWLINS '
    NO_CreateCars
    Kill name = TRG_SFX_TrigBox_CryptConstRumble01
    Kill name = TRG_SFX_TrigBox_CryptConstRumble02
    Kill name = TRG_SFX_TrigBox_CryptConstRumble03
    Kill name = TRG_SFX_TrigBox_CryptConstRumble04
    Kill name = TRG_SFX_TrigBox_CryptConstRumble05
    Kill name = TRG_SFX_TrigBox_DixieBandMusicOff
    Kill name = TRG_SFX_TrigBox_DixieBand01
    Kill name = TRG_SFX_TrigBox_SmallDixie
    Kill name = TRG_SFX_TrigBox_LG_CajunBand01
    Kill name = TRG_SFX_TrigBox_LG_CajunBandMusicOff
    Kill name = TRG_SFX_TrigBox_MS_SmallCajunMusic
    Create name = TRG_SFX_TrigBox_MS_SmallCajunMusic
    Kill name = TRG_SFX_TrigBox_Tornado
    if IsAlive name = g_vortex_cone
        Kill name = g_vortex_cone
    endif
    if IsAlive name = G_grv_event_bowl
        Create name = G_grv_event_dome
        Create name = TRG_G_grv_event_dome
        Create name = g_grv_dome_invis
        Create name = g_funkhole_cover
        Kill name = g_grv_crypt1_smoke
        Kill name = g_grv_crypt2_smoke
        Kill name = g_grv_crypt3_smoke
        Kill name = g_grv_crypt4_smoke
        Kill name = g_grv_crypt5_smoke
        KillSpawnedScript name = NO_Crypt1_open1
        KillSpawnedScript name = NO_Crypt2_openA
        KillSpawnedScript name = NO_Crypt2_openB
        KillSpawnedScript name = NO_Crypt3_open
        KillSpawnedScript name = NO_Crypt4_open
        KillSpawnedScript name = NO_Crypt5_open
        Create prefix = 'trg_skull1_'
        Create prefix = 'trg_skull2_'
        Create prefix = 'trg_skull3_'
        Create prefix = 'trg_skull4_'
        Create prefix = 'trg_skull5_'
        UnSetFlag flag = FLAG_CRYPT_1
        UnSetFlag flag = FLAG_CRYPT_2
        UnSetFlag flag = FLAG_CRYPT_3
        UnSetFlag flag = FLAG_CRYPT_4
        UnSetFlag flag = FLAG_CRYPT_5
        UnSetFlag flag = FLAG_SKULL
        change jm_skullcount = 0
        if IsAlive name = g_vortex_base
            Kill name = g_vortex_base
            Kill name = g_vortex_base01
        endif
        Kill prefix = 'g_vortex_debris'
        Kill prefix = 'g_vortex_lightning'
        Kill prefix = 'g_vortex_spin'
        Kill prefix = 'g_vortex_bnc_'
        Kill prefix = 'g_blockA_fire_hydrant_'
        Kill name = Vortex_ParticleBox_Start_Start
        Kill name = Vortex_Tornado_ParticleBox_01_Start
        Kill name = G_grv_event_bowl
        Kill name = G_grv_event_bowl_soup01
        Kill prefix = 'g_grv_bnc_skeleton_'
        Kill name = TRG_542
        Kill name = TRG_543
        Kill name = TRG_544
        Kill name = TRG_545
        Kill name = TRG_546
        Kill name = TRG_547
        Kill name = TRG_548
        Kill name = TRG_549
        Kill name = TRG_550
        Kill name = TRG_551
        Kill name = TRG_552
        Kill name = TRG_553
        Kill name = TRG_50
        Kill name = TRG_51
        Kill name = TRG_52
        Kill name = TRG_53
        Kill name = TRG_54
        Kill name = TRG_55
        Kill name = TRG_56
        Kill name = TRG_60
        Kill name = TRG_271
        Kill name = TRG_272
        Kill name = TRG_273
        Kill name = TRG_274
        Kill name = TRG_275
        Kill name = TRG_276
        Kill name = TRG_277
        Kill name = TRG_278
        change jm_skullcount = 0
        Kill name = trg_crypt2_coverA
        Kill name = trg_crypt2_coverB
        Kill name = trg_crypt3_cover
        Kill name = trg_crypt4_cover
        Kill name = trg_crypt5_cover
        wait 1 frame
        Create name = trg_crypt2_coverA
        Create name = trg_crypt2_coverB
        Create name = trg_crypt3_cover
        Create name = trg_crypt4_cover
        Create name = trg_crypt5_cover
    endif
    NO_Peds_Eventend
endscript


script NO_vortex_spin_lamp 
    g_vortex_spin_lamp01 ::obj_rotz Speed = 200 flag_max_coords
endscript


script NO_vortex_spin_happy 
    g_vortex_spin_happyhour01 ::obj_rotz Speed = 400 flag_max_coords
endscript


script NO_vortex_spin_umbrella 
    g_vortex_spin_umbrella01 ::obj_rotz Speed = 200 flag_max_coords
endscript


script NO_vortex_spin_plant 
    g_vortex_spin_plantbox02 ::obj_rotz Speed = 300 flag_max_coords
endscript


script NO_vortex_spin_plant2 
    g_vortex_spin_planter01 ::obj_rotz Speed = 100 flag_max_coords
endscript


script NO_vortex_spin_sign 
    g_vortex_spin_signs01 ::obj_rotz Speed = 100 flag_max_coords
endscript


script NO_televator { text = 'You forgot text=<place>!' }
    create_panel_message id = leaving_message text = <text> Pos = (320.0, 300.0) rgba = [118 , 110 , 14 , 128]
    pulse_blur start = 255 Speed = 5
    if GotParam sound
        SpawnSound <sound>
    endif
    if GotParam node
        SK3_TeleportToNode nodeName = <node>
    else
        create_panel_message id = death_message text = 'You forgot node=<nodename>!!' Pos = (320.0, 200.0)
    endif
endscript


script NO_televator_vortex { text = 'You forgot text=<place>!' }
    create_panel_message id = leaving_message text = <text> Pos = (320.0, 300.0) rgba = [118 , 110 , 14 , 128]
    pulse_blur start = 255 Speed = 5
    if GotParam sound
        SpawnSound <sound>
    endif
    if GotParam node
        SK3_TeleportToNode nodeName = <node>
    else
        create_panel_message id = death_message text = 'You forgot node=<nodename>!!' Pos = (320.0, 200.0)
    endif
endscript

goingup_A1_params = {
    node = TRG_tele_up01
    text = 'the Nawlins rooftop'
    sound = NO_Elevator
}
sewer_alley_params = {
    node = TRG_sewer_alley
    text = ''
    sound = NO_sound_gratesopen
}
sewer_grv_params = {
    node = TRG_sewer_grv
    text = ''
    sound = NO_sound_gratesopen
}
sewer_riv_params = {
    node = TRG_sewer_riv
    text = ''
    sound = NO_sound_gratesopen
}
sewer_church_params = {
    node = TRG_sewer_church
    text = ''
    sound = NO_sound_gratesopen
}
goingdown_D_params = {
    node = TRG_tele_D_down
    text = ' Bourbon St. '
    sound = NO_Elevator
}
goingup_D_params = {
    node = TRG_tele_D_up
    text = ' Josh O\'Briens Rooftop '
    sound = NO_Elevator
}
goingDown_B_params = {
    node = TRG_tele_B_down
    text = ' Nawlins St. '
    sound = NO_Elevator
}
goingup_B_params = {
    node = TRG_tele_B_up
    text = ' Boo-YA\'s Bottomless Rooftop '
    sound = NO_Elevator
}
goingdown_C_params = {
    node = TRG_tele_C_down
    text = ' Nawlins St. '
    sound = NO_Elevator
}
goingup_C_params = {
    node = TRG_tele_C_up
    text = ' Ye Absinthe House of Olde Yonder Lorn Rooftop '
    sound = NO_Elevator
}
goingDown_A_params = {
    node = TRG_tele_A_down
    text = ' Dauphine St. '
    sound = NO_Elevator
}
goingup_A_params = {
    node = TRG_tele_A_up
    text = ' Green Goddess RoofTop '
    sound = NO_Elevator
}
goingup_Ajump_params = {
    node = TRG_tele_A_upjump
    text = ' Bourdeaux\'s Backyard Rooftop '
    sound = NO_Elevator
}
corner_params = {
    node = TRG_tele_corner
    text = ' Office Building '
    sound = NO_sound_glassbreak
}

script NO_Elevator 
    PlayStream SK6_BA_ElevatorDing
endscript


script NO_sound_gratesopen 
endscript


script NO_sound_glassbreak 
endscript


script NO_combo_panels 
    SpawnScript NO_combo_panels_start
endscript


script NO_combo_panels_start 
    if (jm_panels_broken > 0)
        change jm_panels_broken = 0
        SpawnScript recreate_balcs
    endif
    ClearExceptionGroup NO_panelbreak
    SetExceptionHandler Ex = SkaterEnterCombo scr = NO_combo_panels_end group = NO_panelbreak
    Block
endscript


script NO_combo_panels_end 
    printf 'combo start'
    ClearExceptionGroup NO_panelbreak
    SetExceptionHandler Ex = SkaterExitCombo scr = NO_combo_panels_start group = NO_panelbreak
    SetExceptionHandler Ex = SkaterLanded scr = NO_combo_panels_start group = NO_panelbreak
    Block
endscript


script NO_shatter 
    if NOT InNetGame
        playsound NJ_woodbreak01 pitch = randomrange (90.0, 120.0)
        ShatterAndDie {name = <object>
            texture_swap = apm_crate02_xploder02
            area = 1
            variance = 4
            vel_x = 0
            vel_y = 50
            vel_z = -50
            spread = 1
            vibrate
        }
        change jm_panels_broken = (jm_panels_broken + 1)
        FormatText textname = panels_broken_text '%c Balconies busted' c = jm_panels_broken
        create_panel_message id = message_panels_broken text = <panels_broken_text> style = style_NO_broken_panel z_priority = -30
        if (SkaterCurrentScorePotLessThan 1)
            printf 'Not in a combo bitch'
            change jm_panels_broken = 0
        endif
        if (jm_panels_broken = 3)
            if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps15
                GoalManager_SetGoalFlag name = NO_Goal_Gaps15 got_1 1
            endif
        endif
    endif
endscript


script recreate_panel time = 4
    wait <time> seconds
    Create prefix = <prefix>
endscript


script recreate_balcs 
    group = Random (@ 1 @ 2 @ 3 @ 4)
    switch <group>
        case 1
        Create prefix = 'balc_blockA_'
        case 2
        Create prefix = 'balc_blockB_'
        case 3
        Create prefix = 'balc_blockC_'
        case 4
        Create prefix = 'balc_blockD_'
    endswitch
endscript


script style_NO_broken_panel 
    switch jm_panels_broken
        case 1
        setprops just = [ center center ] rgba = [ 120 120 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
        case 2
        setprops just = [ center center ] rgba = [ 140 100 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
        case 3
        setprops just = [ center center ] rgba = [ 160 80 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
        case 4
        setprops just = [ center center ] rgba = [ 200 60 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
        case 5
        setprops just = [ center center ] rgba = [ 220 40 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
        case 6
        setprops just = [ center center ] rgba = [ 240 20 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
        default 
        setprops just = [ center center ] rgba = [ 240 20 0 255 ]
        DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 0.8000
        DoMorph time = 0.1000 Scale = 1.200 alpha = 1
        wait 0.7000 seconds
        DoMorph time = 0.1000 Scale = 0 alpha = 0
    endswitch
    wait 60 frames
    kill_panel_message_if_it_exists id = message_panels_broken
endscript


script NO_shatter_freeze2 
    SpawnSound NO_SFX_Hit_AC_Unit
    if NOT InMultiPlayerGame
        TODManager_SetTempBloomParams on = 1
        TODManager_SetTempBloomParams color = [ 80 80 250 ]
        TODManager_SetTempBloomParams bloom1 = 20
        TODManager_SetTempBloomParams bloom2 = 80
        TODManager_SetTempBloomParams strength = [ 128 128 128 ]
        GetBonus Score = 1000 text = 'AC unit'
        trigger_speed_boost multi = 1.250 DefBoostSound = 0
        CreateFastParticleSystem name = MRfreezeF01 params_script = apm_NO_Freeze01_fast_particle_params attachobjid = skater
        CreateFlexibleParticleSystem name = MRfreeze01 params_script = apm_NO_freeze01_particle_params
        wait 10 frames
        wait 3 frames
    endif
    wait 5 frames
    SpawnSound NO_SFX_Breakout_Ice
    if NOT InMultiPlayerGame
        wait 15 frames
        TODManager_SetTempBloomParams on = 0
    endif
endscript


script NO_shatter_freeze 
    SpawnSound NO_SFX_Hit_AC_Unit
    if NOT InMultiPlayerGame
        TODManager_SetTempBloomParams on = 1
        TODManager_SetTempBloomParams color = [ 80 80 250 ]
        TODManager_SetTempBloomParams bloom1 = 20
        TODManager_SetTempBloomParams bloom2 = 80
        TODManager_SetTempBloomParams strength = [ 128 128 128 ]
        GetBonus Score = 1000 text = 'AC unit'
        trigger_speed_boost multi = 1.250 DefBoostSound = 0
        CreateFastParticleSystem name = MRfreezeF01 params_script = apm_NO_Freeze01_fast_particle_params attachobjid = skater
        CreateFlexibleParticleSystem name = MRfreeze01 params_script = apm_NO_freeze01_particle_params
        wait 10 frames
        wait 3 frames
    endif
    wait 5 frames
    SpawnSound NO_SFX_Breakout_Ice
    if NOT InMultiPlayerGame
        wait 15 frames
        TODManager_SetTempBloomParams on = 0
    endif
    ShatterAndDie name = <name> area = 1000 variance = 4 vel_x = 0 vel_y = 0 vel_z = 0 spread = 100 vibrate
    if (<name> = g_blockD_65)
    else
        Kill name = <shadow>
    endif
endscript


script NO_NatasSpin 
    printf 'Natas Check'
    GetTriggerArray spin onto
    if triggertype <trigger_array>
        printf 'spin onto'
        SetException Ex = SkaterJump scr = NO_Natas_Done
        SetException Ex = SkaterBailed scr = NO_Natas_Done
        SetException Ex = SkaterEnterAir scr = NO_Natas_Done
        wait 3 seconds
        if NOT IsAlive name = <water_node>
            Create name = <water_node>
            GetBonus Score = 1000 text = 'Hydrant Pop'
            if (<water_node> = g_blockA_fire_hydrant_water01)
                SpawnScript NO_SFX_HydrantPop1
            endif
            if (<water_node> = g_blockC_fire_hydrant_water01)
                SpawnScript NO_SFX_HydrantPop2
            endif
        endif
        printf 'Natas for 3'
    endif
endscript


script NO_jump_fan 
    printf ' waiting for ollie '
    ClearExceptionGroup NO_jumpfan
    SetExceptionHandler Ex = SkaterJump scr = NO_jump_fan_ollie group = NO_jumpfan
    Block
endscript


script NO_jump_fan_level2 
    printf ' waiting for ollie '
    ClearExceptionGroup NO_jumpfan
    SetExceptionHandler Ex = SkaterJump scr = NO_jump_fan_ollie_level2 group = NO_jumpfan
    Block
endscript


script NO_jump_vator 
    printf ' waiting for ollie '
    ClearExceptionGroup NO_jumpfan
    SetExceptionHandler Ex = SkaterJump scr = NO_jump_vator_ollie group = NO_jumpfan
    Block
endscript


script NO_jump_fan_ollie 
    trigger_jump_boost multi = 2.300
endscript


script NO_jump_fan_ollie_level2 
    trigger_jump_boost multi = 3.900
endscript


script NO_jump_vator_ollie 
    trigger_jump_boost multi = 3.200
    SpawnScript NO_vator_updown
    SpawnScript NO_vator_ladafly
endscript


script NO_vator_updown 
    wait 10 frames
    trg_obj_parkvator ::obj_playsound SK6_BO_TrainLoop02 pitch = 50 vol = 100 dropoff = 70
    trg_obj_parkvator ::obj_movetonode name = TRG_parkvator_roof Speed = 50
    trg_obj_parkvator ::Obj_WaitMove
    trg_obj_parkvator ::obj_playsound GrindMetalOn02 vol = 150 pitch = 20 dropoff = 70
    trg_obj_parkvator ::obj_stopsound SK6_BO_TrainLoop02
    trg_obj_parkvator ::obj_stopsound SK6_BO_TrainLoop02
    wait 5 seconds
    trg_obj_parkvator ::obj_movetonode name = TRG_parkvator_floor Speed = 25
    trg_obj_parkvator ::obj_playsound SK6_BO_TrainLoop02 pitch = 50 vol = 100 dropoff = 70
    trg_obj_parkvator ::Obj_WaitMove
    trg_obj_parkvator ::obj_playsound GrindMetalOn02 vol = 150 pitch = 20 dropoff = 70
    trg_obj_parkvator ::obj_stopsound SK6_BO_TrainLoop02
    trg_obj_parkvator ::obj_stopsound SK6_BO_TrainLoop02
endscript


script NO_vator_ladafly 
    if NOT InMultiPlayerGame
        TRG_lada ::obj_movetonode name = TRG_ladafly Speed = 50
        TRG_lada ::Obj_WaitMove
        TRG_lada ::obj_movetonode name = TRG_parkvator_roof Speed = 25
        TRG_lada ::Obj_WaitMove
        wait 4 seconds
        TRG_lada ::obj_movetonode name = TRG_parkvator_floor Speed = 25
    endif
endscript


script NO_jump_fan_deactivate 
    printf ' deactivate fan jump '
    KillSpawnedScript name = NO_jump_fan
    KillSpawnedScript name = NO_jump_fan_level2
    KillSpawnedScript name = NO_jump_vator
endscript


script NO_smoke 
    if NOT GetFlag flag = FLAG_SMOKE1
        SetFlag flag = FLAG_SMOKE1
        if NOT InMultiPlayerGame
            CreateFastParticleSystem name = SootyF01 params_script = apm_NO_Sooty01_fast_particle_params attachobjid = skater
            CreateFlexibleParticleSystem name = Sooty01 params_script = apm_NO_Sooty01_particle_params
        endif
        SpawnSound NO_SFX_Go_Through_Smoke
        wait 1 second
        ClearExceptionGroup NO_cleaned
        SpawnScript NO_cleancheck
        wait 5 seconds
        if NOT GetFlag flag = FLAG_SMOKE2
            SpawnScript NO_cleantimer_smoke
        endif
    endif
endscript


script NO_cleancheck 
    ClearExceptionGroup NO_cleaned
    SetExceptionHandler Ex = SkaterBailed scr = NO_bailcleaned_smoke group = NO_cleaned
    SetExceptionHandler Ex = SkaterJump scr = NO_cleaned_smoke group = NO_cleaned
    Block
endscript


script NO_cleaned_smoke 
    SetFlag flag = FLAG_SMOKE2
    if NOT InMultiPlayerGame
        KillSpawnedScript name = NO_cleantimer
        KillSpawnedScript name = NO_cleantimer_smoke
        ClearExceptionGroup NO_cleaned
        skater ::GetGap Score = 1000 text = 'CLEAN'
        DestroyFastParticleSystem name = SootyF01 attachobjid = skater
        skater ::DestroyFlexibleParticleSystem name = Sooty01
        CreateFastParticleSystem name = sootpoof01 params_script = apm_NO_Sootpoof01_fast_particle_params attachobjid = skater
        wait 5 seconds
        DestroyFastParticleSystem name = sootpoof01 attachobjid = skater
    endif
    wait 30 frames
    UnSetFlag flag = FLAG_SMOKE1
    UnSetFlag flag = FLAG_SMOKE2
endscript


script NO_bailcleaned_smoke 
    SetFlag flag = FLAG_SMOKE2
    KillSpawnedScript name = NO_cleantimer
    KillSpawnedScript name = NO_cleantimer_smoke
    ClearExceptionGroup NO_cleaned
    if NOT InMultiPlayerGame
        DestroyFastParticleSystem name = SootyF01 attachobjid = skater
        skater ::DestroyFlexibleParticleSystem name = Sooty01
        CreateFastParticleSystem name = sootpoof01 params_script = apm_NO_Sootpoof01_fast_particle_params attachobjid = skater
        wait 5 seconds
        DestroyFastParticleSystem name = sootpoof01 attachobjid = skater
    endif
    wait 30 frames
    UnSetFlag flag = FLAG_SMOKE1
    UnSetFlag flag = FLAG_SMOKE2
endscript


script NO_cleantimer_smoke 
    KillSpawnedScript name = NO_cleancheck
    ClearExceptionGroup NO_cleaned
    if NOT InMultiPlayerGame
        DestroyFastParticleSystem name = SootyF01 attachobjid = skater
        skater ::DestroyFlexibleParticleSystem name = Sooty01
        CreateFastParticleSystem name = sootpoof01 params_script = apm_NO_Sootpoof01_fast_particle_params attachobjid = skater
        wait 5 seconds
        DestroyFastParticleSystem name = sootpoof01 attachobjid = skater
    endif
    wait 30 frames
    UnSetFlag flag = FLAG_SMOKE1
    UnSetFlag flag = FLAG_SMOKE2
endscript


script NO_Garbage 
    if NOT GetFlag flag = FLAG_TRASH1
        SetFlag flag = FLAG_TRASH1
        if NOT InMultiPlayerGame
            SpawnScript NO_SFX_FliesOnSkater
            CreateFastParticleSystem name = StinkyF01 params_script = apm_NO_Stinky01_fast_particle_params attachobjid = skater
            CreateFastParticleSystem name = flysF01 params_script = apm_NO_flys01_fast_particle_params attachobjid = skater
            CreateFlexibleParticleSystem name = Stinky01 params_script = apm_NO_stinky01_particle_params
        endif
        playsound RatDeathSquish pitch = randomrange (90.0, 120.0)
        wait 1 second
        ClearExceptionGroup NO_cleaned_garbage
        SpawnScript NO_cleancheck_garbage
        wait 5 seconds
        if NOT GetFlag flag = FLAG_TRASH2
            SpawnScript NO_cleantimer_garbage
        endif
    endif
endscript


script NO_cleancheck_garbage 
    ClearExceptionGroup NO_cleaned_garbage
    SetExceptionHandler Ex = SkaterBailed scr = NO_bailcleaned_garbage group = NO_cleaned_garbage
    SetExceptionHandler Ex = SkaterJump scr = NO_cleaned_garbage group = NO_cleaned_garbage
    Block
endscript


script NO_cleaned_garbage 
    SetFlag flag = FLAG_TRASH2
    KillSpawnedScript name = NO_cleantimer_garbage
    ClearExceptionGroup NO_cleaned_garbage
    StopStream ThisSkaterFliesSFX
    if NOT InMultiPlayerGame
        DestroyFastParticleSystem name = StinkyF01 attachobjid = skater
        DestroyFastParticleSystem name = flysF01 attachobjid = skater
        skater ::DestroyFlexibleParticleSystem name = Stinky01
        CreateFastParticleSystem name = StinkyPoof01 params_script = apm_NO_Stinkypoof01_fast_particle_params attachobjid = skater
        wait 5 seconds
        DestroyFastParticleSystem name = StinkyPoof01 attachobjid = skater
    endif
    wait 30 frames
    UnSetFlag flag = FLAG_TRASH1
    UnSetFlag flag = FLAG_TRASH2
endscript


script NO_bailcleaned_garbage 
    SetFlag flag = FLAG_TRASH2
    KillSpawnedScript name = NO_cleantimer_garbage
    ClearExceptionGroup NO_cleaned_garbage
    if NOT InMultiPlayerGame
        DestroyFastParticleSystem name = StinkyF01 attachobjid = skater
        DestroyFastParticleSystem name = flysF01 attachobjid = skater
        skater ::DestroyFlexibleParticleSystem name = Stinky01
        CreateFastParticleSystem name = StinkyPoof01 params_script = apm_NO_Stinkypoof01_fast_particle_params attachobjid = skater
        wait 5 seconds
        DestroyFastParticleSystem name = StinkyPoof01 attachobjid = skaterdestroyfastparticlesystem name = sootpoof01 attachobjid = skater
    endif
    wait 30 frames
    UnSetFlag flag = FLAG_TRASH1
    UnSetFlag flag = FLAG_TRASH2
endscript


script NO_cleantimer_garbage 
    KillSpawnedScript name = NO_cleancheck_garbage
    ClearExceptionGroup NO_cleaned_garbage
    if NOT InMultiPlayerGame
        DestroyFastParticleSystem name = StinkyF01 attachobjid = skater
        DestroyFastParticleSystem name = flysF01 attachobjid = skater
        skater ::DestroyFlexibleParticleSystem name = Stinky01
        CreateFastParticleSystem name = StinkyPoof01 params_script = apm_NO_Stinkypoof01_fast_particle_params attachobjid = skater
        wait 5 seconds
        DestroyFastParticleSystem name = StinkyPoof01 attachobjid = skaterdestroyfastparticlesystem name = sootpoof01 attachobjid = skater
    endif
    wait 30 frames
    UnSetFlag flag = FLAG_TRASH1
    UnSetFlag flag = FLAG_TRASH2
endscript


script NO_water 
    KillSpawnedScript name = NO_cleancheck
    if NOT InMultiPlayerGame
        CreateFastParticleSystem name = waterhead01 params_script = apm_NO_waterhead01_fast_particle_params attachobjid = skater
    endif
endscript


script NO_Kill_Water 
    if NOT InMultiPlayerGame
        DestroyFastParticleSystem name = waterhead01 attachobjid = skater
    endif
endscript


script NO_flame 
    GetTriggerArray skate Off
    if triggertype <trigger_array>
        if GoalManager_GoalExists name = NO_Goal_Gaps3
            if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps3
                SpawnScript NO_SetFlameFlags
            endif
        endif
        if NOT InNetGame
            SpawnSkaterScript NO_FireParticlesOn
        endif
        trigger_speed_boost multi = 1.250
        playsound HitGlassPane2x pitch = 110
        if NOT InNetGame
            GetGap Score = 1000 text = 'GAS LAMP'
            wait 2 seconds
            SpawnSkaterScript NO_FireParticlesOff
        endif
    endif
endscript


script NO_SetFlameFlags 
    if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps3 flag = got_1
        GoalManager_SetGoalFlag name = NO_Goal_Gaps3 got_1 1
    else
        if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps3 flag = got_2
            GoalManager_SetGoalFlag name = NO_Goal_Gaps3 got_2 1
        else
            if NOT GoalManager_GoalFlagSet name = NO_Goal_Gaps3 flag = got_3
                GoalManager_SetGoalFlag name = NO_Goal_Gaps3 got_3 1
            endif
        endif
    endif
endscript


script NO_FireParticlesOn 
    printf 'Fire'
    if NOT InMultiPlayerGame
        CreateFlexibleParticleSystem name = BurnMoFo params_script = APM_flamingBOARD_particle_params
        CreateFlexibleParticleSystem name = SmokeyMoFo params_script = apm_OILYsmoke_particle_params
    endif
endscript


script NO_FireParticlesOff 
    if NOT InMultiPlayerGame
        DestroyFlexibleParticleSystem name = BurnMoFo
        wait 30 frames
        DestroyFlexibleParticleSystem name = SmokeyMoFo
    endif
endscript


script NO_manualcheck_init 
    SpawnScript NO_skater_manual
endscript


script NO_skater_manual 
    printf ' waiting for manual '
    ClearExceptionGroup NO_inmanual
    change jm_skaterinmanual = 0
    SetExceptionHandler Ex = SkaterEnterManual scr = NO_manual_active group = NO_inmanual
    Block
endscript


script NO_manual_active 
    printf ' skater in manual '
    ClearExceptionGroup NO_inmanual
    change jm_skaterinmanual = 1
    SetExceptionHandler Ex = SkaterExitManual scr = NO_skater_manual group = NO_inmanual
    Block
endscript


script NO_manual_spot 
    switch jm_skaterinmanual
        case 1
        SpawnScript NO_SFX_Manual_Over_Manhole
        ShakeCamera {
            duration = 0.2000
            vert_amp = 5.0
            horiz_amp = 3.0
            vert_vel = 10.27
            horiz_vel = 5.920}
        wait 0.5000 seconds
    endswitch
endscript


script NO_wallplant_sign 
    printf 'start'
    SetException Ex = SkaterExitAir scr = NO_neon_burst group = NO_neonsign
    SetException Ex = SkaterExitWallplant scr = NO_neon_burst group = NO_neonsign
    printf 'end'
endscript


script NO_neon_burst 
    SpawnScript NO_SFX_NeonSignBreak
    nightvision_hud
    wait 1 frames
    really_kill_flicker_nightvision_hud
endscript


script NO_sign_obriens 
    SpawnSound NO_SFX_HitObriensSign
    switch <direction>
        case 1
        trg_sign_obriens1 ::obj_roty Angle = -10 Speed = 100 flag_max_coords
        trg_sign_obriens1 ::Obj_WaitRotate
        trg_sign_obriens1 ::obj_roty Angle = 10 Speed = 100 flag_max_coords
        trg_sign_obriens1 ::Obj_WaitRotate
        case 2
        trg_sign_obriens1 ::obj_roty Angle = 10 Speed = 100 flag_max_coords
        trg_sign_obriens1 ::Obj_WaitRotate
        trg_sign_obriens1 ::obj_roty Angle = -10 Speed = 100 flag_max_coords
        trg_sign_obriens1 ::Obj_WaitRotate
        case 3
        trg_sign_obriens2 ::obj_rotx Angle = -10 Speed = 100 flag_max_coords
        trg_sign_obriens2 ::Obj_WaitRotate
        trg_sign_obriens2 ::obj_rotx Angle = 10 Speed = 100 flag_max_coords
        trg_sign_obriens2 ::Obj_WaitRotate
        case 4
        trg_sign_obriens2 ::obj_rotx Angle = -10 Speed = 100 flag_max_coords
        trg_sign_obriens2 ::Obj_WaitRotate
        trg_sign_obriens2 ::obj_rotx Angle = 10 Speed = 100 flag_max_coords
        trg_sign_obriens2 ::Obj_WaitRotate
    endswitch
endscript


script NO_wallplant_natchez 
    GetTriggerArray wallplant
    if triggertype <trigger_array>
        if GoalManager_GoalExists name = NO_Goal_Gaps
            GoalManager_SetGoalFlag name = NO_Goal_Gaps <flag> 1
        endif
        NO_foghorn
    endif
endscript


script NO_foghorn 
    skater ::getspeed
    switch jm_natchez_move
        case 0
        SpawnScript NO_SFX_PaddleWheel01
        g_natchez_main ::obj_movetonode name = TRG_natchez_spot1 Speed = 25
        g_natchez_wheel ::obj_movetonode name = TRG_natchez_wheelspot1 Speed = 25
        g_natchez_wheel ::obj_roty Angle = 540 Speed = (<Speed>)flag_max_coords
        g_natchez_wheel ::Obj_WaitRotate
        Kill name = g_natchez_trigger3
        Create name = g_natchez_trigger1
        change jm_natchez_move = 1
        case 1
        SpawnScript NO_SFX_PaddleWheel02
        g_natchez_main ::obj_movetonode name = TRG_natchez_spot2 Speed = 25
        g_natchez_wheel ::obj_movetonode name = TRG_natchez_wheelspot2 Speed = 25
        g_natchez_wheel ::obj_roty Angle = 540 Speed = (<Speed>)flag_max_coords
        g_natchez_wheel ::Obj_WaitRotate
        Kill name = g_natchez_trigger1
        Create name = g_natchez_trigger2
        change jm_natchez_move = 2
        case 2
        SpawnScript NO_SFX_PaddleWheel03
        wait 10 frames
        g_natchez_main ::obj_movetonode name = TRG_natchez_spot3 Speed = 25
        g_natchez_wheel ::obj_movetonode name = TRG_natchez_wheelspot3 Speed = 25
        g_natchez_wheel ::obj_roty Angle = -540 Speed = (<Speed>)flag_max_coords
        g_natchez_wheel ::Obj_WaitRotate
        wait 20 frames
        Kill name = g_natchez_trigger2
        Create name = g_natchez_trigger3
        change jm_natchez_move = 0
        default 
    endswitch
endscript


script NO_wallplant_WaterTower 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        if GoalManager_GoalExists name = NO_Goal_Gaps4
            GoalManager_SetGoalFlag name = NO_Goal_Gaps4 got_1 1
        endif
        if NOT ObjectExists id = WaterTowerSLAP_spray01
            CreateFastParticleSystem name = WaterTowerSLAP_spray01 params_script = apm_NO_WaterTower_slap01_fast_particle_params
        endif
    endif
endscript


script NO_Bird 
    Obj_ClearExceptions
    obj_setinnerradius 5
    Obj_SetException Ex = objectinradius scr = NO_Bird_Die params = <...> 
    Obj_PlayAnim anim = Fly Cycle
    obj_shadowoff
endscript


script NO_Bird_Die 
    Obj_ClearExceptions
    if GoalManager_GoalExists name = NO_Goal_Gaps5
        if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps5
            GoalManager_SetGoalFlag name = NO_Goal_Gaps5 <flag> 1
            Obj_PlayAnim anim = Preen Cycle
            if NOT IsStreamPlaying BirdDeathStream
                PlayStream SK6_NO_BirdDeath vol = 200 id = BirdDeathStream
            endif
            obj_movetorelpos (0.0, -1500.0, 0.0) Speed = 25
            Obj_WaitMove
            Die
        endif
    endif
endscript


script NO_Goal_Birds_Success 
    Kill name = TRG_Ped_Hint_Birds
endscript


script NO_Ped_Cop 
    Obj_ClearExceptions
    obj_setinnerradius 25
    Obj_SetException Ex = objectinradius scr = NO_Ped_Cop_Chase
    Ped_InitAI fall should_look_at_skater = 1
endscript


script NO_Ped_Cop_Chase 
    Obj_ClearExceptions
    Ped_Utils_BeginPlayerChase CatchScript = NO_Ped_Cop_Chase_End
endscript


script NO_Ped_Cop_Chase_End 
    Ped_Utils_EndPlayerChase
    wait 2 seconds
    goto NO_Ped_Cop
endscript


script NO_Ammo_Node 
    Obj_ClearExceptions
    setup_ped_speech {ped_id = <name>
        accept_text = 'Press \m5 to pick up beads'
        activation_script = NO_Ammo_Got
        dont_deactivate_goals
    }
endscript


script NO_Ammo_Got 
    give_skater_ammo num = 10 type = beads
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
    UnpauseSkaters
endscript


script NO_Gap_StreetCar 
    printf 'Streetcar'
    if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps10
        GoalManager_SetGoalFlag name = NO_Goal_Gaps10 got_1 1
    endif
endscript


script NO_Clean_Checker 
    ClearExceptionGroup NO_Clean_Checker
    SetException Ex = SkaterEnterFocus scr = NO_Clean_Focus group = NO_Clean_Checker
    printf 'NO_Clean_Checker'
    Block
endscript


script NO_Clean_Focus 
    ClearExceptionGroup NO_Clean_Checker
    SetException Ex = SkaterLanded scr = NO_Clean_Land_Score group = NO_Clean_Checker
    SetException Ex = SkaterBailed scr = NO_Clean_Bail group = NO_Clean_Checker
    printf 'NO_Clean_Focus'
    Block
endscript


script NO_Clean_Land_Score 
    ClearExceptionGroup NO_Clean_Checker
    printf 'NO_Clean_Land'
    GoalManager_GetDifficultyLevel
    switch <difficulty_level>
        case 0
        if SkaterLastScoreLandedGreaterThan NO_BigFocus_Score_Easy
            printf '30000+'
            if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps12
                GoalManager_SetGoalFlag name = NO_Goal_Gaps12 got_1 1
            endif
        endif
        case 1
        if SkaterLastScoreLandedGreaterThan NO_BigFocus_Score_Normal
            printf '100000+'
            if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps12
                GoalManager_SetGoalFlag name = NO_Goal_Gaps12 got_1 1
            endif
        endif
        case 2
        if SkaterLastScoreLandedGreaterThan NO_BigFocus_Score_Hard
            printf '200000+'
            if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps12
                GoalManager_SetGoalFlag name = NO_Goal_Gaps12 got_1 1
            endif
        endif
    endswitch
    goto NO_Clean_Checker
endscript


script NO_Clean_Bail 
    ClearExceptionGroup NO_Clean_Checker
    printf 'NO_Clean_Bail'
    goto NO_Clean_Checker
endscript


script NO_Ped_BirdsHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = TRG_Ped_Hint_Birds
        accept_text = 'Press \m5 to talk.'
        hint_text = 'There is a flock of lovely birds high up over the cemetary.  Get some speed, spine over this wall and smack them!'
        hint_text_time = 15
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
        vo = NO_Ped_Hint_Birds_VO
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script NO_Ped_SkullsHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = TRG_Ped_Hint_Skulls
        accept_text = 'Press \m5 to talk.'
        hint_text = 'Please, oh please, don\'t knock the skulls off the crypts!'
        hint_text_time = 15
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
        vo = NO_Ped_Hint_Skulls_VO
    }
    obj_setattentionradius 40
    Ped_InitAI stand avoid Chick
endscript


script NO_Ped_SpineHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = TRG_Ped_Hint_Spine
        accept_text = 'Press \m5 to talk.'
        hint_text = 'There is a killer line that starts by spining (\ml) over this quarter pipe'
        hint_text_time = 15
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
        vo = NO_Ped_Hint_Spine_VO
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script NO_streetcar_move 
    begin 
    obj_movetonode name = TRG_streetcar_01 Speed = 25
    TRG_SFX_Ghost_TrainSparks01 ::obj_movetonode name = TRG_streetcar_01 Speed = 25
    SpawnSound NO_SFX_Train_Electrics
    Obj_WaitMove
    KillSpawnedScript name = NO_SFX_Train_Electrics
    TRG_SFX_Ghost_TrainSparks01 ::obj_stopsound SK6_BO_TrainLoop02
    TRG_SFX_Ghost_TrainSparks01 ::obj_stopsound SK6_BO_TrainLoop02
    wait 5 seconds
    obj_movetonode name = TRG_streetcar_02 Speed = 25
    TRG_SFX_Ghost_TrainSparks01 ::obj_movetonode name = TRG_streetcar_02 Speed = 25
    SpawnSound NO_SFX_Train_Electrics
    Obj_WaitMove
    KillSpawnedScript name = NO_SFX_Train_Electrics
    TRG_SFX_Ghost_TrainSparks01 ::obj_stopsound SK6_BO_TrainLoop02
    TRG_SFX_Ghost_TrainSparks01 ::obj_stopsound SK6_BO_TrainLoop02
    wait 5 seconds
    repeat 
endscript


script style_NO_vfer 
    setprops just = [ center center ] rgba = [ 0 150 0 255 ]
    DoMorph time = 0.3000 Pos = (100.0, 110.0) Scale = 0.8000 alpha = 100
endscript


script style_NO_vfer2 
    setprops just = [ center center ] rgba = [ 0 100 150 255 ]
    DoMorph time = 0.1000 Pos = (100.0, 125.0) Scale = 0.8000 alpha = 100
endscript


script NO_SpinSign_Trigger1 
    broadcastevent type = NO_EV_SpinSign1
    GetGap Score = 100 text = 'Nawlins Sign'
endscript


script NO_Sign_Waiting1 
    ClearExceptionGroup NO_SpinSign
    SetException Ex = NO_EV_SpinSign1 scr = No_SpinSign_Go1 group = NO_SpinSign
    Block
endscript


script No_SpinSign_Go1 
    ClearExceptionGroup NO_SpinSign
    SpawnScript NO_neon_burst
    CreateFastParticleSystem name = sparky01 params_script = apm_NO_sparks01_fast_particle_params attachobjid = trg_spin_sign_01
    skater ::getspeed
    if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps17
        GoalManager_SetGoalFlag name = NO_Goal_Gaps17 got_1 1
    endif
    trg_spin_sign_01 ::obj_rotz Angle = 1620 Speed = (<Speed>)flag_max_coords
    trg_spin_sign_01 ::Obj_WaitRotate
    goto NO_Sign_Waiting1
endscript


script NO_SpinSign_Trigger2 
    broadcastevent type = NO_EV_SpinSign2
    GetGap Score = 100 text = 'Boo Ya\'s Sign'
endscript


script NO_Sign_Waiting2 
    ClearExceptionGroup NO_SpinSign
    SetException Ex = NO_EV_SpinSign2 scr = No_SpinSign_Go2 group = NO_SpinSign
    Block
endscript


script No_SpinSign_Go2 
    ClearExceptionGroup NO_SpinSign
    SpawnScript NO_neon_burst
    CreateFastParticleSystem name = sparky01 params_script = apm_NO_sparks01_fast_particle_params attachobjid = Trg_spin_sign_02
    skater ::getspeed
    if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps17
        GoalManager_SetGoalFlag name = NO_Goal_Gaps17 got_2 1
    endif
    Trg_spin_sign_02 ::obj_rotz Angle = 1620 Speed = (<Speed>)flag_max_coords
    Trg_spin_sign_02 ::Obj_WaitRotate
    goto NO_Sign_Waiting2
endscript


script NO_SpinSign_Trigger3 
    broadcastevent type = NO_EV_SpinSign3
    GetGap Score = 100 text = 'Green Goddess Sign'
endscript


script NO_Sign_Waiting3 
    ClearExceptionGroup NO_SpinSign
    SetException Ex = NO_EV_SpinSign3 scr = No_SpinSign_Go3 group = NO_SpinSign
    Block
endscript


script No_SpinSign_Go3 
    ClearExceptionGroup NO_SpinSign
    SpawnScript NO_neon_burst
    CreateFastParticleSystem name = sparky01 params_script = apm_NO_sparks01_fast_particle_params attachobjid = Trg_spin_sign_03
    skater ::getspeed
    if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps17
        GoalManager_SetGoalFlag name = NO_Goal_Gaps17 got_3 1
    endif
    Trg_spin_sign_03 ::obj_rotz Angle = 1620 Speed = (<Speed>)flag_max_coords
    Trg_spin_sign_03 ::Obj_WaitRotate
    goto NO_Sign_Waiting3
endscript


script NO_spinsign_trigger 
    broadcastevent type = NO_EV_spinsign
endscript


script NO_spinsign_waiting 
    JM_sign_spincount = 0
    ClearExceptionGroup NO_SpinSign
    SetException Ex = NO_EV_spinsign scr = NO_spinsign_action group = NO_SpinSign
    Block
endscript


script NO_spinsign_action 
    SpawnScript NO_neon_burst
    ClearExceptionGroup NO_SpinSign
    skater ::getspeed
    CreateFastParticleSystem name = sparky01 params_script = apm_NO_sparks01_fast_particle_params attachobjid = trg_spin_sign_01
    TODManager_SetTempBloomParams on = 1
    TODManager_SetTempBloomParams color = [ 100 100 80 ]
    TODManager_SetTempBloomParams bloom1 = 20
    TODManager_SetTempBloomParams bloom2 = 80
    TODManager_SetTempBloomParams strength = [ 200 200 255 ]
    wait 15 frames
    TODManager_SetTempBloomParams on = 0
    spins = (<Speed> * 0.01000)
    CastToInteger spins
    change JM_sign_spincount = <spins>
    printstruct <...> 
    SpawnScript NO_spinsign_score
    trg_spin_sign_01 ::obj_rotz Angle = 1080 Speed = (<Speed>)flag_max_coords
    trg_spin_sign_01 ::Obj_WaitRotate
    goto NO_spinsign_waiting
endscript


script NO_spinsign_score 
    printf ' spincount = %s ' s = JM_sign_spincount
    switch JM_sign_spincount
        case 0
        change JM_sign_spincount = 1
        case 1
        change JM_sign_spincount = Random (@ 1 @ (JM_sign_spincount + 1))
        case 2
        change JM_sign_spincount = Random (@ 2 @ (JM_sign_spincount + 1)@ (JM_sign_spincount - 1))
        case 3
        change JM_sign_spincount = Random (@ 3 @ (JM_sign_spincount + 1)@ (JM_sign_spincount - 1)@ (JM_sign_spincount + 2)@ (JM_sign_spincount - 2))
        default 
        change JM_sign_spincount = Random (@ (JM_sign_spincount - 1)@ (JM_sign_spincount + 1)@ (JM_sign_spincount + 2)@ (JM_sign_spincount - 2)@ (JM_sign_spincount - 3)@ (JM_sign_spincount + 3))
    endswitch
    printf ' spincount = %s ' s = JM_sign_spincount
    begin 
    wait 10 frames
    skater ::GetGap Score = 1 text = 'Nawlins Sign'
    repeat JM_sign_spincount
    if (JM_sign_spincount > 32)
        FormatText textname = sign_spun_text '\'NAWLINS\' x %c Good!' c = JM_sign_spincount
        create_panel_message id = message_sign_spun text = <sign_spun_text> style = style_NO_signspin z_priority = -30
    else
        FormatText textname = sign_spun_text '\'NAWLINS\' x %c' c = JM_sign_spincount
        create_panel_message id = message_sign_spun text = <sign_spun_text> style = style_NO_signspin z_priority = -30
    endif
    wait 2 seconds
    kill_panel_message_if_it_exists id = message_sign_spun
endscript


script style_NO_signspin 
    setprops just = [ center center ] rgba = [ 50 120 50 255 ]
    DoMorph time = 0.5000 Pos = (140.0, 170.0) Scale = 1.500 alpha = 100
endscript


script NO_spike_shatter 
    playsound SK6_NO_BreakFence01 pitch = RandomNoRepeat (@ 90 @ 95 @ 100 @ 106 @ 112 @ 118)
    ShatterAndDie name = <spike> area = 1000 variance = 4 vel_x = 200 vel_y = 200 vel_z = 200 spread = 100
endscript


script NO_boatsink 
    Kill name = trp_grv_boatsink
    wait 5 seconds
    PlayStream SK6_NO_BoatSink vol = 120 priority = StreamPriorityHigh
    trg_grv_boat ::obj_movetonode name = TRG_grvboat_sink Speed = 5
    wait 2 seconds
    trg_grv_boat ::obj_movetonode name = TRG_grvboat_sink Speed = 25
    Kill name = trg_grv_boat
endscript


script NO_gravegate 
    printf 'gatespin'
    skater ::getspeed
    printstruct <...> 
    trigger_speed_boost multi = 1.250
    trg_grvgate_riv ::obj_rotx Angle = -180 Speed = (<Speed>)flag_max_coords
    trg_grvgate_riv ::Obj_WaitRotate
endscript


script NO_gravegate_2 
    skater ::getspeed
    printstruct <...> 
    printf 'gatespin'
    trigger_speed_boost multi = 1.250
    trg_grvgate_riv ::obj_rotx Angle = 180 Speed = (<Speed>)flag_max_coords
    trg_grvgate_riv ::Obj_WaitRotate
endscript


script NO_gravegate_3 
    printf 'gatespin'
    skater ::getspeed
    printstruct <...> 
    trigger_speed_boost multi = 1.250
    trg_grvgate_alley ::obj_rotx Angle = -180 Speed = (<Speed>)flag_max_coords
    trg_grvgate_alley ::Obj_WaitRotate
endscript


script NO_gravegate_4 
    printf 'gatespin'
    skater ::getspeed
    trigger_speed_boost multi = 1.250
    trg_grvgate_alley ::obj_rotx Angle = 180 Speed = (<Speed>)flag_max_coords
    trg_grvgate_alley ::Obj_WaitRotate
endscript


script NO_boost 
    trigger_speed_boost multi = 6.600
    trigger_jump_boost multi = 0.9000
    NO_GotEscapeGap
endscript


script NO_sewer_sound 
endscript


script NO_skullhit_1 
    if NOT obj_flagset FLAG_SKULL
        KillSpawnedScript name = NO_Skull_timer
        obj_setflag FLAG_SKULL
        change jm_skullcount = (jm_skullcount + 1)
        playsound Ricco2_11 pitch = 100
        SpawnScript NO_Crypt_counter_1
        KillSpawnedScript name = NO_Skull_reset
        SpawnScript NO_Skull_reset
    endif
endscript


script NO_skullhit_2 
    if NOT obj_flagset FLAG_SKULL
        KillSpawnedScript name = NO_Skull_timer
        obj_setflag FLAG_SKULL
        change jm_skullcount = (jm_skullcount + 1)
        playsound Ricco2_11 pitch = 100
        SpawnScript NO_Crypt_counter_2
        KillSpawnedScript name = NO_Skull_reset
        SpawnScript NO_Skull_reset
    endif
endscript


script NO_skullhit_3 
    if NOT obj_flagset FLAG_SKULL
        KillSpawnedScript name = NO_Skull_timer
        obj_setflag FLAG_SKULL
        change jm_skullcount = (jm_skullcount + 1)
        playsound Ricco2_11 pitch = 100
        SpawnScript NO_Crypt_counter_3
        KillSpawnedScript name = NO_Skull_reset
        SpawnScript NO_Skull_reset
    endif
endscript


script NO_skullhit_4 
    if NOT obj_flagset FLAG_SKULL
        KillSpawnedScript name = NO_Skull_timer
        obj_setflag FLAG_SKULL
        change jm_skullcount = (jm_skullcount + 1)
        playsound Ricco2_11 pitch = 100
        SpawnScript NO_Crypt_counter_4
        KillSpawnedScript name = NO_Skull_reset
        SpawnScript NO_Skull_reset
    endif
endscript


script NO_skullhit_5 
    if NOT obj_flagset FLAG_SKULL
        KillSpawnedScript name = NO_Skull_timer
        obj_setflag FLAG_SKULL
        change jm_skullcount = (jm_skullcount + 1)
        playsound Ricco2_11 pitch = 100
        SpawnScript NO_Crypt_counter_5
        KillSpawnedScript name = NO_Skull_reset
        SpawnScript NO_Skull_reset
    endif
endscript


script NO_Skull_reset 
    KillSpawnedScript name = NO_Skull_timer
    kill_panel_message_if_it_exists id = message_skulltime
    SpawnScript NO_Skull_timer
    wait 10 seconds
    if NOT GetFlag flag = FLAG_CRYPT_1
        Kill prefix = 'trg_skull1'
        wait 1 frame
        Create prefix = 'trg_skull1_'
    endif
    if NOT GetFlag flag = FLAG_CRYPT_2
        Kill prefix = 'trg_skull2'
        wait 1 frame
        Create prefix = 'trg_skull2_'
    endif
    if NOT GetFlag flag = FLAG_CRYPT_3
        Kill prefix = 'trg_skull3'
        wait 1 frame
        Create prefix = 'trg_skull3_'
    endif
    if NOT GetFlag flag = FLAG_CRYPT_4
        Kill prefix = 'trg_skull4'
        wait 1 frame
        Create prefix = 'trg_skull4_'
    endif
    if NOT GetFlag flag = FLAG_CRYPT_5
        Kill prefix = 'trg_skull5'
        wait 1 frame
        Create prefix = 'trg_skull5_'
    endif
    change jm_skullcount = 0
    kill_panel_message_if_it_exists id = message_skulls
endscript


script NO_Skull_timer 
    skull_secs = 10
    begin 
    FormatText textname = skulltime_text 'SKULLTIME %s' s = <skull_secs>
    create_panel_message id = message_skulltime text = <skulltime_text> style = style_NO_skulltimer z_priority = -30
    wait 1 second
    skull_secs = (<skull_secs> -1)
    repeat 10
    FormatText textname = skulltime_text ' RESET '
    create_panel_message id = message_skulltime text = <skulltime_text> style = style_NO_skulltimer2 z_priority = -30
    wait 1 second
    kill_panel_message_if_it_exists id = message_skulltime
endscript


script NO_Crypt_counter_1 
    if QueryFlag FLAG_SKULL name = trg_skull1_01
        if QueryFlag FLAG_SKULL name = trg_skull1_02
            if QueryFlag FLAG_SKULL name = trg_skull1_03
                if QueryFlag FLAG_SKULL name = trg_skull1_04
                    KillSpawnedScript name = NO_Skull_reset
                    KillSpawnedScript name = NO_Skull_timer
                    kill_panel_message_if_it_exists id = message_skulltime
                    SetFlag flag = FLAG_CRYPT_1
                    if GoalManager_GoalExists name = NO_Goal_Gaps6
                        GoalManager_SetGoalFlag name = NO_Goal_Gaps6 got_1 1
                    endif
                    SpawnSound NO_SFX_Crypt01_First_Rumble
                    Create name = TRG_SFX_TrigBox_CryptConstRumble01
                    FormatText textname = skulls_text 'CRYPT OPEN'
                    create_panel_message id = message_skulls text = <skulls_text> style = style_NO_smoked z_priority = -30
                    Kill prefix = 'trg_skull1_'
                    Create name = g_grv_crypt1_smoke
                    G_grv_event_dome ::obj_spawnscript NO_Crypt1_open1
                    wait 3 seconds
                    kill_panel_message_if_it_exists id = message_skulls
                    if GetFlag flag = FLAG_CRYPT_1
                        if GetFlag flag = FLAG_CRYPT_2
                            if GetFlag flag = FLAG_CRYPT_3
                                if GetFlag flag = FLAG_CRYPT_4
                                    if GetFlag flag = FLAG_CRYPT_5
                                        SpawnScript NO_play_vortex_anim
                                    endif
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_Crypt_counter_2 
    if QueryFlag FLAG_SKULL name = trg_skull2_01
        if QueryFlag FLAG_SKULL name = trg_skull2_02
            if QueryFlag FLAG_SKULL name = trg_skull2_03
                if QueryFlag FLAG_SKULL name = trg_skull2_04
                    if QueryFlag FLAG_SKULL name = trg_skull2_05
                        if QueryFlag FLAG_SKULL name = trg_skull2_06
                            KillSpawnedScript name = NO_Skull_reset
                            KillSpawnedScript name = NO_Skull_timer
                            kill_panel_message_if_it_exists id = message_skulltime
                            SetFlag flag = FLAG_CRYPT_2
                            if GoalManager_GoalExists name = NO_Goal_Gaps6
                                GoalManager_SetGoalFlag name = NO_Goal_Gaps6 got_2 1
                            endif
                            SpawnSound NO_SFX_Crypt02_First_Rumble
                            Create name = TRG_SFX_TrigBox_CryptConstRumble02
                            FormatText textname = skulls2_text 'CRYPT OPEN'
                            create_panel_message id = message_skulls2 text = <skulls2_text> style = style_NO_smoked z_priority = -30
                            Kill prefix = 'trg_skull2_'
                            Create name = g_grv_crypt2_smoke
                            trg_crypt2_coverA ::obj_spawnscript NO_Crypt2_openA
                            trg_crypt2_coverB ::obj_spawnscript NO_Crypt2_openB
                            wait 3 seconds
                            kill_panel_message_if_it_exists id = message_skulls2
                            if GetFlag flag = FLAG_CRYPT_1
                                if GetFlag flag = FLAG_CRYPT_2
                                    if GetFlag flag = FLAG_CRYPT_3
                                        if GetFlag flag = FLAG_CRYPT_4
                                            if GetFlag flag = FLAG_CRYPT_5
                                                SpawnScript NO_play_vortex_anim
                                            endif
                                        endif
                                    endif
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_Crypt_counter_3 
    if QueryFlag FLAG_SKULL name = trg_skull3_01
        if QueryFlag FLAG_SKULL name = trg_skull3_02
            KillSpawnedScript name = NO_Skull_reset
            KillSpawnedScript name = NO_Skull_timer
            kill_panel_message_if_it_exists id = message_skulltime
            SetFlag flag = FLAG_CRYPT_3
            if GoalManager_GoalExists name = NO_Goal_Gaps6
                GoalManager_SetGoalFlag name = NO_Goal_Gaps6 got_3 1
            endif
            SpawnSound NO_SFX_Crypt03_First_Rumble
            Create name = TRG_SFX_TrigBox_CryptConstRumble03
            FormatText textname = skulls2_text 'CRYPT OPEN'
            create_panel_message id = message_skulls2 text = <skulls2_text> style = style_NO_smoked z_priority = -30
            Kill prefix = 'trg_skull3_'
            Create name = g_grv_crypt3_smoke
            trg_crypt3_cover ::obj_spawnscript NO_Crypt3_open
            wait 3 seconds
            kill_panel_message_if_it_exists id = message_skulls2
            if GetFlag flag = FLAG_CRYPT_1
                if GetFlag flag = FLAG_CRYPT_2
                    if GetFlag flag = FLAG_CRYPT_3
                        if GetFlag flag = FLAG_CRYPT_4
                            if GetFlag flag = FLAG_CRYPT_5
                                SpawnScript NO_play_vortex_anim
                            endif
                        endif
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_Crypt_counter_4 
    if QueryFlag FLAG_SKULL name = trg_skull4_01
        if QueryFlag FLAG_SKULL name = trg_skull4_02
            if QueryFlag FLAG_SKULL name = trg_skull4_03
                KillSpawnedScript name = NO_Skull_reset
                KillSpawnedScript name = NO_Skull_timer
                kill_panel_message_if_it_exists id = message_skulltime
                SetFlag flag = FLAG_CRYPT_4
                if GoalManager_GoalExists name = NO_Goal_Gaps6
                    GoalManager_SetGoalFlag name = NO_Goal_Gaps6 got_4 1
                endif
                SpawnSound NO_SFX_Crypt04_First_Rumble
                Create name = TRG_SFX_TrigBox_CryptConstRumble04
                FormatText textname = skulls2_text 'CRYPT OPEN'
                create_panel_message id = message_skulls2 text = <skulls2_text> style = style_NO_smoked z_priority = -30
                Kill prefix = 'trg_skull4_'
                Create name = g_grv_crypt4_smoke
                trg_crypt4_cover ::obj_spawnscript NO_Crypt4_open
                wait 3 seconds
                kill_panel_message_if_it_exists id = message_skulls2
                if GetFlag flag = FLAG_CRYPT_1
                    if GetFlag flag = FLAG_CRYPT_2
                        if GetFlag flag = FLAG_CRYPT_3
                            if GetFlag flag = FLAG_CRYPT_4
                                if GetFlag flag = FLAG_CRYPT_5
                                    SpawnScript NO_play_vortex_anim
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_Crypt_counter_5 
    if QueryFlag FLAG_SKULL name = trg_skull5_01
        if QueryFlag FLAG_SKULL name = trg_skull5_02
            if QueryFlag FLAG_SKULL name = trg_skull5_03
                KillSpawnedScript name = NO_Skull_reset
                KillSpawnedScript name = NO_Skull_timer
                kill_panel_message_if_it_exists id = message_skulltime
                SetFlag flag = FLAG_CRYPT_5
                if GoalManager_GoalExists name = NO_Goal_Gaps6
                    GoalManager_SetGoalFlag name = NO_Goal_Gaps6 got_5 1
                endif
                SpawnSound NO_SFX_Crypt05_First_Rumble
                Create name = TRG_SFX_TrigBox_CryptConstRumble05
                FormatText textname = skulls2_text 'CRYPT OPEN'
                create_panel_message id = message_skulls2 text = <skulls2_text> style = style_NO_smoked z_priority = -30
                Kill prefix = 'trg_skull5_'
                Create name = g_grv_crypt5_smoke
                trg_crypt5_cover ::obj_spawnscript NO_Crypt5_open
                wait 3 seconds
                kill_panel_message_if_it_exists id = message_skulls2
                if GetFlag flag = FLAG_CRYPT_1
                    if GetFlag flag = FLAG_CRYPT_2
                        if GetFlag flag = FLAG_CRYPT_3
                            if GetFlag flag = FLAG_CRYPT_4
                                if GetFlag flag = FLAG_CRYPT_5
                                    SpawnScript NO_play_vortex_anim
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_FakeLights_Off 
    FakeLights percent = 0 id = JOW_VoodooLight01 time = 0
endscript


script NO_FakeLights_On 
    FakeLights percent = 100 id = JOW_VoodooLight01 time = 0
endscript


script NO_play_vortex_anim 
    SpawnScript NO_FakeLights_On
    wait 1 frame
    if NOT GetFlag flag = FLAG_VORTEX
        play_cutscene name = 'cutscenes\NO_LevelEvent1.cut' RestartNode = TRG_Restart_Graveyard restore_skater_camera
    endif
    SetFlag flag = FLAG_VORTEX
endscript


script NO_Crypt1_open1 
    obj_rotx Speed = 10 Angle = 2 flag_max_coords
    Obj_WaitRotate
    begin 
    obj_rotx Speed = 10 Angle = -4 flag_max_coords
    Obj_WaitRotate
    obj_rotx Speed = 10 Angle = 4 flag_max_coords
    Obj_WaitRotate
    repeat 
endscript


script NO_Crypt2_openA 
    obj_rotx Speed = 15 Angle = 2 flag_max_coords
    Obj_WaitRotate
    begin 
    obj_rotx Speed = 15 Angle = -4 flag_max_coords
    Obj_WaitRotate
    obj_rotx Speed = 15 Angle = 4 flag_max_coords
    Obj_WaitRotate
    repeat 
endscript


script NO_Crypt2_openB 
    obj_roty Speed = 30 Angle = 2 flag_max_coords
    Obj_WaitRotate
    begin 
    obj_roty Speed = 30 Angle = -4 flag_max_coords
    Obj_WaitRotate
    obj_roty Speed = 30 Angle = 4 flag_max_coords
    Obj_WaitRotate
    repeat 
endscript


script NO_Crypt3_open 
    obj_roty Speed = 30 Angle = 2 flag_max_coords
    Obj_WaitRotate
    begin 
    obj_roty Speed = 30 Angle = -4 flag_max_coords
    Obj_WaitRotate
    obj_roty Speed = 30 Angle = 4 flag_max_coords
    Obj_WaitRotate
    repeat 
endscript


script NO_Crypt4_open 
    obj_movetorelpos (0.0, -2.0, 0.0) Speed = 1
    Obj_WaitMove
    begin 
    obj_movetorelpos (0.0, 2.0, 0.0) Speed = 1
    Obj_WaitMove
    obj_movetorelpos (0.0, -2.0, 0.0) Speed = 1
    Obj_WaitMove
    repeat 
endscript


script NO_Crypt5_open 
    obj_roty Speed = 30 Angle = 2 flag_max_coords
    Obj_WaitRotate
    begin 
    obj_roty Speed = 30 Angle = -4 flag_max_coords
    Obj_WaitRotate
    obj_roty Speed = 30 Angle = 4 flag_max_coords
    Obj_WaitRotate
    repeat 
endscript


script NO_Hurricane_Acid_Got 
    GetNumberOfTrickOccurrences TrickText = 'Acid Drop'
    printstruct <...> 
    if (<number_of_occurrences> > 0)
        printf 'tricky'
        if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps14
            GoalManager_SetGoalFlag name = NO_Goal_Gaps14 got_1 1
        endif
    endif
endscript


script NO_Natas_Check 
    ClearExceptionGroup Natas
    GetTriggerArray spin onto
    printf 'natas check'
    if triggertype <trigger_array>
        printf 'jump onto'
        SetException Ex = SkaterJump scr = NO_Natas_Done
        SetException Ex = SkaterBailed scr = NO_Natas_Done
        SetException Ex = SkaterEnterAir scr = NO_Natas_Done
        if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps18
            if GoalManager_GoalExists name = NO_Goal_Gaps18
                if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps18
                    if NOT GoalManager_HasWonGoal name = NO_Goal_Gaps18
                        create_panel_message {text = '10 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '9 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '8 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '7 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '6 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '5 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '4 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '3 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '2 seconds' style = goal_collect_text}
                        wait 1 second
                        create_panel_message {text = '1 second' style = goal_collect_text}
                        wait 1 second
                        printf 'Natas for 10'
                        GoalManager_SetGoalFlag name = NO_Goal_Gaps18 got_1 1
                    endif
                endif
            endif
        endif
    endif
endscript


script NO_Natas_Done 
    ClearExceptionGroup Natas
    printf 'Natas Done'
endscript


script NO_GapStart_DanceFloor 
    StartGap GapID = DanceFloor flags = [ PURE_AIR ]
endscript


script NO_GapEnd_DanceFloor 
    endgap GapID = DanceFloor Score = 250 text = 'Dance Floor Skillz'
endscript


script NO_Gap_Start_SuperDuper_Lip 
    StartGap GapID = SuperDuper flags = [ CANCEL_GROUND ]
endscript


script NO_Gap_End_SuperDuper_Lip 
    GetTriggerArray lip onto
    if triggertype <trigger_array>
        endgap GapID = SuperDuper Score = 500 text = 'Super Duper Lip'
    endif
endscript


script NO_Gap_Start_Humidity_Lip 
    StartGap GapID = HumidityLip flags = [ CANCEL_GROUND ]
endscript


script NO_Gap_End_Humidity_Lip 
    GetTriggerArray lip onto
    if triggertype <trigger_array>
        endgap GapID = HumidityLip Score = 250 text = 'Humidity Lip'
    endif
endscript


script NO_Gap_Start_OBrienManual 
    StartGap GapID = OBrienManual flags = [ CANCEL_RAIL , CANCEL_GROUND ]
endscript


script NO_Gap_End_OBrienManual 
    endgap GapID = OBrienManual Score = 500 text = 'OBrien\'s Balcony Manual'
endscript


script NO_Gap_Start_HipBone 
    StartGap GapID = HipBone1 flags = [ PURE_AIR ]
    endgap GapID = HipBone2 Score = 500 text = 'Hip Bone'
endscript


script NO_Gap_End_HipBone 
    StartGap GapID = HipBone2 flags = [ PURE_AIR ]
    endgap GapID = HipBone1 Score = 500 text = 'Hip Bone'
endscript


script NO_Gap_Start_Wire_Lip 
    StartGap GapID = WireLip flags = [ CANCEL_GROUND ]
endscript


script NO_Gap_End_Wire_Lip 
    GetTriggerArray lip onto
    if triggertype <trigger_array>
        endgap GapID = WireLip Score = 250 text = 'Wire Lip'
    endif
endscript


script NO_Gap_StreetManual1 
    StartGap GapID = StreetManual1 flags = [ PURE_MANUAL ]
    endgap GapID = StreetManual2 Score = 500 text = 'Nawlins Street Manual'
endscript


script NO_Gap_StreetManual2 
    StartGap GapID = StreetManual2 flags = [ PURE_MANUAL ]
    endgap GapID = StreetManual1 Score = 500 text = 'Nawlins Street Manual'
endscript


script NO_GapStart_SmokeBomb 
    StartGap GapID = smokebomb flag = [CANCEL_GROUND , CANCEL_RAIL , CANCEL_MANUAL]
endscript


script NO_GapEnd_SmokeBomb 
    endgap GapID = smokebomb Score = 1000 text = 'Smoke Bomb'
endscript


script NO_GapStart_Humidity1 
    StartGap GapID = Humidity1 flags = [CANCEL_GROUND , CANCEL_RAIL , CANCEL_MANUAL]
endscript


script NO_GapEnd_Humidity1 
    endgap GapID = Humidity1 Score = 250 text = 'Humidity Drop'
endscript


script NO_GapStart_Humidity2 
    StartGap GapID = Humidity2 flags = [CANCEL_GROUND , CANCEL_RAIL , CANCEL_MANUAL]
endscript


script NO_GapEnd_Humidity2 
    endgap GapID = Humidity2 Score = 250 text = 'Humidity Drop'
endscript


script NO_Gap_AirBoat 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        GetGap Score = 500 text = 'Air Boat Sign Slap'
    endif
endscript


script NO_Gap_Dumpster1 
    StartGap GapID = Dumpster1 flags = [ PURE_AIR ] TrickText = 'Superman Seatgrab' TrickScript = NO_Superman_Got
    endgap GapID = Dumpster2 Score = 100 text = 'Dumpster Dive'
endscript


script NO_Gap_Dumpster2 
    StartGap GapID = Dumpster2 flags = [ PURE_AIR ] TrickText = 'Superman Seatgrab' TrickScript = NO_Superman_Got
    endgap GapID = Dumpster1 Score = 100 text = 'Dumpster Dive'
endscript


script NO_Superman_Got 
    printf 'Superman'
    if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps16
        GoalManager_SetGoalFlag name = NO_Goal_Gaps16 got_1 1
    endif
endscript


script NO_Gap_Start_Street1 
    StartGap GapID = Street1 flags = [ PURE_AIR ]
    endgap GapID = Street2 Score = 100 text = 'Big Easy Roof Gap'
    if skater ::IsSkaterFocused
        StartGap GapID = CleanStreet1 flags = [ PURE_AIR ] TrickText = 'Kickflip' TrickScript = NO_Flip_Got
        printf 'Focused'
    endif
    endgap GapID = CleanStreet2
endscript


script NO_Gap_Start_Street2 
    StartGap GapID = Street2 flags = [ PURE_AIR ]
    endgap GapID = Street1 Score = 100 text = 'Big Easy Roof Gap'
    if skater ::IsSkaterFocused
        StartGap GapID = CleanStreet2 flags = [ PURE_AIR ] TrickText = 'Kickflip' TrickScript = NO_Flip_Got
        printf 'Focused'
    endif
    endgap GapID = CleanStreet1
endscript


script NO_Flip_Got 
    ClearExceptionGroup NO_BigEasy
    printf 'Yeah, yeah, yeah'
    SetException Ex = SkaterExitFocus group = NO_BigEasy scr = NO_Flip_NotClean
    SetException Ex = SkaterLandedClean group = NO_BigEasy scr = NO_Flip_NotClean
endscript


script NO_Flip_NotClean 
    ClearExceptionGroup NO_BigEasy
    printf 'Nothing'
endscript


script NO_Flip_Clean 
    ClearExceptionGroup NO_BigEasy
    printf 'Clean'
endscript


script NO_Gap_Start_HeliSpine1 
    StartGap GapID = HeliSpine1 flags = [ PURE_AIR ] TrickText = 'Spine Transfer'
endscript


script NO_Gap_End_HeliSpine1 
    endgap GapID = HeliSpine1 Score = 50 text = 'Helipad Spine1' gapscript = NO_Got_HeliSpine1
endscript


script NO_Got_HeliSpine1 
    printf 'HeliSpine1'
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine2 got_1 1
endscript


script NO_Gap_Start_HeliSpine2 
    StartGap GapID = HeliSpine2 flags = [ PURE_AIR ] TrickText = 'Spine Transfer'
endscript


script NO_Gap_End_HeliSpine2 
    endgap GapID = HeliSpine2 Score = 50 text = 'Helipad Spine2' gapscript = NO_Got_HeliSpine2
endscript


script NO_Got_HeliSpine2 
    printf 'HeliSpine2'
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine2 got_2 1
endscript


script NO_Gap_Start_HeliSpine3 
    StartGap GapID = HeliSpine3 flags = [ PURE_AIR ] TrickText = 'Spine Transfer'
endscript


script NO_Gap_End_HeliSpine3 
    endgap GapID = HeliSpine3 Score = 50 text = 'Helipad Spine3' gapscript = NO_Got_HeliSpine3
endscript


script NO_Got_HeliSpine3 
    printf 'HeliSpine3'
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine2 got_3 1
endscript


script NO_Gap_PolePop1 
    GetTriggerArray grind onto
    if triggertype <trigger_array>
        StartGap GapID = PolePop1 flags = [ PURE_AIR ]
        endgap GapID = PolePop2 Score = 50 text = 'Pole Pop'
    endif
endscript


script NO_Gap_PolePop2 
    GetTriggerArray grind onto
    if triggertype <trigger_array>
        StartGap GapID = PolePop2 flags = [ PURE_AIR ]
        endgap GapID = PolePop1 Score = 50 text = 'Pole Pop'
    endif
endscript


script NO_Gap_Crypt1 
    StartGap GapID = Crypt1 flags = [ PURE_AIR ] keycombo = Air_CircleUL TrickScript = NO_Got_Crypt
    endgap GapID = Crypt2 Score = 100 text = 'Crypt Keeper'
endscript


script NO_Gap_Crypt2 
    StartGap GapID = Crypt2 flags = [ PURE_AIR ] keycombo = Air_CircleUL TrickScript = NO_Got_Crypt
    endgap GapID = Crypt1 Score = 100 text = 'Crypt Keeper'
endscript


script NO_Got_Crypt 
    printf 'Crypt'
    GoalManager_SetGoalFlag name = no_classic_goal_gaps got_1 1
endscript


script NO_Gap_StreetSpine1 
    StartGap GapID = NO_stspine1 flags = [ PURE_AIR ]
    endgap GapID = NO_stspine2 text = 'Nawlins Street Spine' Score = 25 gapscript = NO_gapscript_Nawlins
endscript


script NO_Gap_StreetSpine2 
    StartGap GapID = NO_stspine2 flags = [ PURE_AIR ]
    endgap GapID = NO_stspine1 text = 'Nawlins Street Spine' Score = 25 gapscript = NO_gapscript_Nawlins
endscript


script NO_gapscript_Nawlins 
    if NOT GoalManager_GoalIsLocked name = NO_Goal_Gaps13
        GoalManager_SetGoalFlag name = NO_Goal_Gaps13 got_1 1
    endif
    GoalManager_SetGoalFlag name = NO_goal_skatetheline3 got_3 1
endscript


script NO_Gap_Vfer_GraveBowl1 
    StartGap GapID = NO_vfer_grave1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grave2 text = 'Graveyard transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_GraveBowl2 
    StartGap GapID = NO_vfer_grave2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grave1 text = 'Graveyard transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_GrvWall_int1 
    StartGap GapID = NO_vfer_grvwall_in1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_in2 text = 'Grave Wall Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_grvwall_spine1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_spine2 text = 'Grave Wall Transfer' Score = 100 gapscript = NO_gapscript_spine
endscript


script NO_Gap_Vfer_GrvWall_int2 
    StartGap GapID = NO_vfer_grvwall_in2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_in1 text = 'Grave Wall Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_grvwall_spine1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_spine2 text = 'Grave Wall Spine' Score = 100 gapscript = NO_gapscript_spine
endscript


script NO_Gap_Vfer_GrvWall_int3 
    StartGap GapID = NO_vfer_grvwall_in1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_in2 text = 'Grave Wall Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_grvwall_spine1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_spine2 text = 'Grave Wall Spine' Score = 100 gapscript = NO_gapscript_spine
endscript


script NO_Gap_Vfer_GrvWall_ex1 
    StartGap GapID = NO_vfer_grvwall_ex1 flags = [ PURE_AIR ]
    StartGap GapID = NO_vfer_grvwall_ex3 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_ex2 text = 'Grave Gate Transfer' Score = 50 gapscript = NO_gapscript_vfer
    endgap GapID = NO_vfer_grvwall_ex4 text = 'Grave Gates Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_grvwall_spine2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_spine1 text = 'Grave Wall Spine' Score = 100 gapscript = NO_gapscript_spine
endscript


script NO_Gap_Vfer_GrvWall_ex2 
    StartGap GapID = NO_vfer_grvwall_ex2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_ex1 text = 'Grave Gate Transfer' Score = 50 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_grvwall_spine2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_spine1 text = 'Grave Wall Spine' Score = 100 gapscript = NO_gapscript_spine
endscript


script NO_Gap_Vfer_GrvWall_ex3 
    StartGap GapID = NO_vfer_grvwall_ex1 flags = [ PURE_AIR ]
    StartGap GapID = NO_vfer_grvwall_ex4 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_ex2 text = 'Grave Gate Transfer' Score = 50 gapscript = NO_gapscript_vfer
    endgap GapID = NO_vfer_grvwall_ex3 text = 'Grave Gates Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_grvwall_spine2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grvwall_spine1 text = 'Grave Wall Spine' Score = 100 gapscript = NO_gapscript_spine
endscript


script NO_Gap_Vfer_GreenGoddess1 
    StartGap GapID = NO_vfer_grngod1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grngod2 text = 'Green Goddess Door Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_goddesalley1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_goddesalley2 text = 'Alley Transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_GreenGoddess2 
    StartGap GapID = NO_vfer_grngod2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_grngod1 text = 'Green Goddess Door Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_goddesalley1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_goddesalley2 text = 'Alley Transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_VegasShow1 
    StartGap GapID = NO_vfer_vegasshow1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_vegasshow2 text = 'VegasShow Door Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_goddesalley2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_goddesalley1 text = 'Alley Transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_VegasShow2 
    StartGap GapID = NO_vfer_vegasshow2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_vegasshow1 text = 'VegasShow Door Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_goddesalley2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_goddesalley1 text = 'Alley Transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_HouseVoodoo 
    StartGap GapID = NO_vfer_vegasshow2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_vegasshow1 text = 'VegasShow Door Transfer' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_goddesalley2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_goddesalley1 text = 'Alley Transfer' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Vfer_ActLoveRoof1 
    StartGap GapID = NO_vfer_actlove1 flags = [ PURE_AIR ]
    StartGap GapID = NO_vfer_actlove2 flags = [ PURE_AIR ]
endscript


script NO_Gap_Vfer_theNawlinsRoof 
    endgap GapID = NO_vfer_actlove1 text = 'Over The Alley Transfer' Score = 200 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_Alley1 
    endgap GapID = NO_vfer_actlove2 text = 'Huge Alley Drop !' Score = 500 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_GoddessRoof_ramp1 
    StartGap GapID = NO_vfer_greenramp1 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_greenramp2 text = 'Over the Roof Ramp' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_greenramp4 flags = [ PURE_AIR ]
endscript


script NO_Gap_GoddessRoof_ramp2 
    endgap GapID = NO_vfer_greenramp4 text = 'Onto the Roof Ramp' Score = 100 gapscript = NO_gapscript_vfer
endscript


script NO_Gap_GoddessRoof_ramp3 
    StartGap GapID = NO_vfer_greenramp2 flags = [ PURE_AIR ]
    endgap GapID = NO_vfer_greenramp1 text = 'Over the Roof Ramp' Score = 100 gapscript = NO_gapscript_vfer
    StartGap GapID = NO_vfer_greenramp4 flags = [ PURE_AIR ]
endscript


script NO_gapscript_vfer 
    printf 'vfer script'
endscript


script NO_gapscript_spine 
    printf 'spine script'
endscript


script NO_StartGap_VortexSpine 
    StartGap GapID = NO_VortexSpine flags = [ PURE_AIR ]
endscript


script NO_EndGap_VortexSpine 
    Random (
        @ PlayStream SK6_NO_CryptYell01 vol = 200
        @ PlayStream SK6_NO_CryptYell02 vol = 200
        @ PlayStream SK6_NO_CryptYell03 vol = 200
    )
    endgap GapID = NO_VortexSpine text = 'Into the Underworld' Score = 25 gapscript = NO_GotVortexSpine
endscript


script NO_GotVortexSpine 
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine got_1 1
    if GoalManager_HasWonGoal name = NO_Goal_SkateTheLine
        if NOT GetFlag flag = FLAG_JESUS
            SetFlag flag = FLAG_JESUS
        endif
    endif
endscript


script NO_GotVortexGrind 
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine got_2 1
    if GoalManager_HasWonGoal name = NO_Goal_SkateTheLine
    endif
endscript


script NO_GotEscapeGap 
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine got_3 1
    if GoalManager_HasWonGoal name = NO_Goal_SkateTheLine
        if NOT GetFlag flag = FLAG_JESUS
            SetFlag flag = FLAG_JESUS
        endif
    endif
endscript


script NO_Gap_Jesus1 
    printf 'gap'
    StartGap GapID = NO_vferjesus1 flags = [ PURE_AIR ] keycombo = Air_CircleDR TrickScript = NO_gapscript_jesus
    endgap GapID = NO_vferjesus2 text = 'Church Statue' Score = 25
endscript


script NO_Gap_Jesus2 
    printf 'gap'
    StartGap GapID = NO_vferjesus2 flags = [ PURE_AIR ] keycombo = Air_CircleDR TrickScript = NO_gapscript_jesus
    endgap GapID = NO_vferjesus1 text = 'Church Statue' Score = 25
endscript


script NO_gapscript_jesus 
    GoalManager_SetGoalFlag name = NO_Goal_SkateTheLine got_4 1
    if GoalManager_HasWonGoal name = NO_Goal_SkateTheLine
        if GetFlag flag = FLAG_JESUS
            UnSetFlag flag = FLAG_JESUS
            NO_voodoo_vortex_end
        endif
    endif
endscript


script NO_Skulls 
    Kill name = TRG_veh_heli
    wait 1 frame
    Create name = TRG_veh_heli
    KillSpawnedScript name = NO_helicopter_init
    KillSpawnedScript name = NO_heli_move1
    KillSpawnedScript name = NO_heli_move2
    UnSetFlag flag = FLAG_HELIPAD
    UnSetFlag flag = FLAG_HELIPAD2
endscript


script NO_Heli_Rotor 
    obj_locktoobject objectname = TRG_veh_heli (0.0, 75.0, 125.0) norotation
endscript


script NO_helicopter_init 
    kill_panel_message_if_it_exists id = current_goal
    create_panel_block id = skate_the_line_message text = 'Walk up to the helicopter, jump and grab (\bf) the skid' style = panel_message_goal
    if NOT GetFlag flag = FLAG_HELIPAD
        SetFlag flag = FLAG_HELIPAD
        TRG_veh_heli ::obj_movetonode name = TRG_waypoint_heli_01 Speed = 7
        TRG_veh_heli ::Obj_WaitMove
    endif
endscript


script NO_Reset_Equalizer 
    Kill name = TRG_veh_heli
    wait 1 frame
    Create name = TRG_veh_heli
    KillSpawnedScript name = NO_helicopter_init
    KillSpawnedScript name = NO_heli_move1
    KillSpawnedScript name = NO_heli_move2
    UnSetFlag flag = FLAG_HELIPAD
    UnSetFlag flag = FLAG_HELIPAD2
endscript


script NO_Reset_Equalizer_Die 
    skater ::Sk3_KillSkater nodeName = TRG_Restart_Equalizer
    create_panel_block id = current_goal text = 'Avoid security and get up to the helicopter on the roof.' style = panel_message_goal
endscript


script NO_heli_lip 
    GetTriggerArray climb onto
    if triggertype <trigger_array>
        if NOT GetFlag flag = FLAG_HELIPAD2
            GoalManager_SetGoalFlag name = NO_goal_skatetheline3 got_1 1
            SpawnScript NO_heli_move1
            SpawnScript NO_heli_lip_off_check
        endif
        if GetFlag flag = FLAG_HELIPAD2
            GoalManager_SetGoalFlag name = NO_goal_skatetheline3 got_2 1
            SpawnScript NO_heli_move2
            SpawnScript NO_heli_lip_off_check2
        endif
    endif
endscript


script NO_heli_move1 
    skater ::SetSkaterCamOverride heading = 0 tilt = 1.100 time = 0.1000 Zoom = 2
    SetFlag flag = FLAG_HELIPAD2
    TRG_veh_heli ::obj_movetonode name = TRG_waypoint_heli_05 Speed = 50
    TRG_veh_heli ::Obj_WaitMove
    TRG_veh_heli ::obj_movetonode name = TRG_waypoint_heli_04 Speed = 50
    TRG_veh_heli ::Obj_WaitMove
    kill_panel_message_if_it_exists id = current_goal
    create_panel_block id = skate_the_line_message text = 'Now Acid drop (\ml) onto the flashing ramp below.\nair up the other side, switch to walk (\mm), and then grab (\bf) the helicopter' style = panel_message_goal
endscript


script NO_heli_move2 
    skater ::SetSkaterCamOverride heading = 0 tilt = 1.100 time = 0.1000 Zoom = 2
    TRG_veh_heli ::obj_movetonode name = TRG_waypoint_heli_08 Speed = 100
    TRG_veh_heli ::obj_rotz Angle = 90 Speed = 100 flag_max_coords
    TRG_veh_heli ::Obj_WaitMove
endscript


script NO_heli_lip_off_check 
    ClearExceptionGroup NO_helioff_check
    SetException Ex = SkaterExitHang scr = NO_heli_lip_off group = NO_helioff_check
    Block
endscript


script NO_heli_lip_off 
    TRG_veh_heli ::obj_movetonode name = TRG_waypoint_heli_07 Speed = 100
    ClearExceptionGroup NO_helioff_check
    skater ::ClearSkaterCamOverride
    SetLightAmbientColor r = 255 g = 255 b = 255
    kill_panel_message_if_it_exists id = message_savedgoal
    wait 15 frames
    SetLightAmbientColor r = 50 g = 50 b = 50
endscript


script NO_heli_lip_off_check2 
    ClearExceptionGroup NO_helioff_check
    SetException Ex = SkaterExitHang scr = NO_heli_lip_off2 group = NO_helioff_check
    Block
endscript


script NO_heli_lip_off2 
    TRG_veh_heli ::obj_movetonode name = TRG_waypoint_heli_09 Speed = 100
    ClearExceptionGroup NO_helioff_check
    skater ::ClearSkaterCamOverride
    SetLightAmbientColor r = 255 g = 255 b = 255
    kill_panel_message_if_it_exists id = message_savedgoal
    wait 15 frames
    SetLightAmbientColor r = 50 g = 50 b = 50
endscript


script NO_Ped_Tricycle 
    Obj_ClearExceptions
    Obj_PlayAnim anim = tricycle_stand Cycle
    setup_ped_speech {ped_id = <current_node>
        accept_text = 'Press \m5 to switch to VooDoo Rider.'
        activation_script = NO_SwitchToTricycle
        activation_script_params = <...> 
    }
endscript


script NO_SwitchToTricycle 
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
    get_current_skater_name
    load_pro_skater name = Voodoo
    UnPauseGame
    ResetSkaters node_name = <switch_node>
    Kill name = <current_node>
    switch <name>
        case custom
        Create name = <you_node>
        default 
    endswitch
    Vehicle_Start params = tricycle_params
    Takeover_VO
endscript


script style_NO_smoked 
    setprops just = [ center center ] rgba = [ 255 255 255 255 ]
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 0 alpha = 0 rot_angle = 0
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.800 alpha = 100 rot_angle = 3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.600 alpha = 100 rot_angle = -3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 2.100 alpha = 100 rot_angle = 2
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.600 alpha = 100 rot_angle = 0
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.900 alpha = 100 rot_angle = 3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.700 alpha = 100 rot_angle = -3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 2.100 alpha = 100 rot_angle = 2
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 100 rot_angle = 0
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.800 alpha = 100 rot_angle = 3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.600 alpha = 100 rot_angle = -3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 2.100 alpha = 100 rot_angle = 2
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.600 alpha = 100 rot_angle = 0
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.900 alpha = 100 rot_angle = 3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.700 alpha = 100 rot_angle = -3
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 2.100 alpha = 100 rot_angle = 2
    DoMorph time = 0.1000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 100 rot_angle = 0
    DoMorph time = 0.3000 Pos = (320.0, 80.0) Scale = 0 alpha = 0 rot_angle = 0
endscript


script style_NO_saved 
    setprops just = [ center center ] rgba = [ 255 55 205 255 ]
    DoMorph time = 0.1000 Pos = (140.0, 140.0) Scale = 2 alpha = 100
endscript


script style_NO_skulltimer 
    setprops just = [ center center ] rgba = [ 255 255 255 255 ]
    DoMorph time = 0 Pos = (320.0, 80.0) Scale = 0.7000 alpha = 0 rot_angle = 2
    DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 0.9000 alpha = 100 rot_angle = -2
endscript


script style_NO_skulltimer2 
    setprops just = [ center center ] rgba = [ 255 255 255 255 ]
    DoMorph time = 0 Pos = (320.0, 80.0) Scale = 0 alpha = 0 rot_angle = 0
    DoMorph time = 0.3000 Pos = (320.0, 80.0) Scale = 0.7000 alpha = 100 rot_angle = 2
    DoMorph time = 0.2000 Pos = (320.0, 80.0) Scale = 1.500 alpha = 100 rot_angle = -2
    DoMorph time = 0.1000 Scale = 1.0 alpha = 100 rot_angle = 2
    DoMorph time = 0.1000 Scale = 1.100 alpha = 100 rot_angle = 0
endscript


script NO_chimney_smoke_Particles 
    CreateFastParticleSystem name = Chimney01 params_script = apm_NO_CHIMsmoke01_fast_particle_params
    Chimney01 ::obj_setposition position = (901.0, 752.0, -1778.0)
    CreateFastParticleSystem name = Chimney02 params_script = apm_NO_CHIMsmoke01_fast_particle_params
    Chimney02 ::obj_setposition position = (-1253.0, 683.0, -1706.0)
    CreateFastParticleSystem name = chimney03 params_script = apm_NO_CHIMsmoke01_fast_particle_params
    chimney03 ::obj_setposition position = (998.0, 930.0, 713.0)
endscript


script NO_WaterTower_Particles 
    CreateFastParticleSystem name = Watertower01 params_script = apm_NO_WaterTower01_fast_particle_params
    Watertower01 ::obj_setposition position = (1548.0, 828.0, -967.0)
    CreateFastParticleSystem name = Watertower02 params_script = apm_NO_WaterTower02_fast_particle_params
    Watertower02 ::obj_setposition position = (1548.0, 828.0, -967.0)
    CreateFastParticleSystem name = Watertower03 params_script = apm_NO_WaterTower03_fast_particle_params
    Watertower03 ::obj_setposition position = (1548.0, 648.0, -967.0)
endscript


script NO_2d_sign_element_create parent = menu3d_anchor
    if GetGlobalFlag flag = SCREEN_MODE_WIDE
        <Offset> = (-8.0, 0.0)
    else
        <Offset> = (0.0, 0.0)
    endif
    CreateScreenElement {
        type = SpriteElement
        parent = <parent>
        texture = NO_icon_1
        id = NO_lemon
        Scale = 1.500
        rgba = [ 128 128 128 50 ]
        Pos = ((9.0, 148.0) + <Offset>)
        rot_angle = 0
        just = [ left top ]
        z_priority = -51
    }
    CreateScreenElement {
        type = SpriteElement
        parent = <parent>
        texture = NO_icon_2
        id = NO_bubbles
        Scale = (1.5, 1.5)
        rgba = [ 128 128 128 60 ]
        Pos = ((16.0, 184.0) + <Offset>)
        rot_angle = 0
        just = [ center center ]
        z_priority = -51
    }
    RunScriptOnScreenElement id = NO_lemon do_random_effect_paused params = { id = <id> }
    RunScriptOnScreenElement id = NO_bubbles NO_bubbles_anim
endscript


script NO_bubbles_anim 
    begin 
    DoMorph time = 0 Pos = (53.0, 300.0) Scale = 1.200 rot_angle = -90 alpha = 1
    DoMorph time = 1 Pos = (53.0, 275.0) rot_angle = -98 alpha = 0.5000
    DoMorph time = 2 Pos = (53.0, 230.0) rot_angle = -80 alpha = 0
    wait Random (@ 2 @ 3 @ 4) seconds
    repeat 
endscript

NO_MardisGras_F_Table = {
    NO_STATE_F_MardisGras_Dance = {
        script_ped_state = NO_STATECONTROL_F_MardisGras_Dance
        exit_state_action = wait_anim_finished
    }
    STATE_getattention = {
        script_ped_state = NO_STATECONTROL_F_MardisGras_GetAttention
        exit_state_action = wait_anim_finished
    }
    STATE_shot = {
        high_priority
        script_ped_state = NO_STATECONTROL_F_MardisGras_ShowEm
        exit_state_action = NO_STATE_ShowEm_Reset
    }
    STATE_avoidstop = {
        high_priority
        script_ped_state = STATECONTROL_avoidstop_custom01
        exit_state_action = wait_anim_finished
    }
    STATE_avoidland = {
        script_ped_state = STATECONTROL_avoidland_custom01
    }
}

script NO_MusicPlay 
    trg_ped_jazz_00 ::Ped_SetLogicState NO_STATE_Jazzman_playing table = NO_StateLogic_Table
    trg_ped_jazz_02 ::Ped_SetLogicState NO_STATE_fluteguy_playing table = NO_StateLogic_Table
    trg_ped_jazz_01 ::Ped_SetLogicState ALL_STATE_Guitarist_playing table = ALL_StateLogic_Table
    UnpauseSkaters
endscript


script NO_MusicStop 
    trg_ped_jazz_00 ::Ped_SetLogicState NO_STATE_Jazzman table = NO_StateLogic_Table
    trg_ped_jazz_02 ::Ped_SetLogicState NO_STATE_fluteguy table = NO_StateLogic_Table
    trg_ped_jazz_01 ::Ped_SetLogicState ALL_STATE_Guitarist table = ALL_StateLogic_Table
    UnpauseSkaters
endscript


script NO_STATECONTROL_F_MardisGras_Dance 
    obj_getid
    <ObjID> ::switchoffatomic ped_f_accessories
    begin 
    Random (
        @*3 PlayAnimWithPartialAnimIfExists anim = Ped_F_Dance1 Speed = 0.7500
        @ PlayAnimWithPartialAnimIfExists anim = Ped_F_Dance2 Speed = 0.7500
        @ PlayAnimWithPartialAnimIfExists anim = Ped_F_Dance3 Speed = 0.9000
    )
    Obj_WaitAnimFinished
    repeat 
endscript


script NO_STATECONTROL_F_MardisGras_GetAttention 
    ped_rotate_to_skater_from_idle
    begin 
    if NOT obj_objectinattentionradius
        break 
    endif
    PlayAnimWithPartialAnimIfExists anim = Ped_F_Dance_GetAttention Speed = 0.9000
    Obj_WaitAnimFinished
    repeat 1
    Ped_Utils_SetMiscEventHandlers
    Ped_StateLogic_SetDefaultState
endscript


script NO_STATECONTROL_F_MardisGras_ShowEm 
    ped_initialize_projectile_exceptions
    ped_standing_look_at_skater
    if NOT IsStreamPlaying GirlShowStream
        RandomNoRepeat (
            @ obj_playstream NO_Female1_Flash01 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash02 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash03 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash04 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash05 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash06 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash07 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash08 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash09 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
            @ obj_playstream NO_Female1_Flash10 vol = 200 dropoff = 150 priority = StreamPriorityLowMid id = GirlShowStream
        )
    endif
    PlayAnimWithPartialAnimIfExists anim = Ped_F_ShowEm
    wait 40 frames
    obj_getid
    <ObjID> ::switchonatomic ped_f_accessories
    wait 64 frames
    <ObjID> ::switchoffatomic ped_f_accessories
    Obj_WaitAnimFinished
    Ped_Utils_SetMiscEventHandlers
    ped_initialize_collision_exceptions
    Ped_StateLogic_SetDefaultState
endscript


script NO_STATE_ShowEm_Reset 
    obj_getid
    <ObjID> ::switchoffatomic ped_f_accessories
endscript

