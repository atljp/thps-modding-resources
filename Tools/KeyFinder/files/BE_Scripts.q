
BE_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (-8708.2998046875, -169.6999969482422, -4093.699951171875)
        positionOffset = (547.2999877929688, 171.5, -323.1000061035156)
        frames = 300
        skippable = 1
        text = 'Alright Berlin, now that we ditched that dead weight Sparrow we\'re gonna kick some ass me and Paulie will be around you just got to find us. When you\'re ready to move on go see fat boy Phil!'
        time = 15000
        cam_start_script = BE_Intro_Line1
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-386.70001220703125, 1965.300048828125, 12316.7998046875)
        positionOffset = (-737.0999755859375, 334.29998779296875, 2457.10009765625)
        frames = 370
        skippable = 1
        goal = BE_Goal_Gaps10
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-13008.0, 3624.199951171875, 971.0)
        positionOffset = (-3618.699951171875, 209.6999969482422, 544.4000244140625)
        frames = 375
        skippable = 1
        goal = BE_Goal_Gaps7
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-8130.7998046875, 1709.0, -5195.7001953125)
        positionOffset = (-2857.39990234375, 884.9000244140625, 3260.800048828125)
        frames = 370
        skippable = 1
        goal = BE_Goal_Gaps13
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-3120.89990234375, -261.29998779296875, -11534.099609375)
        positionOffset = (-2817.60009765625, 237.1999969482422, -1551.300048828125)
        frames = 375
        skippable = 1
        goal = BE_Goal_Gaps8
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (3061.300048828125, -222.89999389648438, 8465.2998046875)
        positionOffset = (1276.0, 153.6999969482422, -1366.5999755859375)
        frames = 370
        skippable = 1
        goal = BE_Goal_Gaps9
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-7525.7001953125, -761.5999755859375, 6974.2998046875)
        positionOffset = (-1145.699951171875, -48.79999923706055, -692.9000244140625)
        frames = 370
        skippable = 1
        goal = BE_Goal_TimedScoreRun
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-5079.0, -33.900001525878906, 9854.0)
        positionOffset = (1278.199951171875, 957.9000244140625, 2198.89990234375)
        frames = 375
        skippable = 1
        goal = BE_Goal_Gaps2
        time = 3000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (4159.7001953125, 1301.0, -10199.5)
        positionOffset = (570.2999877929688, 318.3999938964844, -917.7999877929688)
        frames = 375
        skippable = 1
        goal = BE_Goal_Gaps
        time = 6000
    }
]
BE_Pro_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (-8708.2998046875, -169.6999969482422, -4093.699951171875)
        positionOffset = (547.2999877929688, 171.5, -323.1000061035156)
        frames = 615
        skippable = 1
        text = 'New goal list unlocked.  Pro goals!'
        time = 10000
        cam_start_script = FirstSwap_VO
    }
    {virtual_cam
        TargetID = world
        targetOffset = (9951.099609375, 1742.4000244140625, -2479.60009765625)
        positionOffset = (281.70001220703125, 150.6999969482422, -487.70001220703125)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps16
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-8782.400390625, 5035.10009765625, -3650.699951171875)
        positionOffset = (-2028.5999755859375, 174.39999389648438, 1895.0999755859375)
        frames = 200
        skippable = 1
        goal = BE_Goal_HighCombo3
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-2879.300048828125, -1.5, -9997.7001953125)
        positionOffset = (-2146.199951171875, 189.10000610351562, -26.700000762939453)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps4
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-5521.5, 40.29999923706055, -8843.7998046875)
        positionOffset = (-2531.10009765625, 230.89999389648438, 696.4000244140625)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps5
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (5087.89990234375, -1205.9000244140625, 9997.7001953125)
        positionOffset = (1122.4000244140625, 445.20001220703125, 967.2999877929688)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps3
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-3226.89990234375, -1630.699951171875, -10182.599609375)
        positionOffset = (-3658.0, 260.6000061035156, -372.6000061035156)
        frames = 200
        skippable = 1
        goal = BE_Goal_SkateTheLine2
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (11264.599609375, -866.5999755859375, -204.6999969482422)
        positionOffset = (1416.5999755859375, 858.5, -393.3999938964844)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps15
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-3188.89990234375, -1906.0, 9854.5)
        positionOffset = (2878.800048828125, 324.6000061035156, 2225.10009765625)
        frames = 200
        skippable = 1
        goal = BE_Goal_SkateTheLine3
        time = 6000
    }
]
BE_Tagger_Goal_Intro_Cameras = [{virtual_cam
        TargetID = world
        targetOffset = (-6371.0, -3207.39990234375, 7328.0)
        positionOffset = (1581.4000244140625, 279.0, 2367.699951171875)
        frames = 615
        skippable = 1
        text = 'New goal list unlocked.  Guest goals!\nNew Special Trick - Double Fistin\''
        time = 10000
        cam_start_script = FirstSwap_VO
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-7782.2998046875, 313.8999938964844, -5721.60009765625)
        positionOffset = (-470.79998779296875, 466.6000061035156, 1098.9000244140625)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps6
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-12720.099609375, -242.6999969482422, 876.5)
        positionOffset = (-2756.39990234375, 299.6000061035156, 231.10000610351562)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps11
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (1117.0999755859375, 1575.199951171875, 10920.2998046875)
        positionOffset = (569.5999755859375, 1162.5, 943.9000244140625)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps12
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-12995.400390625, 6110.2998046875, 966.4000244140625)
        positionOffset = (-4390.60009765625, 1034.300048828125, 533.2000122070312)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps14
        time = 6000
    }
]
Be_Paulie_Goal_Intro_Cameras = [
    {virtual_cam
        TargetID = world
        targetOffset = (-9352.099609375, 3247.60009765625, -4737.5)
        positionOffset = (-2960.60009765625, 148.3000030517578, 2301.10009765625)
        frames = 615
        skippable = 1
        text = 'New goal list unlocked.  Secret goals!'
        time = 10000
        cam_start_script = FirstSwap_VO
    }
    {virtual_cam
        TargetID = world
        targetOffset = (3725.39990234375, -647.7000122070312, 8809.900390625)
        positionOffset = (-3367.5, 219.89999389648438, 1814.4000244140625)
        frames = 200
        skippable = 1
        goal = BE_Goal_SkateTheLine
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-364.8999938964844, 1134.300048828125, 9751.0)
        positionOffset = (-2620.5, 174.3000030517578, 56.29999923706055)
        frames = 200
        skippable = 1
        goal = BE_Goal_HighCombo2
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (-7847.89990234375, -1178.800048828125, 7397.0)
        positionOffset = (-516.2999877929688, 490.79998779296875, 804.7000122070312)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps19
        time = 6000
    }
    {virtual_cam
        TargetID = world
        targetOffset = (2959.60009765625, -3349.39990234375, 4412.2998046875)
        positionOffset = (-3704.199951171875, 698.7000122070312, -1849.300048828125)
        frames = 200
        skippable = 1
        goal = BE_Goal_Gaps20
        time = 6000
    }
]

script BE_Intro_Line1 
    TRG_Ped_Bam01 ::obj_playfam BE_Intro_01_Lip vol = 200 priority = StreamPriorityHighest
endscript


script BE_PaulieSwitch_Line1 
    PlayStream Paulie_BE_Find_VO vol = 200 priority = StreamPriorityHigh
endscript


script BE_TaggerSwitch_Line1 
    PlayStream BE_Ped_GraffitiSkater_VO vol = 200 priority = 101
endscript


script BE_BamSwitch_Line1 
endscript


script BE_Setup 
    BE_CreateCars
    BE_CreatePeds all
    BE_Initailizer
    BE_KillCreate_NetGeo
endscript


script BE_startup 
    LoadAsset 'models\gameobjects\projectiles\PaintCan\PaintCan.tex'
    LoadAsset 'models\gameobjects\projectiles\PaintCan\PaintCan.mdl' parent = `models\gameobjects\projectiles\PaintCan\PaintCan.tex`
    LoadSkeleton name = 'skeletons/CS_BE_Billboard.ske' CS_BE_Billboard
endscript


script BE_KillCreate_NetGeo 
    if ((InMultiPlayerGame)|| (InNetGame))
        Create name = g_fountain_tobacco_broken
        Create name = g_kulture_broken_tobacco
        Create name = g_neue_tobacco_broken
        Create name = g_zoo_waterrush03
        Kill name = trg_gold204
        bog_gold_level01a ::obj_movetorelpos (0.0, -264.0, 8.0)
        Create name = trg_gold210
        Create name = trg_gold211
        Kill name = trg_gold205
        Kill name = trg_gold207
        bog_gold_level02 ::obj_movetorelpos (-10.0, -468.6000061035156, 0.0)
        Create name = trg_gold210
        Create name = trg_gold211
        bog_gold_level01b ::obj_movetorelpos (0.0, -107.4000015258789, 0.0)
        Create name = trg_gold216
        Create name = trg_gold217
        Kill name = bog_gold_level01b_Shadow
        Kill name = bog_gold_level01a_Shadow
        Create name = g_church_main_door03
        Kill name = g_neue_secret_closed_02a
        Kill name = g_neue_secret_closed_02b
        Kill name = g_neue_secret_closed_02c
        Kill name = g_neue_secret_closed_02d
    endif
endscript


script BE_Goals 
    if NOT InMultiPlayerGame
    endif
    if InMultiPlayerGame
        add_multiplayer_mode_goals
    endif
    if NOT InSplitScreenGame
        if ((GameModeEquals is_classic)|| (InNetGame))
            AddGoal_HighScore {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {Score = BE_Classic_Easy_HighScore
                        goal_text = BE_Classic_Easy_HighScore_Text
                        view_goals_text = BE_Classic_Easy_HighScore_Text
                    }
                    {Score = BE_Classic_HighScore
                        goal_text = BE_Classic_HighScore_Text
                        view_goals_text = BE_Classic_HighScore_Text
                    }
                ]
                view_goals_cameras = [{
                        name = CAM_BE_Classic_Intro01
                        frames = 1200
                        skippable = 1
                    }
                ]
            }
            AddGoal_ProScore {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {Score = BE_Classic_Easy_ProScore
                        goal_text = BE_Classic_Easy_ProScore_Text
                        view_goals_text = BE_Classic_Easy_ProScore_Text
                    }
                    {Score = BE_Classic_ProScore
                        goal_text = BE_Classic_ProScore_Text
                        view_goals_text = BE_Classic_ProScore_Text
                    }
                ]
            }
            AddGoal_SickScore {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {Score = BE_Classic_Easy_SickScore
                        goal_text = BE_Classic_Easy_SickScore_Text
                        view_goals_text = BE_Classic_Easy_SickScore_Text
                    }
                    {Score = BE_Classic_SickScore
                        goal_text = BE_Classic_SickScore_Text
                        view_goals_text = BE_Classic_SickScore_Text
                    }
                ]
            }
            AddGoal_HighCombo {
                unlimited_time
                classic_mode_goal
                difficulty_level_params = [
                    {Score = BE_Classic_Easy_HighCombo
                        goal_text = BE_Classic_Easy_HighCombo_Text
                        view_goals_text = BE_Classic_Easy_HighCombo_Text
                    }
                    {Score = BE_Classic_HighCombo
                        goal_text = BE_Classic_HighCombo_Text
                        view_goals_text = BE_Classic_HighCombo_Text
                    }
                ]
            }
            AddGoal_Skate {
                unlimited_time
                classic_mode_goal
                S_obj_id = TRG_SKATE_S
                K_obj_id = TRG_SKATE_K
                A_obj_id = TRG_SKATE_A
                T_obj_id = TRG_SKATE_T
                E_obj_id = TRG_SKATE_E
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-9409.400390625, -84.5, 1299.0)
                        positionOffset = (535.0, 958.5999755859375, 1163.0)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Combo {
                unlimited_time
                classic_mode_goal
                letter_info = [
                    {obj_id = TRG_COMBO_C text = 'C'}
                    {obj_id = TRG_COMBO_O text = 'O'}
                    {obj_id = TRG_COMBO_M text = 'M'}
                    {obj_id = TRG_COMBO_B text = 'B'}
                    {obj_id = TRG_COMBO_O01 text = 'O'}
                ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-852.7000122070312, -224.1999969482422, 8248.7001953125)
                        positionOffset = (-1785.9000244140625, 221.60000610351562, -1697.699951171875)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_SecretTape {
                classic_mode_goal
                goal_text = 'Get the secret tape'
                view_goals_text = 'Get the secret tape'
                goal_description = 'Get the secret tape'
                secret_tape_id = TRG_BE_Secret_Tape
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-12479.400390625, 4062.89990234375, 1010.7999877929688)
                        positionOffset = (-2817.300048828125, 1528.0, 549.7999877929688)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Gaps {
                classic_mode_goal
                version = 17
                unlimited_time
                goal_text = '\t1 (\k1) the soldiers'
                view_goals_text = '\t1 (\k1) the soldiers'
                goal_description = '\t1 (\k1) the soldiers'
                goal_flags = [ got_1
                 ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-1770.4000244140625, 933.7000122070312, 11431.7001953125)
                        positionOffset = (-2156.89990234375, 402.29998779296875, 1453.300048828125)
                        frames = 200
                        skippable = 1
                    }
                ]
                key_combos = [ Air_CircleUR ]
            }
            AddGoal_Gaps {
                classic_mode_goal
                version = 18
                unlimited_time
                collect_type = 'Acid Drops'
                goal_text = 'Acid Drop from the 4 Beer-steins'
                view_goals_text = 'Acid Drop from the 4 Beer-steins'
                use_hud_counter
                hud_counter_caption = 'Acid Drops'
                init_script = BE_Classic_gaps2_InitScript
                goal_deactivate_script = BE_Classic_gaps2_Deactivate
                goal_flags = [got_1
                    got_2
                    got_3
                    got_4
                ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (330.1000061035156, -527.2999877929688, -7464.2998046875)
                        positionOffset = (-3952.60009765625, 1236.300048828125, 1398.300048828125)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
            AddGoal_Collect {
                unlimited_time
                classic_mode_goal
                collect_type = 'Space Monkey Parts'
                goal_text = 'Put The Space Monkey back together again'
                view_goals_text = 'Put The Space Monkey back together again'
                use_hud_counter
                hud_counter_caption = 'Space Monkey Parts'
                init_script = BE_Classic_Collect_InitScript
                goal_deactivate_script = BE_Classic_Collect_DeactiveScript
                goal_flags = [got_1
                    got_2
                    got_3
                    got_4
                    got_5
                ]
                view_goals_cameras = [{virtual_cam
                        TargetID = world
                        targetOffset = (-10073.2001953125, -2229.60009765625, 8950.0)
                        positionOffset = (-3225.5, 615.2999877929688, 2240.60009765625)
                        frames = 200
                        skippable = 1
                    }
                ]
            }
        else
            if NOT ((GameModeEquals is_singlesession)|| (GameModeEquals is_creategoals))
                if NOT InNetGame
                    BE_AddGoal_Gap10
                    BE_AddGoal_Gap7
                    BE_AddGoal_Gap13
                    BE_AddGoal_Gap8
                    BE_AddGoal_Gap9
                    BE_AddGoal_Gap16
                    BE_AddGoal_HighCombo3
                    BE_AddGoal_Gap4
                    BE_AddGoal_SkateTheLine01
                    BE_AddGoal_TimedScoreRun
                    BE_AddGoal_Gap5
                    BE_AddGoal_Gap2
                    BE_AddGoal_Gap3
                    BE_AddGoal_Gap
                    BE_AddGoal_SkateTheLine02
                    BE_AddGoal_Gap15
                    BE_AddGoal_Gap6
                    BE_AddGoal_Gap11
                    BE_AddGoal_Gap12
                    BE_AddGoal_Gap14
                    BE_AddGoal_HighCombo2
                    BE_AddGoal_Gap19
                    BE_AddGoal_Gap20
                    BE_AddGoal_SkateTheLine03
                endif
            endif
        endif
    endif
endscript


script BE_StiffyStart 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if NOT GoalManager_HasWonGoal name = BE_classic_goal_gaps17
            printf 'StartGap Stiffy'
            StartGap GapID = Stiffy flags = [ PURE_AIR ] keycombo = Air_CircleUR TrickScript = BE_StIffyWin
        endif
    endif
endscript


script BE_StiffyEnd 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if NOT GoalManager_HasWonGoal name = BE_classic_goal_gaps17
            printf 'EndGap Stiffy'
            endgap GapID = Stiffy
        endif
    endif
endscript


script BE_StIffyWin 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if NOT GoalManager_HasWonGoal name = BE_classic_goal_gaps17
            printf 'WinGap Stiffy'
            goal_collect_got_object goal_id = BE_classic_goal_gaps17 flag = got_1
        endif
    endif
endscript


script BE_HandHover 
    if NOT InNetGame
        obj_roty Speed = Random (@ 50 @ -150 @ 200 @ -250)
        obj_hover amp = Random (@ 5 @ 10 @ 15) freq = Random (@ 0.5000 @ 1 @ 2)
    endif
endscript


script BE_Classic_AcidDrop01Start 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'StartGap Acid Drop 01'
            StartGap GapID = Classic_AcidDrop01 flags = [ PURE_AIR ] TrickText = 'Acid Drop' TrickScript = BE_Classic_AcidDrop01Win
        endif
    endif
endscript


script BE_Classic_AcidDrop01End 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'EndGap Acid Drop 01'
            endgap GapID = Classic_AcidDrop01
        endif
    endif
endscript


script BE_Classic_AcidDrop01Win 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'WinGap Acid Drop 01'
            Kill name = TRG_Gaps2_Arrow_01
            goal_collect_got_object goal_id = BE_classic_goal_gaps18 flag = got_1
        endif
    endif
endscript


script BE_Classic_AcidDrop02Start 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'StartGap Acid Drop 02'
            StartGap GapID = Classic_AcidDrop02 flags = [ PURE_AIR ] TrickText = 'Acid Drop' TrickScript = BE_Classic_AcidDrop02Win
        endif
    endif
endscript


script BE_Classic_AcidDrop02End 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'EndGap Acid Drop 02'
            endgap GapID = Classic_AcidDrop02
        endif
    endif
endscript


script BE_Classic_AcidDrop02Win 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'WinGap Acid Drop 02'
            Kill name = TRG_Gaps2_Arrow_02
            goal_collect_got_object goal_id = BE_classic_goal_gaps18 flag = got_2
        endif
    endif
endscript


script BE_Classic_AcidDrop03Start 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'StartGap Acid Drop 03'
            StartGap GapID = Classic_AcidDrop03 flags = [ PURE_AIR ] TrickText = 'Acid Drop' TrickScript = BE_Classic_AcidDrop03Win
        endif
    endif
endscript


script BE_Classic_AcidDrop03End 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'EndGap Acid Drop 03'
            endgap GapID = Classic_AcidDrop03
        endif
    endif
endscript


script BE_Classic_AcidDrop03Win 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'WinGap Acid Drop 03'
            Kill name = TRG_Gaps2_Arrow_03
            goal_collect_got_object goal_id = BE_classic_goal_gaps18 flag = got_3
        endif
    endif
endscript


script BE_Classic_AcidDrop04Start 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'StartGap Acid Drop 04'
            StartGap GapID = Classic_AcidDrop04 flags = [ PURE_AIR ] TrickText = 'Acid Drop' TrickScript = BE_Classic_AcidDrop04Win
        endif
    endif
endscript


script BE_Classic_AcidDrop04End 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'EndGap Acid Drop 04'
            endgap GapID = Classic_AcidDrop04
        endif
    endif
endscript


script BE_Classic_AcidDrop04Win 
    if ((GameModeEquals is_classic)|| (InNetGame))
        if GoalManager_GoalIsActive name = BE_classic_goal_gaps18
            printf 'WinGap Acid Drop 04'
            Kill name = TRG_Gaps2_Arrow_04
            goal_collect_got_object goal_id = BE_classic_goal_gaps18 flag = got_4
        endif
    endif
endscript


script BE_Classic_gaps2_InitScript 
    Create prefix = 'TRG_Gaps2_Arrow_'
endscript


script BE_Classic_gaps2_Deactivate 
    Kill prefix = 'TRG_Gaps2_Arrow_'
endscript


script BE_Counter_Dalek 
    obj_setinnerradius 10
    Obj_SetException Ex = objectinradius scr = BE_Counter_DalekGot params = { <...>  }group = CollectDalek
    if NOT InNetGame
        obj_roty Speed = Random (@ 50 @ -150 @ 200 @ -250)
        obj_hover amp = Random (@ 5 @ 10 @ 15) freq = Random (@ 0.5000 @ 1 @ 2)
    endif
endscript


script BE_Counter_DalekGot 
    ClearExceptionGroup ColletDalek
    switch <name>
        case Head
        goal_collect_got_object goal_id = BE_classic_goal_collect flag = got_1
        Die
        case LeftTorso
        goal_collect_got_object goal_id = BE_classic_goal_collect flag = got_2
        Die
        case RightTorso
        goal_collect_got_object goal_id = BE_classic_goal_collect flag = got_3
        Die
        case LeftLeg
        goal_collect_got_object goal_id = BE_classic_goal_collect flag = got_4
        Die
        case Rightleg
        goal_collect_got_object goal_id = BE_classic_goal_collect flag = got_5
        Die
    endswitch
endscript


script BE_Classic_Collect_InitScript 
    Create name = Dalek_Head
    Create name = Dalek_Left_Leg
    Create name = Dalek_Left_Torso
    Create name = Dalek_Right_Leg
    Create name = Dalek_Right_Torso
endscript


script BE_Classic_Collect_DeactiveScript 
    Create name = TRG_Dalek_01
    Create prefix = 'TRG_Dalek_Way_'
    Kill name = Dalek_Head
    Kill name = Dalek_Left_Leg
    Kill name = Dalek_Left_Torso
    Kill name = Dalek_Right_Leg
    Kill name = Dalek_Right_Torso
endscript


script BE_AddGoal_Gap 
    AddGoal_Gaps {
        silent_activation
        skater = custom
        view_goals_text = BE_Gap_Goal_Text
        goal_description = BE_Gap_Goal_DeScription
        view_goals_tip = BE_Gap_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (4159.7001953125, 1301.0, -10199.5)
                positionOffset = (570.2999877929688, 318.3999938964844, -917.7999877929688)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
        ]
        reward_points = 50
        collect_type = 'Owned Letters'
    }
endscript


script BE_AddGoal_TimedScoreRun 
    AddGoal_TimedScoreRun {
        view_goals_text = BE_TimedScoreRun_View_Goal_Text
        goal_text = BE_TimedScoreRun_Goal_Text
        goal_description = BE_TimedScoreRun_Goal_DeScription
        view_goals_cameras = [{
                targetOffset = (-7525.7001953125, -761.5999755859375, 6974.2998046875)
                positionOffset = (-1145.699951171875, -48.79999923706055, -692.9000244140625)
            }
        ]
        time = 60
        skater = custom
        dont_kill_trigger_on_success
        trigger_obj_id = TRG_Arcade_Machine
        pro = 'Arcade machine'
        can_retry_goal
        restart_node = trg_fountain_warpdown
        trigger_wait_script = NullScript
        trigger_start_script = arcade_machine_start_goal
        trigger_success_script = NullScript
        restart_node = TRG_Restart_HighScore
        reward_points = 50
        always_initialize_goal
    }
endscript


script BE_AddGoal_Gap2 
    AddGoal_Gaps {
        version = 2
        silent_activation
        reward_points = 50
        skater = custom
        view_goals_text = BE_Gap2_Goal_Text
        goal_description = BE_Gap2_Goal_DeScription
        view_goals_tip = BE_Gap2_Goal_Tip
        goal_flags = [ got_1
         ]
        goal_success_script = BE_Goal_Gaps2_Success
        success_node = TRG_Restart_Tagger
        view_goals_cameras = [{
                targetOffset = (-5079.0, -33.900001525878906, 9854.0)
                positionOffset = (1278.199951171875, 957.9000244140625, 2198.89990234375)
            }
        ]
        success_cam_anims = [
            {virtual_cam
                TargetID = world
                targetOffset = (5477.2998046875, -2973.0, -5407.10009765625)
                positionOffset = (965.2000122070312, 965.2000122070312, 2600.89990234375)
                frames = 100
                skippable = 1
                pre_anim_script = BE_Goal_Gaps2_Pre_Anim
                cam_anim_text = [ 'Sure I\'ll help your team out, let\'s head down and talk.'
                 ]
            }
        ]
    }
endscript


script BE_Goal_Gaps2_Success 
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
    Kill name = TRG_Ped_Tagger
    Kill name = TRGP_TaggerSwitch
    UnPauseGame
endscript


script BE_Goal_Gaps2_Pre_Anim 
    if NOT IsAlive name = TRG_Tagger_New
        Create name = TRG_Tagger_New
        PlayStream BE_Ped_GraffitiSkater_VO vol = 200 priority = 101
    endif
endscript


script BE_AddGoal_Gap7 
    AddGoal_Gaps {
        version = 7
        silent_activation
        reward_points = 25
        skater = custom
        view_goals_text = BE_Gap7_Goal_Text
        goal_description = BE_Gap7_Goal_DeScription
        view_goals_tip = BE_Gap7_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-13008.0, 3624.199951171875, 971.0)
                positionOffset = (-3618.699951171875, 209.6999969482422, 544.4000244140625)
            }
        ]
        goal_flags = [ got_1
         ]
        success_cam_anims = [
            {virtual_cam
                TargetID = world
                targetOffset = (-13008.0, 3624.199951171875, 971.0)
                positionOffset = (-3618.699951171875, 209.6999969482422, 544.4000244140625)
                frames = 100
                skippable = 1
                cam_anim_text = 'Broken curse'
            }
        ]
    }
endscript


script BE_AddGoal_Gap8 
    AddGoal_Gaps {
        version = 8
        silent_activation
        skater = custom
        reward_points = 25
        view_goals_text = BE_Gap8_Goal_Text
        goal_description = BE_Gap8_Goal_DeScription
        view_goals_tip = BE_Gap8_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-3120.89990234375, -261.29998779296875, -11534.099609375)
                positionOffset = (-2817.60009765625, 237.1999969482422, -1551.300048828125)
            }
        ]
        goal_flags = [ got_1
         ]
        success_cam_anims = [
            {virtual_cam
                TargetID = world
                targetOffset = (-9484.7998046875, -798.5999755859375, -8322.2001953125)
                positionOffset = (-2462.10009765625, 287.6000061035156, -1286.5)
                frames = 100
                skippable = 1
                cam_anim_text = 'Free fishy'
            }
        ]
    }
endscript


script BE_AddGoal_Gap10 
    AddGoal_Gaps {
        version = 10
        skater = custom
        reward_points = 25
        silent_activation
        collect_type = 'Signs smashed'
        view_goals_text = BE_Gap10_Goal_Text
        goal_description = BE_Gap10_Goal_DeScription
        view_goals_tip = BE_Gap10_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-386.70001220703125, 1965.300048828125, 12316.7998046875)
                positionOffset = (-737.0999755859375, 334.29998779296875, 2457.10009765625)
                time = 2
            }
            {
                targetOffset = (10645.400390625, 2271.10009765625, -2384.199951171875)
                positionOffset = (2228.10009765625, 188.60000610351562, 2596.89990234375)
                time = 2
            }
        ]
        goal_flags = [ got_1
        got_2
         ]
    }
endscript


script BE_AddGoal_Gap9 
    AddGoal_Gaps {
        version = 9
        silent_activation
        skater = custom
        reward_points = 25
        collect_type = 'Tobacco dispensers smashed'
        view_goals_text = BE_Gap9_Goal_Text
        goal_description = BE_Gap9_Goal_DeScription
        view_goals_tip = BE_Gap9_Goal_Tip
        goal_success_script = BE_Gap9_Success
        view_goals_cameras = [{
                targetOffset = (3061.300048828125, -222.89999389648438, 8465.2998046875)
                positionOffset = (1276.0, 153.6999969482422, -1366.5999755859375)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
        ]
    }
endscript


script BE_Gap9_Success 
endscript


script BE_AddGoal_Gap13 
    AddGoal_Gaps {
        version = 13
        silent_activation
        skater = custom
        reward_points = 25
        view_goals_text = BE_Gap13_Goal_Text
        goal_description = BE_Gap13_Goal_Description
        view_goals_tip = BE_Gap13_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-8130.7998046875, 1709.0, -5195.7001953125)
                positionOffset = (-2857.39990234375, 884.9000244140625, 3260.800048828125)
            }
        ]
        goal_flags = [ got_1
         ]
        goal_success_script = BE_Goal_Gaps13_Success
        success_node = TRG_Restart_Paulie
        success_cam_anims = [{
                virtual_cam
                TargetID = world
                targetOffset = (-12189.5, -126.0, 5996.10009765625)
                positionOffset = (-2730.10009765625, 959.4000244140625, 2939.89990234375)
                frames = 100
                skippable = 1
                pre_anim_script = BE_Goal_Gap13_Pre_Anim
                cam_anim_text = [ 'Look out baby, here I come.'
                 ]
            }
        ]
    }
endscript


script BE_Goal_Gap13_Pre_Anim 
    if NOT IsAlive name = TRG_Paulie_New
        Create name = TRG_Paulie_New
        PlayStream Paulie_BE_Find_VO vol = 200 priority = StreamPriorityHigh
    endif
endscript


script BE_Goal_Gaps13_Success 
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
    Kill name = TRG_Ped_Paulie01
    Kill name = TRGP_PaulieSwitch
    UnPauseGame
endscript


script Be_UnlockBamGoals 
    if GoalManager_GoalIsLocked name = BE_Goal_Gaps3
        if ScreenElementExists id = ped_speech_dialog
            DestroyScreenElement id = ped_speech_dialog
        endif
        printf 'play cameras'
        Create name = TRG_Ped_TeammateIntroPro
        Create name = TRG_Natas_Dummy
        Create name = TRG_Ped_Natas
        Create name = Trg_Ped_Hint_Rocket
        Create name = Trg_Ped_Hint_Barf
        PlayIntroCameras goal_intro_cameras = BE_Pro_Goal_Intro_Cameras letterbox
        Kill name = TRG_Ped_TeammateIntroPro
        GoalManager_UnlockGoal name = BE_Goal_Gaps3
        GoalManager_UnlockGoal name = BE_Goal_Gaps4
        GoalManager_UnlockGoal name = BE_Goal_Gaps5
        GoalManager_UnlockGoal name = BE_Goal_Gaps15
        GoalManager_UnlockGoal name = BE_Goal_Gaps16
        GoalManager_UnlockGoal name = BE_Goal_SkateTheLine2
        GoalManager_UnlockGoal name = BE_Goal_SkateTheLine3
        GoalManager_UnlockGoal name = BE_Goal_HighCombo3
        GoalManager_DeactivateGoal name = BE_Goal_HighCombo2
    else
        Takeover_VO
        GoalManager_DeactivateGoal name = BE_Goal_HighCombo2
    endif
endscript


script BE_AddGoal_Gap5 
    AddGoal_Gaps {
        version = 5
        silent_activation
        skater = pro
        reward_points = 50
        unlocked_by_another
        view_goals_text = BE_Gap5_Goal_Text
        goal_description = BE_Gap5_Goal_DeScription
        view_goals_tip = BE_Gap5_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-5521.5, 40.29999923706055, -8843.7998046875)
                positionOffset = (-2531.10009765625, 230.89999389648438, 696.4000244140625)
            }
        ]
        goal_flags = [ got_1
         ]
    }
endscript


script BE_AddGoal_Gap3 
    AddGoal_Gaps {
        version = 3
        silent_activation
        skater = pro
        reward_points = 50
        unlocked_by_another
        collect_type = 'Clean combos'
        view_goals_text = BE_Gap3_Goal_Text
        difficulty_level_params = [
            {
                Score = BE_Gap3_Easy
                goal_description = BE_Gap3_Goal_Easy_Description
            }
            {
                Score = BE_Gap3_Normal
                goal_description = BE_Gap3_Goal_Normal_Description
            }
            {
                Score = BE_Gap3_Hard
                goal_description = BE_Gap3_Goal_Hard_Description
            }
        ]
        view_goals_tip = BE_Gap3_Goal_Tip
        goal_flags = [got_1
            got_2
            got_3
        ]
    }
endscript


script BE_AddGoal_Gap4 
    AddGoal_Gaps {
        version = 4
        silent_activation
        skater = pro
        reward_points = 25
        unlocked_by_another
        collect_type = 'Natas spins'
        goal_success_script = BE_Goal_Natas_Success
        view_goals_text = BE_Gap4_Goal_Text
        goal_description = BE_Gap4_Goal_DeScription
        view_goals_cameras = [{
                targetOffset = (-2879.300048828125, -1.5, -9997.7001953125)
                positionOffset = (-2146.199951171875, 189.10000610351562, -26.700000762939453)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
        ]
    }
endscript


script BE_AddGoal_SkateTheLine01 
    AddGoal_SkateTheLine {
        silent_activation
        skater = Paulie
        unlocked_by_another
        can_retry_goal
        restart_node = trg_Skatetheline01_Restart
        reward_points = 25
        view_goals_text = BE_SkateTheLine1_Goal_Text
        goal_description = BE_SkateTheLine1_Goal_DeScription
        goal_start_script = BE_SkateTheLine_Goal_Start
        goal_success_script = BE_SkateTheLine_Goal_Success
        view_goals_cameras = [
            {
                targetOffset = (3725.39990234375, -647.7000122070312, 8809.900390625)
                positionOffset = (-3367.5, 219.89999389648438, 1814.4000244140625)
                time = 2
            }
            {
                targetOffset = (8368.400390625, 710.2000122070312, 1601.300048828125)
                positionOffset = (-1592.4000244140625, 258.29998779296875, 2360.5)
                time = 2
            }
            {
                targetOffset = (-3204.39990234375, -1932.0999755859375, -6142.5)
                positionOffset = (245.5, 723.5, 2859.89990234375)
                time = 2
            }
            {
                targetOffset = (-4593.7998046875, -723.4000244140625, -7687.2998046875)
                positionOffset = (164.6999969482422, 575.0999755859375, 1011.4000244140625)
                time = 2
            }
            {
                targetOffset = (-1138.0, -2851.89990234375, -9769.099609375)
                positionOffset = (-234.89999389648438, 548.2999877929688, -408.6000061035156)
                time = 2
            }
        ]
        goal_flags = [
            got_1
            got_2
            got_3
            got_4
            got_5]
        unlimited_time = 0
        goal_objects = [
            {
                flag = got_1
                time = 10
                trick_objects = [
                    {name = g_phil_qp06_hj04a light_group = outdoor}
                ]
            }
            {
                text = 'Skate the line\nNext grind the planter in the courtyard'
                flag = got_2
                time = 10
                trick_objects = [
                    {name = g_planterB03 light_group = outdoor}
                ]
            }
            {
                text = 'Skate the line\nNext grind the middle ledge on the gold building'
                flag = got_3
                time = 10
                trick_objects = [
                    {name = g_gold_main02a light_group = outdoor}
                    {name = g_gold_main06 light_group = outdoor}
                ]
            }
            {
                text = 'Skate the line\nNext grind the ledge on the sign building'
                flag = got_4
                time = 10
                trick_objects = [
                    {name = g_Sign_main03 light_group = outdoor}
                ]
            }
            {
                text = 'Skate the line\nFinally grind the top of the fountain'
                flag = got_5
                time = 10
                trick_objects = [
                    {name = g_fountain_main01 light_group = outdoor}
                    {name = g_fountain_main_front_01 light_group = outdoor}
                ]
            }
        ]
    }
endscript


script BE_SkateTheLine_Got1 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine
        printf 'Set Flag======================1'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine got_1 1
    endif
endscript


script BE_SkateTheLine_Got2 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine
        printf 'Set Flag======================2'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine got_2 1
    endif
endscript


script BE_SkateTheLine_Got3 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine
        printf 'Set Flag======================3'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine got_3 1
    endif
endscript


script BE_SkateTheLine_Got4 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine
        printf 'Set Flag======================4'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine got_4 1
    endif
endscript


script BE_SkateTheLine_Got5 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine
        printf 'Set Flag======================5'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine got_5 1
    endif
endscript


script BE_SkateTheLine_Goal_Start 
    if NOT GoalManager_HasWonGoal name = BE_Goal_HighCombo2
        if NOT GoalManager_GoalIsLocked name = BE_Goal_HighCombo2
            GoalManager_ActivateGoal name = BE_Goal_HighCombo2
        endif
    endif
endscript


script BE_SkateTheLine_Goal_Success 
    Kill name = Trg_Ped_Hint_Line
endscript


script BE_AddGoal_SkateTheLine02 
    AddGoal_SkateTheLine {
        version = 2
        silent_activation
        skater = pro
        unlocked_by_another
        reward_points = 50
        can_retry_goal
        restart_node = trg_church_zoo_restart01
        goal_start_script = BE_SkateTheLine_Goal_Start
        view_goals_text = BE_SkateTheLine2_Goal_Text
        goal_description = BE_SkateTheLine2_Goal_DeScription
        view_goals_cameras = [
            {
                targetOffset = (-4075.699951171875, -1446.699951171875, -10165.7998046875)
                positionOffset = (-3641.300048828125, 330.8999938964844, -334.70001220703125)
                time = 2
            }
            {
                targetOffset = (7656.0, -1589.199951171875, -4523.7998046875)
                positionOffset = (-1815.0999755859375, 188.5, -1852.0999755859375)
                time = 2
            }
            {
                targetOffset = (8482.7001953125, -1143.9000244140625, -6291.39990234375)
                positionOffset = (-345.1000061035156, 219.60000610351562, -1796.0)
                time = 2
            }
            {
                targetOffset = (9276.099609375, -1138.0999755859375, -6946.0)
                positionOffset = (797.5, 225.5, -1822.300048828125)
                time = 2
            }
            {
                targetOffset = (5182.7998046875, -513.7000122070312, 7219.5)
                positionOffset = (1507.300048828125, 160.89999389648438, -2055.89990234375)
                time = 2
            }
            {
                targetOffset = (12190.5, -425.8999938964844, -1959.199951171875)
                positionOffset = (2254.39990234375, 248.6999969482422, -1055.5)
                time = 2
            }
            {
                targetOffset = (-6564.2998046875, -492.70001220703125, 2219.0)
                positionOffset = (2807.5, 270.79998779296875, -1184.4000244140625)
                time = 2
            }
            {
                targetOffset = (7946.10009765625, -4697.0, 2060.60009765625)
                positionOffset = (61.20000076293945, 452.29998779296875, -1302.4000244140625)
                time = 2
            }
        ]
        goal_flags = [
            got_1
            got_2
            got_3
            got_4
            got_5
            got_6
            got_7
            got_8]
        unlimited_time = 0
        goal_objects = [
            {
                flag = got_1
                time = 6
                trick_objects = [
                    {name = g_zoo_floor02 light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nNext grind the blue pipe.'
                flag = got_2
                time = 6
                trick_objects = [
                    {name = g_pipe01 light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nNext grind the barriers.'
                flag = got_3
                time = 6
                trick_objects = [
                    {prefix = g_barrierbig_ light_group = outdoor}
                    {name = g_barrierbig12_shadow light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nNext grind the stairs.'
                flag = got_4
                time = 6
                trick_objects = [
                    {name = g_playground_floorA light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nNext grind the ledge.'
                flag = got_5
                time = 6
                trick_objects = [
                    {name = AS_BE_graf_wall_01 light_group = outdoor}
                    {name = g_Neue_mainB light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nNext Sticker Slap the sign.'
                flag = got_6
                time = 6
                trick_objects = [
                    {name = g_blu_market_sign_shadow01a light_group = outdoor}
                    {name = g_blu_market_sign_glo01b light_group = outdoor}
                    {name = g_blu_market_sign_01a light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nNext grind the ledge again.'
                flag = got_7
                time = 6
                trick_objects = [
                    {name = AS_BE_graf_wall_01 light_group = outdoor}
                    {name = g_Neue_mainB light_group = outdoor}
                ]
            }
            {
                text = 'Tourist line\nFinally Acid Drop on to the wall.'
                flag = got_8
                time = 6
                trick_objects = [
                    {name = g_wall04 light_group = outdoor}
                ]
            }
        ]
    }
endscript


script BE_SkateTheLine02_Got1 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray grind onto
        if triggertype <trigger_array>
            printf 'Set Flag======================1'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_1 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got2 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray grind onto
        if triggertype <trigger_array>
            printf 'Set Flag======================2'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_2 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got3 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray grind onto
        if triggertype <trigger_array>
            printf 'Set Flag======================3'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_3 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got4 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray grind onto
        if triggertype <trigger_array>
            printf 'Set Flag======================4'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_4 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got5 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray grind onto
        if triggertype <trigger_array>
            printf 'Set Flag======================5'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_5 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got6 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray wallplant onto
        if triggertype <trigger_array>
            printf 'Set Flag======================6'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_6 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got7 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
        GetTriggerArray grind onto
        if triggertype <trigger_array>
            printf 'Set Flag======================7'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_7 1
        endif
    endif
endscript


script BE_SkateTheLine02_Got8 
    if NOT GoalManager_GoalIsLocked name = BE_AddGoal_SkateTheLine02
        if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine02
            GetNumberOfTrickOccurrences TrickText = 'Acid Drop'
            printstruct <...> 
            if (<number_of_occurrences> > 0)
                printf 'Set Flag======================8'
                GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine2 got_8 1
            endif
        endif
    endif
endscript


script BE_AddGoal_Gap15 
    AddGoal_Gaps {
        version = 15
        silent_activation
        reward_points = 50
        skater = pro
        can_retry_goal
        restart_node = trg_fountain_warpUP
        unlocked_by_another
        view_goals_text = BE_Gap15_Goal_Text
        goal_description = BE_Gap15_Goal_DeScription
        view_goals_cameras = [
            {
                targetOffset = (8747.7001953125, -1762.300048828125, -105.0)
                positionOffset = (-835.7000122070312, 1072.199951171875, 246.60000610351562)
                time = 3
            }
            {
                targetOffset = (5661.39990234375, -7690.5, 243.0)
                positionOffset = (994.0, 1153.300048828125, 270.29998779296875)
                time = 3
            }
            {
                targetOffset = (11264.599609375, -866.5999755859375, -204.6999969482422)
                positionOffset = (1416.5999755859375, 858.5, -393.3999938964844)
                time = 3
            }
        ]
        goal_flags = [ got_1
         ]
        success_cam_anims = [
            {
                virtual_cam
                TargetID = world
                targetOffset = (11264.599609375, -866.5999755859375, -204.6999969482422)
                positionOffset = (1416.5999755859375, 858.5, -393.3999938964844)
                frames = 100
                skippable = 1
                pre_anim_script = BE_Goal_Gaps15_Pre_Anim
            }
        ]
    }
endscript


script BE_AddGoal_Gap15_StartGap 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps15
        printf 'Start Radar Gap'
        StartGap GapID = RadarGap flags = [ PURE_AIR ] TrickText = 'Rocket Air' TrickScript = BE_AddGoal_Gap15_Win
    endif
endscript


script BE_AddGoal_Gap15_EndGap 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps15
        printf 'End Radar Gap'
        endgap GapID = RadarGap
    endif
endscript


script BE_AddGoal_Gap15_Win 
    printf 'Win Radar Gap'
    GoalManager_SetGoalFlag name = BE_Goal_Gaps15 got_1 1
    Kill name = Trg_Ped_Hint_Rocket
endscript


script BE_Goal_Gaps15_Pre_Anim 
    Kill name = g_Neue_roof_dish_01
    Kill name = g_Neue_roof_dish_02
    Create name = g_Neue_roof_dish_01a
    Create name = g_Neue_roof_dish_02a
    wait 3 gameframes
    g_Neue_roof_dish_01a ::rigidbody_kick vel = (7.0, 3.0, 5.0) rotvel = (6.0, 2.0, 4.0)
    g_Neue_roof_dish_02a ::rigidbody_kick vel = (7.0, 3.0, 5.0) rotvel = (6.0, 2.0, 4.0)
    Create name = APM_AC_G_Dummy09
    Create name = APM_AC_G_Dummy10
endscript


script BE_AddGoal_Gap16 
    AddGoal_Gaps {
        version = 16
        silent_activation
        reward_points = 25
        skater = pro
        unlocked_by_another
        collect_type = 'Showers'
        view_goals_text = BE_Gap16_Goal_Text
        goal_description = BE_Gap16_Goal_Description
        view_goals_tip = BE_Gap16_Goal_Tip
        view_goals_notify_trick = Trick_GrindNBarf
        view_goals_cameras = [{
                targetOffset = (9951.099609375, 1742.4000244140625, -2479.60009765625)
                positionOffset = (281.70001220703125, 150.6999969482422, -487.70001220703125)
                time = 2
            }
            {
                targetOffset = (-6934.60009765625, -7739.5, -1079.800048828125)
                positionOffset = (-1332.9000244140625, 544.2000122070312, -1085.5999755859375)
                time = 2
            }
        ]
        goal_flags = [ got_1
        got_2
         ]
    }
endscript


script BE_BamBarf01a 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps16
        StartGap GapID = BamBarf01a flags = [ PURE_RAIL ] TrickText = 'Grind N Barf' TrickScript = BE_BamBarf01Win
        endgap GapID = BamBarf01a
    endif
endscript


script BE_BamBarf01Win 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps16
        if NOT IsStreamPlaying securityguardpuke
            Random (
                @ PlayStream Ped_Security_Guard_01_Puke01 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke02 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke03 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke04 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke05 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke06 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke07 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
            )
        endif
        GoalManager_SetGoalFlag name = BE_Goal_Gaps16 got_1 1
    endif
endscript


script BE_BamBarf02a 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps16
        printf 'Bam Barf 02 start'
        StartGap GapID = BamBarf02a flags = [ PURE_RAIL ] TrickText = 'Grind N Barf' TrickScript = BE_BamBarf02Win
        endgap GapID = BamBarf02b
    endif
endscript


script BE_BamBarf02b 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps16
        printf 'Bam Barf 02 end'
        StartGap GapID = BamBarf02b flags = [ PURE_RAIL ] TrickText = 'Grind N Barf' TrickScript = BE_BamBarf02Win
        endgap GapID = BamBarf02a
    endif
endscript


script BE_BamBarf02Win 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_Gaps16
        if NOT IsStreamPlaying securityguardpuke
            Random (
                @ PlayStream Ped_Security_Guard_01_Puke01 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke02 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke03 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke04 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke05 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke06 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
                @ PlayStream Ped_Security_Guard_01_Puke07 vol = 200 priority = StreamPriorityHigh id = securityguardpuke
            )
        endif
        printf 'Bam Barf 02 win'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps16 got_2 1
    endif
endscript


script BE_AddGoal_HighCombo3 
    AddGoal_HighCombo {
        version = 3
        unlimited_time = 1
        unlocked_by_another
        silent_activation
        no_fail_messages
        skater = pro
        reward_points = 25
        difficulty_level_params = [
            {
                Score = BE_HighCombo_Easy
                goal_description = BE_HighCombo_Easy_Goal_Description
            }
            {
                Score = BE_HighCombo_Normal
                goal_description = BE_HighCombo_Normal_Goal_Description
            }
            {
                Score = BE_HighCombo_Hard
                goal_description = BE_HighCombo_Hard_Goal_Description
            }
        ]
        view_goals_text = BE_HighCombo_Goal_Text
        view_goals_tip = BE_HighCombo_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-8782.400390625, 5035.10009765625, -3650.699951171875)
                positionOffset = (-2028.5999755859375, 174.39999389648438, 1895.0999755859375)
            }
        ]
    }
endscript


script BE_Goal_highcombo_Enter 
    if NOT GoalManager_HasWonGoal name = BE_Goal_HighCombo3
        goal_highcombo_enter_area goal_id = BE_Goal_HighCombo3
    endif
    if NOT GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_3
        SpawnScript BE_Paulie_AirCombo_Air
    endif
endscript


script BE_Goal_highcombo_Exit 
    if NOT GoalManager_HasWonGoal name = BE_Goal_HighCombo3
        goal_highcombo_leave_area goal_id = BE_Goal_HighCombo3
    endif
    KillSpawnedScript name = BE_Paulie_AirCombo_Air
endscript


script Be_UnlockTaggerGoals 
    if GoalManager_GoalIsLocked name = BE_Goal_Gaps6
        printf 'play cameras'
        Create name = TRG_Ped_Tagger_Intro
        Create prefix = 'g_billboard_g_spit_'
        PlayIntroCameras goal_intro_cameras = BE_Tagger_Goal_Intro_Cameras letterbox
        Kill name = TRG_Ped_Tagger_Intro
        printf 'Unlock goals'
        Create name = TRG_Projectile_Dummy
        GoalManager_UnlockGoal name = BE_Goal_Gaps6
        GoalManager_UnlockGoal name = BE_Goal_Gaps11
        GoalManager_UnlockGoal name = BE_Goal_Gaps12
        GoalManager_UnlockGoal name = BE_Goal_Gaps14
        GoalManager_DeactivateGoal name = BE_Goal_HighCombo2
        AwardNewSpecialTrickToProfile {
            all_profiles
            Trick = Trick_DoubleFistin
            key_combo = SpAir_D_L_Circle
        }
    else
        GoalManager_DeactivateGoal name = BE_Goal_HighCombo2
        Takeover_VO
    endif
endscript


script BE_AddGoal_Gap6 
    AddGoal_Gaps {
        version = 6
        silent_activation
        reward_points = 50
        unlimited_time
        unlocked_by_another
        collect_type = 'Taggers hit'
        skater = GraffitiTagger
        view_goals_text = BE_Gap6_Goal_Text
        goal_description = BE_Gap6_Goal_DeScription
        view_goals_tip = BE_Gap6_Goal_Tip
        goal_success_script = BE_Gap6_Success
        view_goals_cameras = [{
                targetOffset = (-7437.39990234375, -536.9000244140625, -9774.099609375)
                positionOffset = (-1367.300048828125, 457.29998779296875, -1890.0)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
            got_4
            got_5
        ]
    }
endscript


script BE_Gap6_Success 
    if ObjectExists id = TRG_Rival_Tagger_01
        TRG_Rival_Tagger_01 ::SprayPaintOff
    endif
    if ObjectExists id = TRG_Rival_Tagger_02
        TRG_Rival_Tagger_02 ::SprayPaintOff
    endif
    if ObjectExists id = TRG_Rival_Tagger_03
        TRG_Rival_Tagger_03 ::SprayPaintOff
    endif
    if ObjectExists id = TRG_Rival_Tagger_04
        TRG_Rival_Tagger_04 ::SprayPaintOff
    endif
    if ObjectExists id = TRG_Rival_Tagger_05
        TRG_Rival_Tagger_05 ::SprayPaintOff
    endif
    Kill prefix = 'TRG_Rival_Tagger_'
    SpawnSkaterScript BE_Kill_Tagger_Particles
endscript


script BE_Kill_Tagger_Particles 
    DestroyFlexibleParticleSystem name = skater_SprayPaint_system
endscript


script BE_AddGoal_Gap12 
    AddGoal_Gaps {
        version = 12
        silent_activation
        reward_points = 50
        unlocked_by_another
        unlimited_time
        skater = GraffitiTagger
        view_goals_text = BE_Gap12_Goal_Text
        goal_description = BE_Gap12_Goal_DeScription
        view_goals_tip = BE_Gap12_Goal_Tip
        goal_success_script = BE_Goal_Gaps12_Success
        view_goals_cameras = [{
                targetOffset = (1117.0999755859375, 1575.199951171875, 10920.2998046875)
                positionOffset = (569.5999755859375, 1162.5, 943.9000244140625)
            }
        ]
        goal_flags = [ got_1
         ]
    }
endscript


script BE_Goal_Gaps12_Geo 
    if NOT IsAlive name = BE_AS_MasterPiece_final01
        Create name = BE_AS_MasterPiece_final01
        Kill name = 'BE_AS_MasterPiece_part01'
        Kill name = 'BE_AS_MasterPiece_part02'
        Kill name = 'BE_AS_MasterPiece_part03'
        Kill name = 'BE_AS_MasterPiece_part04'
        Kill name = 'BE_AS_MasterPiece_part05'
        Kill name = 'BE_AS_MasterPiece_part06'
    else
        Kill name = 'BE_AS_MasterPiece_part01'
        Kill name = 'BE_AS_MasterPiece_part02'
        Kill name = 'BE_AS_MasterPiece_part03'
        Kill name = 'BE_AS_MasterPiece_part04'
        Kill name = 'BE_AS_MasterPiece_part05'
        Kill name = 'BE_AS_MasterPiece_part06'
    endif
endscript


script BE_Goal_Gaps12_Success 
    play_cutscene name = 'cutscenes\BE_SmallEvent_Billboard.cut' RestartNode = TRG_Restart_Billboard
endscript


script BE_AddGoal_Gap11 
    AddGoal_Gaps {
        version = 11
        skater = GraffitiTagger
        unlocked_by_another
        unlimited_time
        reward_points = 50
        collect_type = 'Spots tagged'
        silent_activation
        skater = GraffitiTagger
        view_goals_text = BE_Gap11_Goal_Text
        goal_description = BE_Gap11_Goal_DeScription
        view_goals_tip = BE_Gap11_Goal_Tip
        view_goals_cameras = [{
                targetOffset = (-12720.099609375, -242.6999969482422, 876.5)
                positionOffset = (-2756.39990234375, 299.6000061035156, 231.10000610351562)
            }
        ]
        goal_flags = [got_1
            got_2
            got_3
            got_4
            got_5
        ]
    }
endscript


script BE_AddGoal_Gap14 
    AddGoal_Gaps {
        version = 14
        silent_activation
        unlimited_time
        unlocked_by_another
        skater = GraffitiTagger
        collect_type = 'Team tricks'
        reward_points = 50
        view_goals_text = BE_Gap14_Goal_Text
        goal_description = BE_Gap14_Goal_DeScription
        view_goals_cameras = [{
                targetOffset = (-12995.400390625, 6110.2998046875, 966.4000244140625)
                positionOffset = (-4390.60009765625, 1034.300048828125, 533.2000122070312)
            }
        ]
        goal_success_script = BE_Goal_Gaps14_Success
        goal_flags = [ 
        got_1
         ]
        success_cam_anims = [
            {virtual_cam
                TargetID = world
                targetOffset = (1963.0, 1111.0, -8988.900390625)
                positionOffset = (1888.300048828125, 157.1999969482422, 965.2999877929688)
                frames = 100
                skippable = 1
                pre_anim_script = BE_Goal_Gaps14_Pre_Anim
            }
        ]
    }
endscript


script BE_Goal_Gaps14_Pre_Anim 
    Kill name = Trg_Ped_Hint_Mural
    Kill name = G_NeueFront_Col
    Create prefix = 'TRG_Dalek_Way_'
    Create name = TRG_MC_Dalek01
    Create name = TRG_MC_DalekTalk
    Create name = TRG_MC_Dalek01_COL
    Create prefix = 'TRG_Dalek_'
    g_neue_secret_closed_02a ::obj_roty Angle = 80 Speed = 87
    g_neue_secret_closed_02b ::obj_roty Angle = -80 Speed = 87
    g_neue_secret_closed_02c ::obj_roty Angle = 80 Speed = 87
    g_neue_secret_closed_02d ::obj_roty Angle = -80 Speed = 87
    SpawnScript BE_SFX_RevealMural
endscript


script BE_Goal_Gaps14_Success 
endscript


script Be_UnlockPaulieGoals 
    if GoalManager_GoalIsLocked name = BE_Goal_SkateTheLine
        printf 'Unlock goals'
        GoalManager_UnlockGoal name = BE_Goal_HighCombo2
        GoalManager_UnlockGoal name = BE_Goal_SkateTheLine
        GoalManager_UnlockGoal name = BE_Goal_Gaps19
        GoalManager_UnlockGoal name = BE_Goal_Gaps20
        GoalManager_ActivateGoal name = BE_Goal_HighCombo2
        printf 'create shit'
        Create name = TRG_Ped_Paulie_Intro
        Create prefix = 'g_g_manual_cones_'
        Create prefix = 'TRGP_Paulie_Manual_'
        Create name = Trg_Ped_Hint_Line
        printf 'play cameras'
        PlayIntroCameras goal_intro_cameras = Be_Paulie_Goal_Intro_Cameras letterbox
        printf 'Done playing cameras'
        Kill name = TRG_Ped_Paulie_Intro
    else
        printf 'View goals reminder'
        if NOT GoalManager_HasWonGoal name = BE_Goal_HighCombo2
            GoalManager_ActivateGoal name = BE_Goal_HighCombo2
        endif
        Takeover_VO
    endif
endscript


script BE_AddGoal_HighCombo2 
    AddGoal_HighCombo {
        version = 2
        unlimited_time
        unlocked_by_another
        silent_activation
        no_fail_messages
        skater = Paulie
        reward_points = 50
        view_goals_text = BE_HighCombo2_Goal_Text
        view_goals_tip = BE_HighCombo2_Goal_Tip
        difficulty_level_params = [
            {
                Score = BE_HighCombo2_Easy
                goal_description = BE_HighCombo2_Easy_Goal_Description
            }
            {
                Score = BE_HighCombo2_Normal
                goal_description = BE_HighCombo2_Normal_Goal_Description
            }
            {
                Score = BE_HighCombo2_Hard
                goal_description = BE_HighCombo2_Hard_Goal_Description
            }
        ]
        view_goals_cameras = [{
                targetOffset = (-364.8999938964844, 1134.300048828125, 9751.0)
                positionOffset = (-2620.5, 174.3000030517578, 56.29999923706055)
            }
        ]
    }
endscript


script BE_AddGoal_SkateTheLine03 
    AddGoal_SkateTheLine {
        version = 3
        silent_activation
        skater = pro
        unlocked_by_another
        can_retry_goal
        restart_node = TRG_StakeTheline3_Restart
        reward_points = 75
        goal_start_script = BE_SkateTheLine_Goal_Start
        view_goals_text = BE_SkateTheLine3_Goal_Text
        goal_description = BE_SkateTheLine3_Goal_DeScription
        view_goals_cameras = [
            {
                targetOffset = (-3188.89990234375, -1906.0, 9854.5)
                positionOffset = (2878.800048828125, 324.6000061035156, 2225.10009765625)
                time = 2
            }
            {
                targetOffset = (-6731.2998046875, -1745.5, 5026.60009765625)
                positionOffset = (2704.60009765625, 485.0, 2579.60009765625)
                time = 2
            }
            {
                targetOffset = (-7464.2998046875, -362.29998779296875, 3692.0)
                positionOffset = (2429.39990234375, 633.2000122070312, 2631.699951171875)
                time = 2
            }
            {
                targetOffset = (-6132.60009765625, -4206.2001953125, -1396.199951171875)
                positionOffset = (1388.4000244140625, 1028.9000244140625, 2607.300048828125)
                time = 2
            }
            {
                targetOffset = (1585.9000244140625, -3166.0, -8257.099609375)
                positionOffset = (967.0, 390.1000061035156, 1068.699951171875)
                time = 2
            }
            {
                targetOffset = (477.6000061035156, -1060.300048828125, -10951.400390625)
                positionOffset = (1103.5, 540.5999755859375, -1100.300048828125)
                time = 2
            }
            {
                targetOffset = (918.4000244140625, 1131.300048828125, -11337.0)
                positionOffset = (1041.199951171875, 661.2999877929688, -1348.800048828125)
                time = 2
            }
        ]
        goal_flags = [
            got_1
            got_2
            got_3
            got_4
            got_5
            got_6
            got_7
        ]
        unlimited_time = 0
        goal_objects = [
            {
                flag = got_1
                time = 10
                trick_objects = [{name = g_gold_qp03 light_group = outdoor}]
            }
            {
                text = 'Pro tour\nnext grind the lower ledge.'
                flag = got_2
                time = 10
                trick_objects = [{name = g_gold_main01a light_group = outdoor}]
            }
            {
                text = 'Pro tour\nnext grind the middle ledge.'
                flag = got_3
                time = 10
                trick_objects = [{name = g_gold_main01d light_group = outdoor}]
            }
            {
                text = 'Pro tour\nnext grind the upper ledge.'
                flag = got_4
                time = 10
                trick_objects = [{name = g_gold_main01b light_group = outdoor}]
            }
            {
                text = 'Pro tour\nnext grind lower ledge of the Gallerie.'
                flag = got_5
                time = 10
                trick_objects = [{name = AS_BE_graf_wall_02 light_group = outdoor}]
            }
            {
                text = 'Pro tour\nnext grind the awning rails towards the letters.'
                flag = got_6
                time = 10
                trick_objects = [{name = g_mall_awning01 light_group = outdoor}]
            }
            {
                text = 'Pro tour\nfinally lip the letters.'
                flag = got_7
                time = 10
                trick_objects = [{name = g_mall_main03 light_group = outdoor}]
            }
        ]
    }
endscript


script BE_SkateTheLine3_Got1 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        printf 'Set Flag======================1'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_1 1
    endif
endscript


script BE_SkateTheLine3_Got2 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        printf 'Set Flag======================2'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_2 1
    endif
endscript


script BE_SkateTheLine3_Got3 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        printf 'Set Flag======================3'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_3 1
    endif
endscript


script BE_SkateTheLine3_Got4 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        printf 'Set Flag======================4'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_4 1
    endif
endscript


script BE_SkateTheLine3_Got5 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        printf 'Set Flag======================5'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_5 1
    endif
endscript


script BE_SkateTheLine3_Got6 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        printf 'Set Flag======================6'
        GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_6 1
    endif
endscript


script BE_SkateTheLine3_Got7 
    if NOT GoalManager_HasWonGoal name = BE_AddGoal_SkateTheLine3
        GetTriggerArray lip onto
        if triggertype <trigger_array>
            printf 'Set Flag======================7'
            GoalManager_SetGoalFlag name = BE_Goal_SkateTheLine3 got_7 1
        endif
    endif
endscript


script BE_AddGoal_Gap19 
    AddGoal_Gaps {
        version = 19
        silent_activation
        unlimited_time
        unlocked_by_another
        skater = Paulie
        reward_points = 50
        view_goals_text = BE_Gap19_Goal_Text
        goal_description = BE_Gap19_Goal_DeScription
        view_goals_cameras = [{
                targetOffset = (-7847.89990234375, -1178.800048828125, 7397.0)
                positionOffset = (-516.2999877929688, 490.79998779296875, 804.7000122070312)
                time = 3
            }
        ]
        goal_success_script = BE_Goal_Gaps19_Success
        goal_flags = [ 
        got_1
         ]
    }
endscript


script BE_Goal_Gap19_Start 
    printf 'Paulie Start==============='
    StartGap GapID = PaulieGap flags = [ CANCEL_MANUAL CANCEL_GROUND ] TrickText = 'Sit Flip' TrickScript = BE_Goal_Gap19_Win
endscript


script BE_Goal_Gap19_End 
    printf 'Paulie End==============='
    endgap GapID = PaulieGap
endscript


script BE_Goal_Gap19_Win 
    printf 'Paulie Win===============stage 01'
    if NOT GoalManager_GoalIsLocked name = BE_AddGoal_Gaps19
        printf 'Paulie Win==============='
        GoalManager_SetGoalFlag name = BE_Goal_Gaps19 got_1 1
    endif
endscript


script BE_Goal_Gaps19_Success 
endscript


script BE_AddGoal_Gap20 
    AddGoal_Gaps {
        version = 20
        unlimited_time
        silent_activation
        unlocked_by_another
        skater = Paulie
        reward_points = 50
        view_goals_text = BE_Gap20_Goal_Text
        goal_description = BE_Gap20_Goal_DeScription
        goal_intro_script = BE_Gap20_Goal_Intro
        no_gap_messages
        view_goals_cameras = [{
                targetOffset = (6276.2998046875, -986.0, 1266.300048828125)
                positionOffset = (-3637.300048828125, 309.5, 1474.699951171875)
                time = 3
            }
            {
                targetOffset = (-7774.89990234375, -3353.199951171875, 6322.0)
                positionOffset = (-3178.300048828125, 208.5, -1813.4000244140625)
                time = 3
            }
            {
                targetOffset = (-8328.900390625, 4641.0, -4994.89990234375)
                positionOffset = (-2630.60009765625, 245.39999389648438, 1948.300048828125)
                time = 3
            }
        ]
        goal_success_script = BE_Goal_Gaps20_Success
        goal_flags = [
            got_1
            got_2
            got_3
        ]
    }
endscript


script BE_Gap20_Goal_Intro 
    ClearExceptionGroup BE_AddGoal_Gaps20
    printf 'Paulie gaps20 intro'
    goto BE_PaulieGrind
endscript


script BE_Goal_Gaps20_Success 
endscript


script BE_PaulieGrindCounter_Start 
    if NOT GetFlag flag = FLAG_BE_PAULIEGRIND
        ClearExceptionGroup BE_AddGoal_Gaps20
        get_current_skater_name
        if (<name> = Paulie)
            GetTriggerArray grind onto
            if triggertype <trigger_array>
                SetException Ex = SkaterExitRail scr = BE_PaulieGrindCounter_End group = BE_AddGoal_Gaps20
                SetException Ex = SkaterEnterBail scr = BE_PaulieGrindCounter_End group = BE_AddGoal_Gaps20
                SetException Ex = SkaterEnterGround scr = BE_PaulieGrindCounter_End group = BE_AddGoal_Gaps20
                SetException Ex = SkaterEnterAir scr = BE_PaulieGrindCounter_End group = BE_AddGoal_Gaps20
                SetFlag flag = FLAG_BE_PAULIEGRIND
                skater ::settags Paulietimeleft = 11
                begin 
                printf 'Paulie gaps20 in grind'
                skater ::gettags
                Paulietimeleft = (<Paulietimeleft> - 1)
                if (<Paulietimeleft> < 1)
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps20 got_1 1
                    <Team_Goals> = 0
                    if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_1
                        <Team_Goals> = (<Team_Goals> + 1)
                    endif
                    if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_2
                        <Team_Goals> = (<Team_Goals> + 1)
                    endif
                    if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_3
                        <Team_Goals> = (<Team_Goals> + 1)
                    endif
                    switch <Team_Goals>
                        case 0
                        printf '0'
                        case 1
                        create_panel_message {text = '1 of 3 team stunts' style = goal_collect_text}
                        case 2
                        create_panel_message {text = '2 of 3 team stunts' style = goal_collect_text}
                        default 
                    endswitch
                    break 
                endif
                FormatText textname = Pauliegrind '%a seconds left' a = <Paulietimeleft>
                create_panel_block id = PaulieGrindScreen text = <Pauliegrind> style = panel_message_goal
                skater ::settags Paulietimeleft = <Paulietimeleft>
                wait 1 second
                repeat 
            endif
            if ScreenElementExists id = PaulieGrindScreen
                DestroyScreenElement id = PaulieGrindScreen
            endif
        endif
    endif
endscript


script BE_PaulieGrindCounter_End 
    ClearExceptionGroup BE_AddGoal_Gaps20
    UnSetFlag flag = FLAG_BE_PAULIEGRIND
    if ScreenElementExists id = PaulieGrindScreen
        DestroyScreenElement id = PaulieGrindScreen
    endif
endscript


script BE_PaulieManualStart 
    get_current_skater_name
    if (<name> = margera)
        printf 'Paulie Manual start'
        StartGap GapID = PaulieManual flags = [ PURE_MANUAL ]
    endif
endscript


script BE_PaulieManualEnd 
    printf 'Paulie Manual end'
    endgap GapID = PaulieManual gapscript = BE_PaulieManualWin
endscript


script BE_PaulieManualWin 
    printf 'Paulie Manual win'
    GoalManager_SetGoalFlag name = BE_Goal_Gaps20 got_2 1
    Kill prefix = 'TRGP_Paulie_Manual_'
    Kill prefix = 'g_g_manual_cones_'
    <Team_Goals> = 0
    if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_1
        <Team_Goals> = (<Team_Goals> + 1)
    endif
    if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_2
        <Team_Goals> = (<Team_Goals> + 1)
    endif
    if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_3
        <Team_Goals> = (<Team_Goals> + 1)
    endif
    switch <Team_Goals>
        case 0
        printf '0'
        case 1
        create_panel_message {text = '1 of 3 team stunts' style = goal_collect_text}
        case 2
        create_panel_message {text = '2 of 3 team stunts' style = goal_collect_text}
        default 
    endswitch
endscript


script BE_Paulie_AirCombo_Air 
    printf 'AIR Combo Created============='
    skater ::statsmanager_clearlastaircomboscore
    begin 
    printf 'AIR Combo Working============='
    skater ::statsmanager_getlastaircomboscore
    if (<last_air_combo_score> > 4999)
        printf 'Air combo wim'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps20 got_3 1
        <Team_Goals> = 0
        if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_1
            <Team_Goals> = (<Team_Goals> + 1)
        endif
        if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_2
            <Team_Goals> = (<Team_Goals> + 1)
        endif
        if GoalManager_GoalFlagSet name = BE_Goal_Gaps20 flag = got_3
            <Team_Goals> = (<Team_Goals> + 1)
        endif
        switch <Team_Goals>
            case 0
            printf '0'
            case 1
            create_panel_message {text = '1 of 3 team stunts' style = goal_collect_text}
            case 2
            create_panel_message {text = '2 of 3 team stunts' style = goal_collect_text}
            default 
        endswitch
        break 
    endif
    wait 1 gameframe
    repeat 
endscript


script BE_Ammo 
    Obj_ClearExceptions
    setup_ped_speech {ped_id = <name>
        accept_text = 'Press \m5 to pick up PaintCans'
        activation_script = BE_Ammo_Got
        dont_deactivate_goals
    }
endscript


script BE_Ammo_Got 
    give_skater_ammo num = 10 type = paintcan
    if ScreenElementExists id = ped_speech_dialog
        DestroyScreenElement id = ped_speech_dialog
    endif
    UnpauseSkaters
endscript


script BE_Goal_Natas_Success 
    Kill name = TRG_Ped_Natas
    Kill name = TRG_Natas_Dummy
endscript


script BE_Natas_Check 
    ClearExceptionGroup Natas
    GetTriggerArray spin onto
    printf 'natas check'
    if triggertype <trigger_array>
        printf 'jump onto'
        SetException Ex = SkaterJump scr = BE_Natas_Done
        SetException Ex = SkaterBailed scr = BE_Natas_Done
        SetException Ex = SkaterEnterAir scr = BE_Natas_Done
        printf 'Natas for 3'
        broadcastevent type = NatasFor3
    endif
endscript


script BE_Natas_Done 
    printf 'Natas done'
endscript


script BE_WaitForNatas 
    printf 'Wait for Natas is created'
    ClearExceptionGroup Natas
    WaitForEvent type = NatasFor3
    GoalManager_SetGoalFlag name = BE_Goal_Gaps4 got_1 1
    WaitForEvent type = NatasFor3
    GoalManager_SetGoalFlag name = BE_Goal_Gaps4 got_2 1
    WaitForEvent type = NatasFor3
    GoalManager_SetGoalFlag name = BE_Goal_Gaps4 got_3 1
endscript


script BE_Projectile_Wait 
    ClearExceptionGroup projectile
    printf 'BE_Projectile_Wait'
    SetException Ex = PedHitByProjectile scr = BE_Projectile_Check group = projectile
    Block
endscript


script BE_Projectile_Check 
    ClearExceptionGroup projectile
    printf 'BE_Projectile_Check'
    switch projectile_last_ped_id
        case TRG_Rival_Tagger_01
        printf 'Rival tagger hit 01'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps6 got_1 1
        case TRG_Rival_Tagger_02
        printf 'Rival tagger hit 02'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps6 got_2 1
        case TRG_Rival_Tagger_03
        printf 'Rival tagger hit 03'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps6 got_3 1
        case TRG_Rival_Tagger_04
        printf 'Rival tagger hit 04'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps6 got_4 1
        case TRG_Rival_Tagger_05
        printf 'Rival tagger hit 05'
        GoalManager_SetGoalFlag name = BE_Goal_Gaps6 got_5 1
        default 
        printf 'default'
    endswitch
    goto BE_Projectile_Wait
endscript


script BE_CopHat_Dummy 
    Obj_ClearExceptions
    obj_locktoobject objectname = <Cop> (0.0, 75.0, 0.0)
    obj_setinnerradius 3
    Obj_SetException Ex = objectinradius scr = BE_CopHat_FireCheck params = <...> 
endscript


script BE_CopHat_FireCheck 
    Obj_ClearExceptions
    if GetFlag flag = FLAG_BE_SKATER_IS_ON_FIRE
        if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps5
            broadcastevent type = HatOnFire
            SpawnSound BE_SFX_CopHatOnFire
            CreateFlexibleParticleSystem {
                ObjID = <Cop>
                name = BurningHead
                params_script = APM_flaming_HEAD_particle_params
            }
            <Cop> ::Ped_SetLogicState BE_STATE_Cop_OnFire table = BE_CopLogic_Table
            wait 25 seconds
            broadcastevent type = HatNotOnFire
            obj_stopsound SK6_BO_FireLoop
            DestroyFlexibleParticleSystem {
                name = BurningHead
                ObjID = <Cop>
            }
        endif
    endif
    GotoPreserveParams BE_CopHat_Dummy
endscript


script BE_CopHat_Counter 
    ClearExceptionGroup CopHat
    SetException Ex = HatOnFire scr = BE_CopHat_Counter1 group = CopHat
    printf '0 on fire'
    Block
endscript


script BE_CopHat_Counter1 
    ClearExceptionGroup CopHat
    SetException Ex = HatOnFire scr = BE_CopHat_Counter2 group = CopHat
    SetException Ex = HatNotOnFire scr = BE_CopHat_Counter group = CopHat
    printf '1 on fire'
    Block
endscript


script BE_CopHat_Counter2 
    ClearExceptionGroup CopHat
    SetException Ex = HatOnFire scr = BE_CopHat_Counter3 group = CopHat
    SetException Ex = HatNotOnFire scr = BE_CopHat_Counter1 group = CopHat
    printf '2 on fire'
    Block
endscript


script BE_CopHat_Counter3 
    ClearExceptionGroup CopHat
    printf '3 on fire'
    GoalManager_SetGoalFlag name = BE_Goal_Gaps5 got_1 1
endscript


script BE_Initailizer 
    if GameModeEquals is_career
        Create name = TRG_Ped_Paulie01
        Create name = TRG_Ped_Phil
        Create name = TRG_Ped_Bam01
        Create name = g_church_main_door01
        Create prefix = 'g_neue_glass_PreSecret_'
        Create name = g_neue_glass_PreSecret_11a_wood
        Create name = g_neue_glass_PreSecret_11b_wood
        Create name = g_Neue_roof_shadow_01_killb
        Create name = g_Neue_roof_shadow_01_killa
        Create name = Trg_Ped_Hint_Ladder
        Create name = Trg_Ped_Hint_Mural
        Create name = TRGP_HighComboEnter
        Create name = TRGP_HighComboExit
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps2
            Create name = TRG_Ped_Tagger
        else
            if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps2
                Create name = TRG_Tagger_New
            endif
        endif
        if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps11
            if GoalManager_HasWonGoal name = BE_Goal_Gaps11
                Create prefix = 'SPAT_COVER_'
            else
                Create prefix = 'g_billboard_g_spit_'
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps4
            if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps4
                if NOT IsAlive TRG_Natas_Dummy
                    Create name = TRG_Natas_Dummy
                    Create name = TRG_Ped_Natas
                endif
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps15
            if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps15
                if NOT IsAlive Trg_Ped_Hint_Rocket
                    Create name = Trg_Ped_Hint_Rocket
                endif
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps16
            if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps16
                if NOT IsAlive Trg_Ped_Hint_Barf
                    Create name = Trg_Ped_Hint_Barf
                endif
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_SkateTheLine
            if NOT GoalManager_GoalIsLocked name = BE_Goal_SkateTheLine
                if NOT IsAlive Trg_Ped_Hint_Line
                    Create name = Trg_Ped_Hint_Line
                endif
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps20
            if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps20
                if NOT IsAlive TRG_Plane_01
                    Create prefix = 'TRG_Plane_'
                    Create prefix = 'g_g_manual_cones_'
                    Create prefix = 'TRGP_Paulie_Manual_'
                endif
            endif
        endif
        if GoalManager_HasWonGoal name = BE_Goal_Gaps14
            Create prefix = 'TRG_Dalek_'
            Create prefix = 'TRG_Dalek_Way_'
            Create name = TRG_MC_Dalek01
            Create name = TRG_MC_Dalek01_COL
            Create name = TRG_MC_DalekTalk
            g_neue_secret_closed_02a ::obj_roty Angle = 80 Speed = 87
            g_neue_secret_closed_02b ::obj_roty Angle = -80 Speed = 87
            g_neue_secret_closed_02c ::obj_roty Angle = 80 Speed = 87
            g_neue_secret_closed_02d ::obj_roty Angle = -80 Speed = 87
        else
            Create name = G_NeueFront_Col
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps8
            if NOT IsAlive Trg_HintPed_FishTank
                Create name = Trg_HintPed_FishTank
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps
            if NOT IsAlive Trg_Ped_Hint_Owned
                Create name = Trg_Ped_Hint_Owned
            endif
        endif
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps6
            if NOT GoalManager_GoalIsLocked name = BE_Goal_Gaps6
                if NOT IsAlive TRG_Projectile_Dummy
                    Create name = TRG_Projectile_Dummy
                endif
            endif
        endif
        if GoalManager_HasWonGoal name = BE_Goal_Gaps13
            Kill name = TRG_Ped_Paulie01
            Kill name = TRGP_PaulieSwitch
            Create name = TRG_Paulie_New
        endif
        if GoalManager_HasWonGoal name = BE_Goal_Gaps12
            Create name = BE_AS_MasterPiece_final01
        endif
    else
        g_neue_secret_closed_02a ::obj_roty Angle = 80 Speed = 87
        g_neue_secret_closed_02b ::obj_roty Angle = -80 Speed = 87
        g_neue_secret_closed_02c ::obj_roty Angle = 80 Speed = 87
        g_neue_secret_closed_02d ::obj_roty Angle = -80 Speed = 87
        Kill name = TRG_Focus_Dummy
        if GoalManager_HasWonGoal name = BE_classic_goal_collect
            Create name = TRG_Dalek_01
            Create prefix = 'TRG_Dalek_Way_'
        endif
    endif
    if IsAlive name = APM_FirePIPE_dummy
        Create name = g_church_pipe_flame_glo01
    endif
endscript


script BE_FishTankHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_HintPed_FishTank
        accept_text = 'Press \m5 to talk.'
        hint_text = 'That fish could swallow ME! I bet if you hit the glass hard enough, it could break...'
        hint_text_time = 15
        vo = BE_PedPro_Weeman_VO
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_OwnedHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_Ped_Hint_Owned
        accept_text = 'Press \m5 to talk.'
        hint_text = 'I\'ve been trying to lip on those letters all day. Maybe you can do it'
        hint_text_time = 15
        vo = BE_Ped_Hint_Owned_VO
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_RocketHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_Ped_Hint_Rocket
        accept_text = 'Press \m5 to talk.'
        hint_text = 'I bet that this fan can give you enough air to ACID DROP on the Galleria qp on that roof.\nThat would give you enough speed to transfer over the satellites.'
        hint_text_time = 15
        vo = BE_Ped_Hint_Rocket_VO
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_SkateTheLineHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_Ped_Hint_Line
        accept_text = 'Press \m5 to talk.'
        hint_text = 'These stairs would be a good place to start a line.'
        hint_text_time = 15
        vo = BE_Ped_Hint_Line_VO
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_LadderGrabHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_Ped_Hint_Ladder
        accept_text = 'Press \m5 to talk.'
        hint_text = 'If you want to grab that ladder, go up this qp and in the air get off your board(\mm) then grab the ladder(\bf).\nYou can grind the ladder on the ground to get more speed.'
        hint_text_time = 15
        vo = BE_Ped_Hint_Ladder_Vo
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_MuralHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_Ped_Hint_Mural
        accept_text = 'Press \m5 to talk.'
        hint_text = 'There was once a beautiful mural here. I bet a good artist could bring it back.'
        hint_text_time = 15
        vo = BE_Ped_Hint_Mural_Vo
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_NatasHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = TRG_Ped_Natas
        accept_text = 'Press \m5 to talk.'
        hint_text_time = 15
        vo = BE_Ped_Natas_VO
        volume = 250
        inner_radius = 8
        outer_radius = 30
        activation_script = BE_NatasSpin
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_BarfHint 
    Ped_Utils_SetupHintSpeech {
        ped_id = Trg_Ped_Hint_Barf
        accept_text = 'Press \m5 to talk.'
        hint_text = [ 'Get special and Grind N Barf to piss of the security guards'
         ]
        hint_text_time = 15
        vo = BE_Ped_Hint_Barf_Vo
        volume = 250
        inner_radius = 8
        outer_radius = 30
        dont_deactivate_goals
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention
endscript


script BE_Phil 
    Obj_ClearExceptions
    setup_ped_speech {ped_id = TRG_Ped_Phil
        activation_script = ChapterAdvanceDialog
        accept_text = 'Phil press \m5 to talk'
        inner_radius = 8
        outer_radius = 30
    }
    obj_setattentionradius 40
    Ped_InitAI stand fall GetAttention default_Fat_anim_assets
endscript


script BE_NatasSpin 
    UnpauseSkaters
    TRG_Ped_Natas ::obj_stopstream BE_Ped_Natas_VO
    TRG_Ped_Natas ::obj_playstream BE_Ped_Natas_VO vol = GlobalGoalVOVol dropoff = GlobalHintVODropoff priority = 101
    create_panel_block {id = Natas_Text
        text = [ 'Hey what\'s up, sure I\'ll show an old pro trick.'
        '\nIt\'s my signature move, The Natas Spin (\bf + \b0).\nTo do it, Ollie on to a pole or fire hydrant spin, and keep your balance.'
         ]
        style = panel_message_goal
    }
    printf 'Natas Spin Called'
    SpawnScript BE_NatasSpinFlash params = { ObjName = g_pole02 }
    SpawnScript BE_NatasSpinFlash params = { ObjName = g_pole03 }
    SpawnScript BE_NatasSpinFlash params = { ObjName = g_pole04 }
    SpawnScript BE_NatasSpinFlash params = { ObjName = g_pole09 }
    wait 9 seconds
    if ObjectExists id = Natas_Text
        RunScriptOnScreenElement id = Natas_Text kill_panel_message
    endif
endscript


script BE_NatasSpinFlash 
    printf 'Natas Spin Flash Called'
    begin 
    setobjectcolor name = <ObjName> color = 10506320
    wait 10 frames
    setobjectcolor name = <ObjName> color = 9195600
    wait 10 frames
    setobjectcolor name = <ObjName> color = 7884880
    wait 10 frames
    setobjectcolor name = <ObjName> color = 6574160
    wait 10 frames
    setobjectcolor name = <ObjName> color = 5263440
    wait 10 frames
    setobjectcolor name = <ObjName> color = 6574160
    wait 10 frames
    setobjectcolor name = <ObjName> color = 7884880
    wait 10 frames
    setobjectcolor name = <ObjName> color = 9195600
    wait 10 frames
    repeat 25
    goto BE_NatasSpinFlash_Kill
endscript


script BE_NatasSpinFlash_Kill 
    printf 'Natas Spin Kill Called'
    KillSpawnedScript name = BE_NatasSpinFlash
    SetObjectColor_CurrentTOD name = g_pole02
    SetObjectColor_CurrentTOD name = g_pole03
    SetObjectColor_CurrentTOD name = g_pole04
    SetObjectColor_CurrentTOD name = g_pole09
endscript


script BE_SwitchSkaters 
    KillSpawnedScript name = BE_Spawn_SwitchSkaters
    SpawnSkaterScript BE_Spawn_SwitchSkaters
endscript


script BE_Spawn_SwitchSkaters 
    Kill prefix = 'TRG_Ped_Gurney'
    pulse_blur
    swap_skaters_get_current_name
    switch <name>
        case custom
        GoalManager_DeactivateGoal name = BE_Goal_HighCombo2
        Takeover_VO
        case GraffitiTagger
        SetGlobalFlag flag = GUEST_FOUND_GRAFFITITAGGER
        SetGlobalFlag flag = SKATER_UNLOCKED_GRAFFITITAGGER
        Be_UnlockTaggerGoals
        case pro_teammate
        SetGlobalFlag flag = PRO_FOUND_03
        Be_UnlockBamGoals
        case Paulie
        SetGlobalFlag flag = GUEST_FOUND_PAULIE
        Be_UnlockPaulieGoals
        default 
    endswitch
endscript


script BE_Ped_Tagger 
    if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps2
        GoalManager_SetGoalFlag name = BE_Goal_Gaps2 got_1 1
    endif
endscript


script BE_Ped_Paulie 
    if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps13
        GoalManager_SetGoalFlag name = BE_Goal_Gaps13 got_1 1
        printf 'Get paulie mofo========'
    endif
endscript


script BE_Clean_Checker 
    ClearExceptionGroup BE_Clean_Checker
    SetException Ex = SkaterEnterFocus scr = BE_Clean_Focus group = BE_Clean_Checker
    printf 'BE_Clean_Checker'
    Block
endscript


script BE_Clean_Focus 
    ClearExceptionGroup BE_Clean_Checker
    SetException Ex = SkaterExitFocus scr = BE_Clean_Checker group = BE_Clean_Checker
    SetException Ex = SkaterLandedClean scr = BE_Clean_Land group = BE_Clean_Checker
    printf 'BE_Clean_Focus'
    Block
endscript


script BE_Clean_Land 
    ClearExceptionGroup BE_Clean_Checker
    SetException Ex = SkaterExitCombo scr = BE_Clean_Land_Score group = BE_Clean_Checker
    Block
endscript


script BE_Clean_Land_Score 
    ClearExceptionGroup BE_Clean_Checker
    printf 'BE_Clean_Land'
    GoalManager_GetDifficultyLevel
    switch <difficulty_level>
        case 0
        if SkaterLastScoreLandedGreaterThan BE_Gap3_Easy
            printf '1000+'
            if GoalManager_GoalFlagSet name = BE_Goal_Gaps3 flag = got_1
                if GoalManager_GoalFlagSet name = BE_Goal_Gaps3 flag = got_2
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_3 1
                    Die
                else
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_2 1
                endif
            else
                GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_1 1
            endif
        endif
        case 1
        if SkaterLastScoreLandedGreaterThan BE_Gap3_Normal
            printf '1000+'
            if GoalManager_GoalFlagSet name = BE_Goal_Gaps3 flag = got_1
                if GoalManager_GoalFlagSet name = BE_Goal_Gaps3 flag = got_2
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_3 1
                    Die
                else
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_2 1
                endif
            else
                GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_1 1
            endif
        endif
        case 2
        if SkaterLastScoreLandedGreaterThan BE_Gap3_Hard
            printf '1000+'
            if GoalManager_GoalFlagSet name = BE_Goal_Gaps3 flag = got_1
                if GoalManager_GoalFlagSet name = BE_Goal_Gaps3 flag = got_2
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_3 1
                    Die
                else
                    GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_2 1
                endif
            else
                GoalManager_SetGoalFlag name = BE_Goal_Gaps3 got_1 1
            endif
        endif
    endswitch
    goto BE_Clean_Checker
endscript


script BE_Car 
    Car_Generic01 StickToGround TurnDist = 10 DefaultSpeed = 35
endscript


script BE_OutOfBounds 
    switch <name>
        case Tunnel
        Sk3_KillSkater nodeName = trg_tunnel_restart
        case checkpoint
        Sk3_KillSkater nodeName = trg_church_phil_restart02
        case Victory
        Sk3_KillSkater nodeName = trg_victory_restart
        case BlockedRoad
        Sk3_KillSkater nodeName = trg_blockedroad_restart
        case Alley
        Sk3_KillSkater nodeName = trg_alley_restart
        case ChurchZoo
        Sk3_KillSkater nodeName = trg_church_zoo_restart01
        case ChurchPhil
        Sk3_KillSkater nodeName = trg_church_phil_restart01
        case ZooRoof
        Sk3_KillSkater nodeName = trg_victory_restart
    endswitch
endscript


script BE_CreateCars 
endscript


script BE_CreatePeds 
endscript

FLAG_BE_TrainLip01 = 1
FLAG_BE_TrainLip02 = 2
FLAG_BE_LedgeLeft = 3
FLAG_BE_LedgeRight = 4
FLAG_BE_Church2Phil01 = 5
FLAG_BE_Church2Phil02 = 6
FLAG_BE_OWNED_D = 7
FLAG_BE_OWNED_Z = 8
FLAG_BE_OWNED_K = 9
FLAG_BE_SKATER_IS_ON_FIRE = 10
FLAG_BE_MURAL01 = 11
FLAG_BE_MURAL02 = 12
FLAG_BE_MURAL03 = 13
FLAG_BE_MURAL04 = 14
FLAG_BE_MURAL05 = 15
FLAG_BE_MURAL06 = 16
FLAG_BE_MURAL07 = 17
FLAG_BE_MURAL08 = 18
FLAG_BE_MUSICSMASH = 19
FLAG_BE_LEDGE01 = 20
FLAG_BE_LEDGE02 = 21
FLAG_BE_LEDGE03 = 22
FLAG_BE_PAULIEGRIND = 23
FLAG_BE_EVENT_DONE = 24

script BE_BarrelShatter01 
    if NOT InNetGame
        SpawnScript BE_SFX_Break_Wooden_Barrel
        ShatterAndDie {
            name = <name>
            area = 2000
            texture_swap = jow_be_barrelshatter01
            variance = 1.0
            spread = 1.500
            life = 4
            Bounce = 0
            Scale = 1
            shatter_scale = 3.0
            vel_x = 0
            vel_y = 60
            vel_z = 0
        }
        Kill name = g_pub_barrel_01_shadow
        GetBonus Score = 1000 text = 'Barrel Smash'
        if NOT InMultiPlayerGame
            CreateFastParticleSystem name = JOW_BE_PubBarrels01 params_script = JOW_BE_PubBarrels01_fast_particle_params
            if NOT IsAlive name = JOW_PubBarrelRing01
                Create name = JOW_PubBarrelRing01
                JOW_PubBarrelRing01 ::rigidbody_kick vel = (0.0, 0.0, 0.0)
            endif
            if NOT IsAlive name = JOW_PubBarrelRing02
                Create name = JOW_PubBarrelRing02
                JOW_PubBarrelRing02 ::rigidbody_kick vel = (0.0, 0.0, 0.0)
            endif
            if NOT IsAlive name = JOW_PubBarrelRing03
                Create name = JOW_PubBarrelRing03
                JOW_PubBarrelRing03 ::rigidbody_kick vel = (0.0, 0.0, 0.0)
            endif
        endif
    endif
endscript


script BE_BarrelShatter02 
    if NOT InNetGame
        SpawnScript BE_SFX_Break_Wooden_Barrel02
        ShatterAndDie {
            name = <name>
            area = 2000
            texture_swap = jow_be_barrelshatter01
            variance = 1.0
            spread = 1.500
            life = 4
            Bounce = 0
            Scale = 1
            shatter_scale = 3.0
            vel_x = 0
            vel_y = 60
            vel_z = 0
        }
        GetBonus Score = 1000 text = 'Barrel Smash'
        Kill name = g_pub_barrel_02_shadow
        if NOT InMultiPlayerGame
            CreateFastParticleSystem name = JOW_BE_PubBarrels02 params_script = JOW_BE_PubBarrels02_fast_particle_params
            if NOT IsAlive name = JOW_PubBarrelRing04
                Create name = JOW_PubBarrelRing04
                JOW_PubBarrelRing04 ::rigidbody_kick vel = (0.0, 0.0, 0.0)
            endif
            if NOT IsAlive name = JOW_PubBarrelRing05
                Create name = JOW_PubBarrelRing05
                JOW_PubBarrelRing05 ::rigidbody_kick vel = (0.0, 0.0, 0.0)
            endif
            if NOT IsAlive name = JOW_PubBarrelRing06
                Create name = JOW_PubBarrelRing06
                JOW_PubBarrelRing06 ::rigidbody_kick vel = (0.0, 0.0, 0.0)
            endif
        endif
    endif
endscript


script BE_NeueGlassShater 
    printf 'Shatter the mofo--------------------'
    ShatterAndDie {name = <name>
        area = 2000
        texture_swap = ba_apm_brokenglass01
        variance = 0.8000
        spread = 0.5000
        life = 1.0
        Bounce = 0
        vel_x = 0.5000
        vel_y = -100
        vel_z = 0.5000
    }
    playsound HitGlassPane2x vol = 200 pitch = Random (@ 80 @ 85 @ 90) dropoff = 180
    printf 'Done Shatter the mofo--------------------'
    if NOT IsAlive name = g_neue_glass_PreSecret_051
        Kill name = g_Neue_roof_shadow_01_killb
    endif
    if NOT IsAlive name = g_neue_glass_PreSecret_021
        Kill name = g_Neue_roof_shadow_01_killa
    endif
    KillAllTextureSplats box = {height = 30 dist = 120 width = 120 Offset = (160.0, 25.0, -20.0)}
endscript


script BE_Street_Lights 
    begin 
    Kill name = D_SlowDown
    Create name = C_Go_Stop
    wait 15 seconds
    Kill name = A_Go_Stop
    Create name = B_SlowDown
    wait 3 seconds
    Kill name = B_SlowDown
    Create name = A_Go_Stop
    wait 15 seconds
    Kill name = C_Go_Stop
    Create name = D_SlowDown
    wait 3 seconds
    repeat 
endscript


script BE_TrainLip02 
    if NOT InMultiPlayerGame
        GetTriggerArray array = [{ grind Off }{ lip Off }]
        if triggertype <trigger_array>
            Kill name = g_Train_Main_shadow_before
            Create name = g_Train_Main_shadow_after
            printf 'Kill lights'
            g_train_sign_Break ::obj_rotate absolute = (0.0, 0.0, -22.0) time = 1 second
            GetBonus text = 'Holy S&!t' Score = 10000
            play_cutscene name = 'cutscenes\BE_LevelEvent.cut'
            wait 1 second
        endif
    endif
endscript


script BE_Train_Event_out 
    printf 'Post Level Event'
    Kill name = g_neue_neon_07_event
    Kill name = g_neue_neon_08_event
    Kill name = g_neue_neon_09_event
    Kill name = g_neue_neon_10_event
    Kill prefix = 'TRG_Night_Levellight_06_pub_'
    TODManager_MarkPermanentlyDead prefix = 'TRG_Night_Levellight_06_pub_'
    Kill prefix = 'NightOn_06_g_pub_light_glo_'
    TODManager_MarkPermanentlyDead prefix = 'NightOn_06_g_pub_light_glo_'
    Kill prefix = 'trg_Event_rail_before'
    Kill prefix = 'g_event_Before'
    Kill name = g_pub_bier_sign_01
    Kill prefix = 'trg_train_lipB'
    Kill name = g_train_sign_lip03
    Kill name = g_particle_steam_A_02
    Kill name = g_train_sign_pipe_brace01
    Kill name = g_train_sign_lip03_shadow
    printf 'Kill g_pub_light_01 ========================================'
    Kill name = g_pub_light_01
    Kill name = NightOn_06_g_pub_light_02
    TODManager_MarkPermanentlyDead name = NightOn_06_g_pub_light_02
    Kill name = DefaultOn_g_pub_light_03
    Kill prefix = 'g_pub_sign_'
    Kill name = g_pub_bier_sign_bar_01
    Kill name = g_pub_sign_01_shadow
    Kill name = g_pub_sign_02_shadow
    Kill name = g_pub_shadow_03
    Kill prefix = 'Trg_car'
    Kill prefix = 'Trg_carPath'
    Kill prefix = 'Trg_PedDrunk_Pre'
    Kill prefix = 'Trg_PedDrunk_Way_Pre_'
    Kill name = TRG_SFX_TrigBox_LG_PubMusic
    Kill name = TRG_SFX_TrigBox_LG_PubMusicOff
    Kill name = TRG_SFX_TrigBox_MS_SmallPub
    Kill name = TRG_SFX_TrigBox_BrokenPubTap
    Kill name = TRG_SFX_TrigBox_BrokenPubElectric
    Kill name = TRG_SFX_TrigBox_BrokenPipeTrainWall
    Create name = TRG_SFX_TrigBox_BrokenPubTap
    Create name = TRG_SFX_TrigBox_BrokenPubElectric
    Create name = TRG_SFX_TrigBox_BrokenPipeTrainWall
    Create prefix = 'g_event_Destroyed_crack'
    Kill prefix = 'Trg_PedDrunk_Way_Post_'
    Create prefix = 'Trg_PedDrunk_Post'
    Create name = g_event_After_Destroyed_column01
    Create name = g_event_After_Destroyed_column02
    Create prefix = 'g_destroy_qp_chip'
    Create prefix = 'trg_Event_rail_after'
    Create name = g_destroyed_pub_wire_01
    Create name = Particle_pub_spark_01
    Create name = g_event_rubble_01
    Create name = g_destroyed_int_pub_shdw02
    Create prefix = 'g_event_After_'
    Create name = g_particle_steam_A_01
    Create name = g_particle_pub_dust_A_01
    Create prefix = 'g_destroyed_int_pub_light_glo_'
    Create prefix = 'g_destroyed_int_pub'
    Create name = g_destroyed_int_pub_shdw01
    Create prefix = 'g_destroyed_int_pub_bottles_'
    Create name = g_destroyed_int_pub_shelf01
    Create prefix = 'g_destroyed_int_pub_bar_'
    Create name = g_destroyed_main_pub
    Create prefix = 'trg_CarPath_PostTrain'
    Create prefix = 'trg_Car_PostTrain'
    Create prefix = 'apm_ColumnSpark'
    Create name = g_event_After_14_shadow
    Create prefix = 'g_destroyed_int_pub_glass_'
    Create name = g_pub_floor_01
    SpawnScript SK6_Music_Fade_In
    change StaticMusicBoxState = Off
    Kill name = TRG_SFX_TrigBox_LG_PubMusic
    wait 1 gameframe
    change OutterBoxesExist = 0
    Kill name = TRG_SFX_TrigBox_LG_PubMusicOff
    SetFlag flag = FLAG_BE_EVENT_DONE
endscript


script BE_TrainLip03 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        GetTriggerArray array = [{ lip Off }{ grind Off }]
        if triggertype <trigger_array>
            if IsAlive name = Bldg_smoke_01
            else
                printf 'WTF+++++++++++++01'
                SpawnScript BE_SFX_BreakSignDown02
                GoalManager_SetGoalFlag name = BE_Goal_Gaps10 got_1 1
                Kill prefix = 'trg_train_lipC'
                Kill name = g_train_sign_lip03A
                g_train_sign_lip03A_glass ::obj_movetorelpos (0.0, -175.0, 0.0) time = 1 second
                ShatterAndDie name = g_train_sign_lip03A_glass
                Create prefix = 'trg_train_lipCA'
                Create name = g_train_sign_lip03B
                Create name = Bldg_smoke_01
                wait 2 seconds
                StopParticleObject name = Bldg_smoke_01 isemitting = 2
                wait 2 seconds
                Kill name = Bldg_smoke_01
            endif
        endif
    endif
endscript


script BE_TrainLip04 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        GetTriggerArray array = [{ lip Off }{ grind Off }]
        if triggertype <trigger_array>
            if IsAlive name = Bldg_smoke_18
            else
                SpawnScript BE_SFX_BreakSignDown01
                GoalManager_SetGoalFlag name = BE_Goal_Gaps10 got_2 1
                printf 'WTF+++++++++++++01'
                Kill prefix = 'trg_train_lipD'
                Kill name = g_train_sign_lip03A01
                g_train_sign_lip03A_glass01 ::obj_movetorelpos (0.0, -175.0, 0.0) time = 1 second
                ShatterAndDie name = g_train_sign_lip03A_glass01
                Create prefix = 'trg_train_lipE'
                Create name = g_train_sign_lip03B01
                Create name = Bldg_smoke_18
                wait 1 second
                StopParticleObject name = Bldg_smoke_18 isemitting = 1
                wait 1 second
                Kill name = Bldg_smoke_18
            endif
        endif
    endif
endscript


script BE_Fish 
    if NOT InNetGame
        obj_setpathacceleration 2 mphps
        obj_setpathdeceleration 2 mphps
        obj_pathheading on
        obj_setpathminstopvel 5
        obj_setpathvelocity 2 mph
        obj_setpathturndist 8
        obj_followpathlinked
    endif
endscript


script BE_FishtankStage01 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        Kill name = g_zoo_fishtank01
        Create name = g_zoo_fishtank02
        Create name = g_zoo_fishtank02_ShatteringGlass01
        CreateFastParticleSystem name = apm_tankspray01 params_script = apm_BE_fishtank02_fast_particle_params
        apm_tankspray01 ::obj_setposition position = (-2756.0, 214.0, -1932.0)
        SpawnScript SK6_BE_SFX_TankCracking
    endif
endscript


script BE_FishtankStage02 time = 5 seconds
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        GoalManager_SetGoalFlag name = BE_Goal_Gaps8 got_1 1
        KillAllTextureSplats box = {height = 20 dist = 20 width = 20 Offset = (-233.0, 17.0, -170.0)}
        GetBonus Score = 1000 text = 'THUG Life'
        DestroyFastParticleSystem name = apm_tankspray01
        Kill name = g_zoo_fishtank02
        Kill name = g_zoo_fishtank02_ShatteringGlass01
        Kill name = Trg_HintPed_FishTank
        SpawnScript SK6_BE_SFX_TankBreakingOpen
        Create name = g_zoo_fishtank02_ShatteringGlass
        SpawnScript BE_FishTankShatter
        Create name = g_zoo_waterrush01
        Create name = g_zoo_water
        SpawnScript BE_FishTank_Water
        Create name = g_zoo_waterrush03
        wait 15 frames
        g_zoo_water ::obj_movetorelpos (0.0, 13.0, 0.0) time = <time>
        Kill name = Jose_Flores_Fish
        wait 7 seconds
        wait 3 seconds
        Kill name = g_zoo_waterrush01
        wait 3 seconds
        KillSpawnedScript name = BE_FishTank_Water
        KillSpawnedScript name = BE_FishTankShatter
        Create name = g_zoo_water_wave
    endif
endscript


script BE_FishTankShatter 
    ShatterAndDie {name = g_zoo_fishtank02_ShatteringGlass
        area = 2000
        texture_swap = ba_apm_brokenglass01
        variance = 1.0
        spread = 1.0
        life = 6
        Bounce = 1
        Scale = 1.0
        vel_x = 30
        vel_y = 30
        vel_z = 200
    }
endscript


script BE_FishTank_Water 
    Create name = g_zoo_waterrush
    Create name = apm_tankfx_01
    apm_tankfx_01 ::obj_movetorelpos (0.0, -200.0, 0.0) time = 13 seconds
    CreateFastParticleSystem name = Water01 params_script = apm_BE_fishtank01_fast_particle_params attachobjid = apm_tankfx_01
    wait 3 seconds
    Kill name = g_zoo_waterrush
    wait 7 seconds
    DestroyFastParticleSystem name = Water01 attachobjid = apm_tankfx_01
    Kill name = apm_tankfx_01
endscript


script BE_PipeFire01 
    if NOT InMultiPlayerGame
        SpawnSkaterScript Fire_On
    endif
endscript


script Fire_On 
    get_current_skater_name
    if (<name> = Paulie)
    else
        if GetFlag flag = FLAG_BE_SKATER_IS_ON_FIRE
        else
            SetFlag flag = FLAG_BE_SKATER_IS_ON_FIRE
            GetBonus text = 'Great Balls of fire' Score = 25
            SpawnScript BE_SFX_Skater_On_Fire
            CreateFlexibleParticleSystem name = BurnMoFo params_script = APM_flamingBOARD_particle_params
            CreateFlexibleParticleSystem name = Firepoof01 params_script = apm_BE_fire_poof01_particle_params
            Firepoof01 ::obj_setposition position = (-2598.0, 88.0, 299.0)
            wait 5 seconds
            DestroyFlexibleParticleSystem name = Firepoof01
            wait 20 seconds
            UnSetFlag flag = FLAG_BE_SKATER_IS_ON_FIRE
            skater ::obj_stopsound SK6_BO_FireLoop
            SpawnSkaterScript Fire_Off
        endif
    endif
endscript


script BE_Fire_Off 
    skater ::obj_stopsound SK6_BO_FireLoop
    UnSetFlag flag = FLAG_BE_SKATER_IS_ON_FIRE
    SpawnSkaterScript Fire_Off
endscript


script Fire_Off 
    DestroyFlexibleParticleSystem name = BurnMoFo
    printf 'Kill Fire'
endscript


script BE_PipeWater 
    if NOT InNetGame
        if IsAlive name = g_fountain_waterSplash01
        else
            SpawnScript BE_SFX_BreakPipeNearAssfart
            Create name = g_fountain_waterSplash01
        endif
    endif
endscript


script BE_PhilTele 
    TeleportSkaterToNode nodeName = trg_philTele_restart orient
endscript


script BE_PhilTele01 
    TeleportSkaterToNode nodeName = trg_philTele_restart01 orient
endscript


script Be_Pigeon 
    obj_shadowoff
    Obj_ClearExceptions
    Obj_SetException Ex = objectinradius scr = Be_Pigeon_Fly
    obj_setinnerradius 15
    begin 
    SpawnSound BE_SFX_Pigeons_Idle
    Obj_CycleAnim anim = PeckFromIdle
    Obj_CycleAnim anim = Peck numCycles = Random (@ 1 @ 2 @ 3)
    Obj_CycleAnim anim = PeckToIdle
    Obj_CycleAnim anim = Preen numCycles = Random (@ 1 @ 2 @ 3)
    repeat 
endscript


script Be_Pigeon_Fly 
    Obj_ClearExceptions
    Obj_PlayAnim anim = Fly Cycle
    SpawnSound BE_SFX_Pigeons_FlyUp
    obj_movetorelpos (0.0, 200.0, 0.0) Speed = 10 acceleration = 2
    Obj_WaitMove
    Obj_SetException Ex = objectoutofradius scr = Be_Pigeon_Return
    obj_setouterradius 20
endscript


script Be_Pigeon_Return 
    Obj_ClearExceptions
    Obj_PlayAnim anim = Fly Cycle
    obj_movetorelpos (0.0, -200.0, 0.0) Speed = 8 acceleration = 2
    Obj_WaitMove
    goto Be_Pigeon
endscript


script BE_Bat_Test 
    SpawnSound BE_SFX_Bats_Loop
    obj_shadowoff
    Obj_PlayAnim anim = Fly Cycle
    obj_setpathacceleration 10 mphps
    obj_setpathdeceleration 10 mphps
    obj_setpathminstopvel 5
    obj_setpathvelocity 10 mph
    obj_setpathturndist 12
    obj_followpathlinked
endscript


script BE_Bat_Follow 
    if GotParam Bat01
        obj_shadowoff
        Obj_PlayAnim anim = Fly Cycle
        obj_locktoobject (12.0, 0.0, -25.0) objectname = TRG_Bat_01
    else
        if GotParam Bat02
            obj_shadowoff
            Obj_PlayAnim anim = Fly Cycle
            obj_locktoobject (-12.0, 0.0, -36.0) objectname = TRG_Bat_01
        else
            if GotParam Bat03
                obj_shadowoff
                Obj_PlayAnim anim = Fly Cycle
                obj_locktoobject (-12.0, 0.0, -12.0) objectname = TRG_Bat_01
            else
                if GotParam Bat04
                    obj_shadowoff
                    Obj_PlayAnim anim = Fly Cycle
                    obj_locktoobject (12.0, 0.0, 12.0) objectname = TRG_Bat_01
                else
                    if GotParam Ghost
                        obj_locktoobject (12.0, 0.0, 12.0) objectname = TRG_Bat_01
                    endif
                endif
            endif
        endif
    endif
endscript


script BE_FountainWarp01 
    TeleportSkaterToNode nodeName = trg_fountain_warpUP
endscript


script BE_FountainWarp02 
    TeleportSkaterToNode nodeName = trg_fountain_warpdown
endscript


script BE_ForceWalk 
    KillSpawnedScript name = Fire_Off
    ForceToWalk
    SpawnSkaterScript Fire_Off
endscript


script BE_UnForceWalk 
    KillForceToWalk
endscript


script BE_Shocking 
    vibrate actuator = 1 percent = 50
    switch <name>
        case Unit01
        if NOT IsAlive name = APM_AC_Dummy01
            Create name = APM_AC_Dummy01
            Create name = TRG_SFX_TrigBox_AC_Signs01
        endif
        case Unit02
        if NOT IsAlive name = APM_AC_Dummy02a
            Create name = APM_AC_Dummy02a
            Create name = APM_AC_Dummy02b
            Create name = TRG_SFX_TrigBox_AC_Signs02
        endif
        case Unit03
        if NOT IsAlive name = APM_AC_Dummy03a
            Create name = APM_AC_Dummy03a
            Create name = APM_AC_Dummy03b
            Create name = TRG_SFX_TrigBox_AC_Signs03
        endif
        case Unit04
        if NOT IsAlive name = APM_AC_Dummy04
            Create name = APM_AC_Dummy04
            Create name = TRG_SFX_TrigBox_AC_Signs04
        endif
        case Unit05
        if NOT IsAlive name = APM_AC_G_Dummy05a
            Create name = APM_AC_G_Dummy05a
            Create name = APM_AC_G_Dummy05b
            Create name = TRG_SFX_TrigBox_AC_Sparks_SP01
        endif
        case Unit06
        if NOT IsAlive name = APM_AC_G_Dummy06
            Create name = APM_AC_G_Dummy06
            Create name = TRG_SFX_TrigBox_AC_Sparks_SP02
        endif
        case Unit07
        if NOT IsAlive name = APM_AC_G_Dummy07
            Create name = APM_AC_G_Dummy07
            Create name = TRG_SFX_TrigBox_AC_Sparks_SP03
        endif
        case Unit08
        if NOT IsAlive name = APM_AC_G_Dummy08
            Create name = APM_AC_G_Dummy08
            Create name = TRG_SFX_TrigBox_AC_Sparks_SP04
        endif
    endswitch
    TODManager_SetTempBloomParams on = 1 color = [80 , 80 , 250]
    playsound SK6_BE_ElectricShock01 vol = 120
    GetBonus Score = 1000 text = 'AC unit'
    trigger_speed_boost multi = 1.250 DefBoostSound = 0
    wait 10 frames
    SetLightAmbientColor r = 200 g = 220 b = 250
    vibrate actuator = 1 percent = 100
    TODManager_SetTempBloomParams on = 1 color = [250 , 250 , 200] strength = 50
    wait 3 frames
    SetLightAmbientColor r = 40 g = 40 b = 40
    TODManager_SetTempBloomParams on = 0
    wait 5 frames
    SetLightAmbientColor r = 200 g = 220 b = 250
    vibrate actuator = 1 percent = 100
    TODManager_SetTempBloomParams on = 1 color = [250 , 250 , 200] strength = 50
    wait 3 frames
    SetLightAmbientColor r = 40 g = 40 b = 40
    TODManager_SetTempBloomParams on = 0
    wait 3 frames
    wait 30 frames
    VibrateOff
endscript


script BE_RoofTopParticle 
    CreateFlexibleParticleSystem name = <name> params_script = apm_BE_sparks_particle_params
    CreateFastParticleSystem name = <fastname> params_script = apm_BE_spark01_fast_particle_params attachobjid = <attach_obj>
endscript


script BE_boost 
    GetTriggerArray jump Off
    if triggertype <trigger_array>
        printf 'Trigger2'
        trigger_jump_boost Speed = 500
        trigger_speed_boost multi = 2
    endif
endscript


script BE_Tobacco_Fountain01 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        SpawnScript BE_SFX_HitCigMachine02
        GoalManager_SetGoalFlag name = BE_Goal_Gaps9 got_1 1
        Kill name = g_fountain_tobacco
        Create name = g_fountain_tobacco_broken
        Create name = g_particle_cig_spark_A_02
        Create name = g_particle_cig_smoke_A_02
        Create name = TRG_SFX_TrigBox_CigMachine02
        GetBonus Score = 100 text = 'Don\'t smoke'
    endif
endscript


script BE_Tobacco_Kulture01 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        SpawnScript BE_SFX_HitCigMachine01
        GoalManager_SetGoalFlag name = BE_Goal_Gaps9 got_2 1
        Kill name = g_kulture_tobacco
        Create name = g_kulture_broken_tobacco
        Create name = g_particle_cig_spark_A_03
        Create name = g_particle_cig_smoke_A_03
        Create name = TRG_SFX_TrigBox_CigMachine01
        GetBonus Score = 100 text = 'Smoking Kills'
    endif
endscript


script BE_Tobacco_Neue01 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        SpawnScript BE_SFX_HitCigMachine03
        GoalManager_SetGoalFlag name = BE_Goal_Gaps9 got_3 1
        Kill name = g_neue_tobacco
        Create name = g_neue_tobacco_broken02
        Create name = g_particle_cig_spark_A_01
        Create name = g_particle_cig_smoke_A_01
        Create name = TRG_SFX_TrigBox_CigMachine03
        GetBonus Score = 100 text = 'Smoking Bad'
    endif
endscript


script BE_Church_Secret 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        SpawnScript BE_SFX_ChurchStoneDoorCrack
        Create name = Bldg_smoke_06
        setobjectcolor name = g_church_main_door01 color = 10506320
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 9195600
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 7884880
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 6574160
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 5263440
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 6574160
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 7884880
        wait 5 frames
        setobjectcolor name = g_church_main_door01 color = 9195600
        wait 5 frames
        Kill name = g_church_main_door01
        Create name = g_church_main_door02
        wait 2 seconds
        Kill name = Bldg_smoke_06
    endif
endscript


script BE_Church_Secret01 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        SpawnScript BE_SFX_ChurchStoneDoorBreakDown
        GoalManager_SetGoalFlag name = BE_Goal_Gaps7 got_1 1
        Create name = spirits01
        Create name = Bldg_smoke_06
        Kill name = g_church_main_door02
        KillAllTextureSplats box = {height = 20 dist = 20 width = 10 Offset = (-333.0, 22.0, 45.0)}
        GetBonus Score = 100 text = 'Secret area found'
        wait 3 seconds
        Kill name = spirits01
        Kill name = Bldg_smoke_06
    endif
endscript


script BE_WallBreak 
    if NOT InMultiPlayerGame
        GetTriggerArray wallplant onto
        if triggertype <trigger_array>
            printf 'WTF============break damn it'
            g_wall_piece_01 ::obj_rotx Angle = -130 Speed = 130
            Kill name = TRGP_wall_break
            Kill name = g_wall_before
            Kill name = g_wall_piece_01
            Create name = g_wall_piece_07
            Kill name = g_wall_piece_02
            Kill name = g_wall_piece_03
            Kill name = g_wall_piece_04
            Create name = g_wall_after
            Create prefix = 'trg_wall_after_'
            Kill prefix = 'trg_wall_before_'
        endif
    endif
endscript


script BE_PatioToggle 
endscript


script BE_FeelTheBeat_Talk 
    Obj_ClearExceptions
    setup_ped_speech {ped_id = TRG_MC_DalekTalk
        accept_text = 'Press \m5 to feel the beat'
        Ped_InitAI stand
        activation_script = BE_FeelTheBeat
    }
endscript


script BE_FeelTheBeat 
    if GetFlag flag = FLAG_BE_MUSICSMASH
    else
        TRG_MC_Dalek01 ::Ped_InitAI stand DJ
        Kill name = TRG_SFX_TrigBox_LG_PubMusicOff
        Kill name = TRG_SFX_TrigBox_LG_PubMusic
        Kill name = TRG_SFX_TrigBox_MS_SmallPub
        Kill name = TRG_SFX_TrigBox_SkateparkMusicOff
        Kill name = TRG_SFX_TrigBox_SkateparkMusic
        Create name = TRG_SFX_TrigBox_SkateparkMusicOff
        Create name = TRG_SFX_TrigBox_SkateparkMusic
        SpawnScript BE_MusicLover
        PlaySkaterCamAnim {
            virtual_cam
            TargetID = world
            targetOffset = (9194.2001953125, 1599.300048828125, 6948.2001953125)
            positionOffset = (2109.39990234375, 228.60000610351562, 25.5)
            frames = 250
            skippable = 1
        }
        wait 50 gameframes
        SetFlag flag = FLAG_BE_MUSICSMASH
        Kill name = TRG_MC_DalekTalk
        TRG_SFX_Ghost_SkateparkGlass01 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_171
        Create name = g_neue_glass_PostSecret_172
        Kill name = g_neue_glass_PreSecret_171
        Kill name = g_neue_glass_PreSecret_172
        wait 1.500 seconds
        TRG_SFX_Ghost_SkateparkGlass02 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_161
        Create name = g_neue_glass_PostSecret_162
        Kill name = g_neue_glass_PreSecret_161
        Kill name = g_neue_glass_PreSecret_162
        wait 1.500 seconds
        UnpauseSkaters
        Kill name = TRG_SFX_TrigBox_SkateparkMusicOff
        Create name = TRG_SFX_TrigBox_SkateparkMusicOff
        TRG_SFX_Ghost_SkateparkGlass03 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_191
        Create name = g_neue_glass_PostSecret_192
        Kill name = g_neue_glass_PreSecret_191
        Kill name = g_neue_glass_PreSecret_192
        wait 1.400 seconds
        TRG_SFX_Ghost_SkateparkGlass04 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_091
        Create name = g_neue_glass_PostSecret_092
        Kill name = g_neue_glass_PreSecret_091
        Kill name = g_neue_glass_PreSecret_092
        wait 1.400 seconds
        TRG_SFX_Ghost_SkateparkGlass05 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_081
        Create name = g_Neue_glass_postsecret_082
        Kill name = g_neue_glass_PreSecret_081
        Kill name = g_neue_glass_PreSecret_082
        wait 1.300 seconds
        TRG_SFX_Ghost_SkateparkGlass06 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_071
        Create name = g_neue_glass_PostSecret_072
        Kill name = g_neue_glass_PreSecret_071
        Kill name = g_neue_glass_PreSecret_072
        wait 1.300 seconds
        TRG_SFX_Ghost_SkateparkGlass07 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_061
        Create name = g_neue_glass_PostSecret_062
        Kill name = g_neue_glass_PreSecret_061
        Kill name = g_neue_glass_PreSecret_062
        wait 1.200 seconds
        TRG_SFX_Ghost_SkateparkGlass08 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_011
        Create name = g_neue_glass_PostSecret_012
        Kill name = g_neue_glass_PreSecret_011
        Kill name = g_neue_glass_PreSecret_012
        wait 1.200 seconds
        TRG_SFX_Ghost_SkateparkGlass09 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_151
        Create name = g_neue_glass_PostSecret_152
        Kill name = g_neue_glass_PreSecret_151
        Kill name = g_neue_glass_PreSecret_152
        wait 1.100 seconds
        TRG_SFX_Ghost_SkateparkGlass10 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_141
        Create name = g_neue_glass_PostSecret_142
        Kill name = g_neue_glass_PreSecret_141
        Kill name = g_neue_glass_PreSecret_142
        wait 1.100 seconds
        TRG_SFX_Ghost_SkateparkGlass11 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_131
        Create name = g_neue_glass_PostSecret_132
        Kill name = g_neue_glass_PreSecret_131
        Kill name = g_neue_glass_PreSecret_132
        wait 1 seconds
        TRG_SFX_Ghost_SkateparkGlass12 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_111
        Create name = g_neue_glass_PostSecret_112
        Kill name = g_neue_glass_PreSecret_111
        Kill name = g_neue_glass_PreSecret_112
        wait 1 seconds
        TRG_SFX_Ghost_SkateparkGlass13 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_101
        Create name = g_neue_glass_PostSecret_102
        Kill name = g_neue_glass_PreSecret_101
        Kill name = g_neue_glass_PreSecret_102
        wait 0.9000 seconds
        TRG_SFX_Ghost_SkateparkGlass14 ::obj_playsound SK6_GlassCrackQuick01 vol = 200 pitch = 80 dropoff = 180
        Create name = g_neue_glass_PostSecret_181
        Create name = g_neue_glass_PostSecret_182
        Kill name = g_neue_glass_PreSecret_181
        Kill name = g_neue_glass_PreSecret_182
        wait 0.9000 seconds
    endif
endscript


script BE_MusicLover 
    wait 50 gameframes
    begin 
    wait 0.03000 second
    g_Neue_speaker_01a ::obj_applyscaling {y = 0.9500 z = 0.9500}
    g_Neue_speaker_01b ::obj_applyscaling {y = 0.9500 z = 0.9500}
    g_Neue_speaker_01c ::obj_applyscaling {y = 0.9500 z = 0.9500}
    g_Neue_speaker_01d ::obj_applyscaling {y = 0.9500 z = 0.9500}
    wait 0.3000 second
    g_Neue_speaker_01a ::obj_applyscaling {y = 1.0 z = 1.0}
    g_Neue_speaker_01b ::obj_applyscaling {y = 1.0 z = 1.0}
    g_Neue_speaker_01c ::obj_applyscaling {y = 1.0 z = 1.0}
    g_Neue_speaker_01d ::obj_applyscaling {y = 1.0 z = 1.0}
    wait 0.01000 second
    g_Neue_speaker_01a ::obj_applyscaling {y = 0.9800 z = 0.9800}
    g_Neue_speaker_01b ::obj_applyscaling {y = 0.9800 z = 0.9800}
    g_Neue_speaker_01c ::obj_applyscaling {y = 0.9800 z = 0.9800}
    g_Neue_speaker_01d ::obj_applyscaling {y = 0.9800 z = 0.9800}
    wait 0.01000 second
    g_Neue_speaker_01a ::obj_applyscaling {y = 1.0 z = 1.0}
    g_Neue_speaker_01c ::obj_applyscaling {y = 1.0 z = 1.0}
    g_Neue_speaker_01b ::obj_applyscaling {y = 1.0 z = 1.0}
    g_Neue_speaker_01d ::obj_applyscaling {y = 1.0 z = 1.0}
    wait 0.01000 second
    repeat 18
endscript


script BE_Sign01 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        GetTriggerArray array = [{ lip on }{ grind onto }]
        if triggertype <trigger_array>
            GoalManager_SetGoalFlag name = BE_Goal_Gaps got_1 1
            if NOT IsAlive name = g_commy_signD
                Kill name = g_commy_signD_Pre
                Create name = g_commy_signD
                wait 5 gameframes
            endif
            g_commy_signD ::rigidbody_kick vel = (0.0, 1.0, -5.0) rotvel = (1.0, 1.0, 1.0)
            SetFlag flag = FLAG_BE_OWNED_D
            if GetFlag flag = FLAG_BE_OWNED_D
                if GetFlag flag = FLAG_BE_OWNED_K
                    if GetFlag flag = FLAG_BE_OWNED_Z
                        GetGap text = 'OWNED!!!' Score = 500
                        Kill name = Trg_Ped_Hint_Owned
                        UnSetFlag flag = FLAG_BE_OWNED_D
                        UnSetFlag flag = FLAG_BE_OWNED_K
                        UnSetFlag flag = FLAG_BE_OWNED_Z
                    endif
                endif
            endif
        endif
    endif
endscript


script BE_Sign02 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        GetTriggerArray array = [{ lip Off }{ grind onto }]
        if triggertype <trigger_array>
            GoalManager_SetGoalFlag name = BE_Goal_Gaps got_2 1
            if NOT IsAlive name = g_commy_signZ
                Kill name = g_commy_signZ_Pre
                Create name = g_commy_signZ
                wait 5 gameframes
            endif
            g_commy_signZ ::rigidbody_kick vel = (0.0, 1.0, -5.0) rotvel = (1.0, 1.0, 1.0)
            SetFlag flag = FLAG_BE_OWNED_K
            if GetFlag flag = FLAG_BE_OWNED_D
                if GetFlag flag = FLAG_BE_OWNED_K
                    if GetFlag flag = FLAG_BE_OWNED_Z
                        GetGap text = 'OWNED!!!' Score = 500
                        Kill name = Trg_Ped_Hint_Owned
                        UnSetFlag flag = FLAG_BE_OWNED_D
                        UnSetFlag flag = FLAG_BE_OWNED_K
                        UnSetFlag flag = FLAG_BE_OWNED_Z
                    endif
                endif
            endif
        endif
    endif
endscript


script BE_Sign03 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        GetTriggerArray array = [{ lip Off }{ grind onto }]
        if triggertype <trigger_array>
            GoalManager_SetGoalFlag name = BE_Goal_Gaps got_3 1
            if NOT IsAlive name = g_commy_signK
                Kill name = g_commy_signK_Pre
                Create name = g_commy_signK
                wait 5 gameframes
            endif
            g_commy_signK ::rigidbody_kick vel = (0.0, 1.0, -5.0) rotvel = (1.0, 1.0, 1.0)
            SetFlag flag = FLAG_BE_OWNED_Z
            if GetFlag flag = FLAG_BE_OWNED_D
                if GetFlag flag = FLAG_BE_OWNED_K
                    if GetFlag flag = FLAG_BE_OWNED_Z
                        GetGap text = 'OWNED!!!' Score = 500
                        Kill name = Trg_Ped_Hint_Owned
                        UnSetFlag flag = FLAG_BE_OWNED_D
                        UnSetFlag flag = FLAG_BE_OWNED_K
                        UnSetFlag flag = FLAG_BE_OWNED_Z
                    endif
                endif
            endif
        endif
    endif
endscript


script BE_BulbShatter01 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_01
        Kill name = g_mall_awning_light_glo01
        Kill name = g_mall_awning_light01
        Create name = g_mall_awning_light_Pd01
    endif
endscript


script BE_BulbShatter02 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_02
        Kill name = g_mall_awning_light_glo02
        Kill name = g_mall_awning_light02
        Create name = g_mall_awning_light_Pd02
    endif
endscript


script BE_BulbShatter03 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_03
        Kill name = g_mall_awning_light_glo03
        Kill name = g_mall_awning_light03
        Create name = g_mall_awning_light_Pd03
    endif
endscript


script BE_BulbShatter04 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_04
        Kill name = g_mall_awning_light_glo04
        Kill name = g_mall_awning_light04
        Create name = g_mall_awning_light_Pd04
        wait 1 second
    endif
endscript


script BE_BulbShatter05 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_05
        Kill name = g_mall_awning_light_glo05
        Kill name = g_mall_awning_light05
        Create name = g_mall_awning_light_Pd05
    endif
endscript


script BE_BulbShatter06 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_06
        Kill name = g_mall_awning_light_glo06
        Kill name = g_mall_awning_light06
        Create name = g_mall_awning_light_Pd06
    endif
endscript


script BE_BulbShatter07 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_07
        Kill name = g_mall_awning_light_glo07
        Kill name = g_mall_awning_light07
        Create name = g_mall_awning_light_Pd07
    endif
endscript


script BE_BulbShatter08 
    if NOT InNetGame
        printf 'Should kill01'
        GetBonus Score = 500 text = 'Bulb smash'
        Kill name = TRG_LevelLight_awning_08
        Kill name = g_mall_awning_light_glo08
        Kill name = g_mall_awning_light08
        Create name = g_mall_awning_light_Pd08
    endif
endscript


script BE_Pub_Clock 
    begin 
    g_destroyed_coo_coo_pend01 ::obj_rotate absolute = (45.0, 0.0, 0.0) time = 1 second
    g_destroyed_coo_coo_pend01 ::Obj_WaitRotate
    g_destroyed_coo_coo_pend01 ::obj_rotate absolute = (-45.0, 0.0, 0.0) time = 1 second
    g_destroyed_coo_coo_pend01 ::Obj_WaitRotate
    wait 1 gameframe
    repeat 
endscript


script BE_GoldLedgeFalllevel01a 
    if NOT InNetGame
        GetTriggerArray array = [{ lip Off }{ grind onto }]
        if triggertype <trigger_array>
            Kill name = trg_gold204
            TRG_SFX_Ghost_Ledge01 ::obj_playstream SK6_BE_FallingBeam vol = 200 priority = StreamPriorityHigh dropoff = 200
            begin 
            printf 'Rotate'
            bog_gold_level01a ::obj_rotx Angle = -30 Speed = 125
            bog_gold_level01a ::Obj_WaitRotate
            bog_gold_level01a ::obj_rotx Angle = 30 Speed = 125
            bog_gold_level01a ::Obj_WaitRotate
            repeat 3
            bog_gold_level01a ::obj_movetorelpos (0.0, -264.0, 8.0) time = 0.5000 second
            Kill name = bog_gold_level01a_Shadow
            if IsAlive name = Bldg_smoke_09
            else
                Create name = Bldg_smoke_09
                wait 0.5000 second
                Create name = trg_gold210
                Create name = trg_gold211
                wait 2.500 seconds
                Kill name = Bldg_smoke_09
            endif
        endif
    endif
endscript


script BE_GoldLedgeFalllevel02 
    if NOT InNetGame
        GetTriggerArray array = [{ lip Off }{ grind onto }]
        if triggertype <trigger_array>
            Kill name = trg_gold205
            TRG_SFX_Ghost_Ledge02 ::obj_playstream SK6_BE_FallingBeam vol = 200 priority = StreamPriorityHigh dropoff = 200
            begin 
            printf 'Rotate'
            bog_gold_level02 ::obj_rotz Angle = -30 Speed = 125
            bog_gold_level02 ::Obj_WaitRotate
            bog_gold_level02 ::obj_rotz Angle = 30 Speed = 125
            bog_gold_level02 ::Obj_WaitRotate
            repeat 3
            bog_gold_level02 ::obj_movetorelpos (-10.0, -468.6000061035156, 0.0) time = 0.5000 second
            if IsAlive name = Bldg_smoke_10
            else
                Create name = Bldg_smoke_10
                wait 0.5000 second
                Create name = trg_gold212
                Create name = trg_gold213
                wait 2.500 seconds
                Kill name = Bldg_smoke_10
            endif
        endif
    endif
endscript


script BE_GoldLedgeFalllevel01b 
    if NOT InNetGame
        GetTriggerArray array = [{ lip Off }{ grind onto }]
        if triggertype <trigger_array>
            Kill name = trg_gold207
            TRG_SFX_Ghost_Ledge03 ::obj_playstream SK6_BE_FallingBeam vol = 200 priority = StreamPriorityHigh dropoff = 200
            begin 
            printf 'Rotate'
            bog_gold_level01b ::obj_rotz Angle = -30 Speed = 125
            bog_gold_level01b ::Obj_WaitRotate
            bog_gold_level01b ::obj_rotz Angle = 30 Speed = 125
            bog_gold_level01b ::Obj_WaitRotate
            repeat 3
            bog_gold_level01b ::obj_movetorelpos (0.0, -107.4000015258789, 0.0) time = 0.5000 second
            Kill name = bog_gold_level01b_Shadow
            if IsAlive name = Bldg_smoke_13
            else
                Create name = trg_gold216
                Create name = trg_gold217
                Create name = Bldg_smoke_13
                wait 0.5000 second
                Kill prefix = 'trg_kulturePreLedge'
                Create prefix = 'trg_kulturePostLedge'
                wait 2.500 seconds
                Kill name = Bldg_smoke_13
            endif
        endif
    endif
endscript


script BE_NeonA 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        if IsAlive name = ParticleBox_SparkCloud_1a
        else
            playsound HitGlassPane2x vol = 100 pitch = 150
            PlayStream SK6_NO_BreakNeonSign vol = 150
            printf 'Sparks______________A'
            Create name = ParticleBox_SparkCloud_1a
            GetBonus text = 'Sparky' Score = 50
            wait 1 second
            StopParticleObject name = ParticleBox_SparkCloud_1a isemitting = 2
            Kill name = ParticleBox_SparkCloud_1a
        endif
    endif
endscript


script BE_NeonB 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        if IsAlive name = ParticleBox_SparkCloud_2a
        else
            playsound HitGlassPane2x vol = 100 pitch = 150
            PlayStream SK6_NO_BreakNeonSign vol = 150
            printf 'Sparks______________B'
            Create name = ParticleBox_SparkCloud_2a
            GetBonus text = 'Sparky' Score = 50
            wait 1 second
            StopParticleObject name = ParticleBox_SparkCloud_2a isemitting = 2
            Kill name = ParticleBox_SparkCloud_2a
        endif
    endif
endscript


script BE_NeonC 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        if IsAlive name = ParticleBox_SparkCloud_3a
        else
            playsound HitGlassPane2x vol = 100 pitch = 150
            PlayStream SK6_NO_BreakNeonSign vol = 150
            printf 'Sparks______________C'
            Create name = ParticleBox_SparkCloud_3a
            GetBonus text = 'Sparky' Score = 50
            wait 1 second
            StopParticleObject name = ParticleBox_SparkCloud_3a isemitting = 2
            Kill name = ParticleBox_SparkCloud_3a
        endif
    endif
endscript


script BE_NeonD 
    if NOT ((InMultiPlayerGame)|| (InNetGame))
        if IsAlive name = ParticleBox_SparkCloud_4a
        else
            playsound HitGlassPane2x vol = 100 pitch = 150
            PlayStream SK6_NO_BreakNeonSign vol = 150
            printf 'Sparks______________D'
            Create name = ParticleBox_SparkCloud_4a
            GetBonus text = 'Sparky' Score = 50
            wait 1 second
            StopParticleObject name = ParticleBox_SparkCloud_4a isemitting = 2
            Kill name = ParticleBox_SparkCloud_4a
        endif
    endif
endscript


script BE_ThunderStorm 
    SpawnScript BE_ThunderStormStart
endscript


script BE_ThunderStormStart 
    Create name = be_Stars_Moon
    wait 2 seconds
    Create name = be_StormCloud
    begin 
    wait Random (@ 7 @ 8 @ 9) seconds
    getrandomvalue name = Lightning a = 1 b = 10 resolution = 10 integer
    SpawnScript BE_SFX_LightningAndThunder params = { number = <Lightning> }
    switch <Lightning>
        case 1
        if NOT IsAlive name = Lightning01
            printf 'Got Lightning 01'
            Create name = Lightning01
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning01
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 2
        if NOT IsAlive name = Lightning02
            printf 'Got Lightning 02'
            Create name = Lightning02
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning02
            skater ::VibrateOff
        endif
        case 3
        if NOT IsAlive name = Lightning03
            printf 'Got Lightning 03'
            Create name = Lightning03
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning03
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 4
        if NOT IsAlive name = Lightning04
            printf 'Got Lightning 04'
            Create name = Lightning04
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning04
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 5
        if NOT IsAlive name = Lightning05
            printf 'Got Lightning 05'
            Create name = Lightning05
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning05
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 6
        if NOT IsAlive name = Lightning06
            printf 'Got Lightning 06'
            Create name = Lightning06
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning06
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 7
        if NOT IsAlive name = Lightning07
            printf 'Got Lightning 07'
            Create name = Lightning07
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning07
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 8
        if NOT IsAlive name = Lightning08
            printf 'Got Lightning 08'
            Create name = Lightning08
            wait 1.500 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 3 seconds
            Kill name = Lightning08
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 9
        if NOT IsAlive name = Lightning09
            printf 'Got Lightning 09'
            Create name = Lightning09
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning09
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
        case 10
        if NOT IsAlive name = Lightning10
            printf 'Got Lightning 10'
            Create name = Lightning10
            wait 2 seconds
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 75
            wait 1.500 seconds
            Kill name = Lightning10
            skater ::Vibrate_Controller_Safe actuator = 1 percent = 0
        endif
    endswitch
    repeat 18
    Kill name = be_StormCloud
    wait 2 seconds
    Kill name = be_Stars_Moon
endscript


script BE_KillThunderScripts 
    Kill name = be_StormCloud
    wait 2 seconds
    Kill name = be_Stars_Moon
    KillSpawnedScript name = BE_ThunderStormStart
endscript


script BE_Mural 
    get_current_skater_name
    if (<name> = GraffitiTagger)
        GetTriggerArray graffiti onto
        printf 'Tagger'
        if triggertype <trigger_array>
            KillAllTextureSplats box = {height = 10 dist = 70 width = 10 Offset = (-391.0, 100.0, 45.0)}
            if IsAlive name = <fixed>
            else
                <Team_Goals> = 0
                printf 'Mural'
                SetFlag flag = <flag>
                Kill name = <mural>
                Create name = <fixed>
                if ((GetFlag flag = FLAG_BE_MURAL01)& (GetFlag flag = FLAG_BE_MURAL02)& (GetFlag flag = FLAG_BE_MURAL03)& (GetFlag flag = FLAG_BE_MURAL04)& (GetFlag flag = FLAG_BE_MURAL05)& (GetFlag flag = FLAG_BE_MURAL06)& (GetFlag flag = FLAG_BE_MURAL07)& (GetFlag flag = FLAG_BE_MURAL08))
                    if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps14
                        printf 'What the mother fuck'
                        GoalManager_SetGoalFlag name = BE_Goal_Gaps14 got_1 1
                        wait 1 second
                        KillAllTextureSplats box = {height = 10 dist = 70 width = 10 Offset = (-391.0, 100.0, 45.0)}
                    endif
                endif
            endif
        endif
    endif
endscript


script BE_Antennae 
    if NOT InNetGame
        hj_RotatingWeatherAntennae ::obj_roty Speed = 600
    endif
endscript


script BE_Radar01 
    if NOT InNetGame
        g_Neue_roof_dish_01 ::obj_roty Speed = 45
    endif
endscript


script BE_Radar02 
    if NOT InNetGame
        g_Neue_roof_dish_02 ::obj_roty Speed = 30
    endif
endscript


script BE_NarrierPar_01 
    if NOT InNetGame
        Kill name = g_phil_BulbShatter01
        CreateFastParticleSystem name = g_Phil_barrier_sparksX01 params_script = apm_BE_spark_lilXPLD01_fast_particle_params
        g_Phil_barrier_sparksX01 ::obj_setposition position = (-2157.0, 178.0, 2839.0)
        CreateFastParticleSystem name = g_Phil_barrier_sparks01 params_script = apm_BE_spark01_fast_particle_params
        g_Phil_barrier_sparks01 ::obj_setposition position = (-2157.0, 178.0, 2839.0)
    endif
endscript


script BE_NarrierPar_02 
    if NOT InNetGame
        Kill name = g_phil_BulbShatter02
        CreateFastParticleSystem name = g_Phil_barrier_sparksX02 params_script = apm_BE_spark_lilXPLD01_fast_particle_params
        g_Phil_barrier_sparksX02 ::obj_setposition position = (-2326.0, 178.0, 2839.0)
        CreateFastParticleSystem name = g_Phil_barrier_sparks02 params_script = apm_BE_spark01_fast_particle_params
        g_Phil_barrier_sparks02 ::obj_setposition position = (-2326.0, 178.0, 2839.0)
    endif
endscript


script BE_NarrierPar_03 
    if NOT InNetGame
        Kill name = g_phil_BulbShatter03
        CreateFastParticleSystem name = g_Phil_barrier_sparksX03 params_script = apm_BE_spark_lilXPLD01_fast_particle_params
        g_Phil_barrier_sparksX03 ::obj_setposition position = (-2429.0, 182.0, 1024.0)
        CreateFastParticleSystem name = g_Phil_barrier_sparks03 params_script = apm_BE_spark01_fast_particle_params
        g_Phil_barrier_sparks03 ::obj_setposition position = (-2429.0, 182.0, 1024.0)
    endif
endscript


script BE_NarrierPar_04 
    if NOT InNetGame
        Kill name = g_phil_BulbShatter04
        CreateFastParticleSystem name = g_Phil_barrier_sparksX04 params_script = apm_BE_spark_lilXPLD01_fast_particle_params
        g_Phil_barrier_sparksX04 ::obj_setposition position = (-2499.0, 182.0, 995.0)
        CreateFastParticleSystem name = g_Phil_barrier_sparks04 params_script = apm_BE_spark01_fast_particle_params
        g_Phil_barrier_sparks04 ::obj_setposition position = (-2499.0, 182.0, 995.0)
    endif
endscript


script BE_GiMan01 
    GetTriggerArray wallplant onto
    if triggertype <trigger_array>
        GetGap Score = 100 text = 'Smack my B!*@H up!'
    endif
endscript


script BE_Fountain2Patio01a 
    Gap_Gen_Rail2Rail start GapID = Fountain2Patio01a
endscript


script BE_Fountain2Patio01b 
    Gap_Gen_Rail2Rail end GapID = Fountain2Patio01a
endscript


script BE_Patio2Fountain01a 
    printf 'WTF01'
    Gap_Gen_Rail2Rail start GapID = Patio2Fountain01a
endscript


script BE_Patio2Fountain01b 
    printf 'WTF03'
    Gap_Gen_Rail2Rail end GapID = Patio2Fountain01a
endscript


script BE_AssFartLip 
    Gap_Gen_Lip start GapID = asslip
endscript


script BE_AssFartLip01 
    Gap_Gen_Lip end GapID = asslip text = 'AusFarht Lip' Score = 25
endscript


script BE_AusFarht_Tansfer01a 
    StartGap GapID = g_fountain_qp01A flags = [ PURE_AIR ]
    endgap GapID = g_fountain_qp01B text = 'AusFarht Tansfer' Score = 50
endscript


script BE_AusFarht_Tansfer01b 
    StartGap GapID = g_fountain_qp01B flags = [ PURE_AIR ]
    endgap GapID = g_fountain_qp01A text = 'AusFarht Tansfer' Score = 50
endscript


script BE_Fountain_Kicka 
    StartGap GapID = trg_fountain13401 flags = [ CANCEL_GROUND CANCEL_MANUAL ]
endscript


script BE_Fountain_Kickb 
    endgap GapID = trg_fountain13401 text = 'Fountain Escape' Score = 100
endscript


script BE_BombsAway01a 
endscript


script BE_BombsAway01b 
endscript


script BE_FountainManualDown01a 
    printf 'Manual down01'
    StartGap GapID = FountainManual flags = [ PURE_MANUAL ]
endscript


script BE_FountainManualDown01b 
    printf 'Manual down02'
    endgap GapID = FountainManual text = 'Fountain Manual Down' Score = 50
endscript


script BE_FountainManualUp01a 
    printf 'Manual Up01'
    StartGap GapID = FountainManuala flags = [ PURE_MANUAL ]
endscript


script BE_FountainManualUp01b 
    printf 'Manual Up02'
    endgap GapID = FountainManuala text = 'Fountain Manual Up' Score = 400
endscript


script BE_ledge2ledge01a 
    Gap_Gen_Ledge2Ledge start GapID = BE_Ledge2ledge02a
    Gap_Gen_Ledge2Ledge end GapID = BE_Ledge2ledge02b
endscript


script BE_ledge2ledge01b 
    Gap_Gen_Ledge2Ledge start GapID = BE_Ledge2ledge02b
    Gap_Gen_Ledge2Ledge end GapID = BE_Ledge2ledge02a
endscript


script BE_KultureLip01 
    StartGap GapID = BE_KultureLip01A flags = [ CANCEL_GROUND CANCEL_MANUAL REQUIRE_LIP ]
endscript


script BE_KultureLip01_end 
    endgap GapID = BE_KultureLip01A text = 'Level 1 lip' Score = 25
endscript


script BE_KultureLip02 
    StartGap GapID = BE_KultureLip02A flags = [ CANCEL_GROUND CANCEL_MANUAL REQUIRE_LIP ]
endscript


script BE_KultureLip02_end 
    endgap GapID = BE_KultureLip02A text = 'Level 2 lip' Score = 50
endscript


script BE_KultureLip03 
    StartGap GapID = BE_KultureLip03A flags = [ CANCEL_GROUND CANCEL_MANUAL REQUIRE_LIP ]
endscript


script BE_KultureLip03_end 
    endgap GapID = BE_KultureLip03A text = 'Level 3 lip' Score = 150
endscript


script BE_NeueHigh01a 
    Gap_Gen_Transfer start GapID = g_neue_qp02
endscript


script BE_NeueHigh01b 
    Gap_Gen_Transfer end GapID = g_neue_qp02 text = 'Art Drop' Score = 75
endscript


script BE_NeueHigh02a 
    Gap_Gen_Transfer start GapID = g_neue_qp0201
endscript


script BE_NeueHigh02b 
    Gap_Gen_Transfer end GapID = g_neue_qp0201 text = 'Galleria spine Down' Score = 50
endscript


script BE_NeueHigh03a 
    Gap_Gen_Transfer start GapID = g_neue_qp0202
endscript


script BE_NeueHigh03b 
    Gap_Gen_Transfer end GapID = g_neue_qp0202 text = 'Galleria spine Up' Score = 50
endscript


script BE_NeueLip01a 
    Gap_Gen_Lip start GapID = NeueLip01a
endscript


script BE_NeueLip01b 
    Gap_Gen_Lip end GapID = NeueLip01a text = 'Art Lip' Score = 75
endscript


script BE_LedgeManual01 
endscript


script BE_LedgeManual02 
endscript


script BE_VentTransfer01a 
    StartGap GapID = g_sign_qp03a flags = [ PURE_AIR ]
    endgap GapID = g_sign_qp03b text = 'Vent transfer' Score = 50
endscript


script BE_VentTransfer01b 
    StartGap GapID = g_sign_qp03b flags = [ PURE_AIR ]
    endgap GapID = g_sign_qp03a text = 'Vent transfer' Score = 50
endscript


script BE_RooftopTransfer02a 
    StartGap GapID = g_sign_qp04a flags = [ PURE_AIR ]
    endgap GapID = g_sign_qp04b text = 'Rooftop Transfer' Score = 75
endscript


script BE_RooftopTransfer02b 
    StartGap GapID = g_sign_qp04b flags = [ PURE_AIR ]
    endgap GapID = g_sign_qp04a text = 'Rooftop Transfer' Score = 75
endscript


script BE_SignDrop01 
    Gap_Gen_Transfer start GapID = signdrop
endscript


script BE_SignDrop02 
    Gap_Gen_Transfer end GapID = signdrop text = 'Backdoor Drop' Score = 150
endscript


script BE_DropLip 
    printf '01'
    Gap_Gen_Lip start GapID = droplip
endscript


script BE_DropLip01 
    printf '02'
    Gap_Gen_Lip end GapID = droplip text = 'Dropoff lip' Score = 50
endscript


script BE_PhilSpine01a 
    StartGap GapID = Philspine01a flags = [ PURE_AIR ]
    endgap GapID = Philspine01b text = 'Sonata Spine' Score = 50
endscript


script BE_PhilSpine01b 
    StartGap GapID = Philspine01b flags = [ PURE_AIR ]
    endgap GapID = Philspine01a text = 'Sonata Spine' Score = 50
endscript


script BE_PhilHip01a 
    StartGap GapID = philhip01a flags = [ PURE_AIR ]
    endgap GapID = philhip01b text = 'Sonata Hip' Score = 100
endscript


script BE_PhilHip01b 
    StartGap GapID = philhip01b flags = [ PURE_AIR ]
    endgap GapID = philhip01a text = 'Sonata Hip' Score = 100
endscript


script BE_PubSpine01a 
endscript


script BE_PubSpine01b 
endscript


script BE_Gold2Neueroof01a 
    Gap_Gen_Rail2Rail start GapID = Gold2Neueroof01
endscript


script BE_Gold2Neueroof01b 
    Gap_Gen_Rail2Rail end GapID = Gold2Neueroof01 text = 'To the Galleria' Score = 200
endscript


script BE_WallHip01a 
    StartGap GapID = WallHip01a flags = [ PURE_AIR ]
    endgap GapID = WallHip01b text = 'Wall Hip' Score = 200
endscript


script BE_WallHip01b 
    StartGap GapID = WallHip01b flags = [ PURE_AIR ]
    endgap GapID = WallHip01a text = 'Wall Hip' Score = 200
endscript


script BE_AusFarhtDrop01a 
    Gap_Gen_Transfer start GapID = Ausfarhtdrop
endscript


script BE_AusFarhtDrop01b 
    Gap_Gen_Transfer end GapID = Ausfarhtdrop text = 'AusFarht Drop' Score = 300
endscript


script BE_Goldlip01a 
    Gap_Gen_Lip start GapID = Goldlip01
endscript


script BE_Goldlip01b 
    Gap_Gen_Lip end GapID = Goldlip01 text = 'Gold Lip 1' Score = 50
endscript


script BE_Goldlip02a 
    Gap_Gen_Lip start GapID = Goldlip02
endscript


script BE_Goldlip02b 
    Gap_Gen_Lip end GapID = Goldlip02 text = 'Gold Lip 2' Score = 50
endscript


script BE_Goldlip03a 
    Gap_Gen_Lip start GapID = Goldlip03
endscript


script BE_Goldlip03b 
    Gap_Gen_Lip end GapID = Goldlip03 text = 'Gold Lip 3' Score = 50
endscript


script BE_GoldLevel1a 
    StartGap GapID = Goldlevel1 flags = [ CANCEL_MANUAL CANCEL_GROUND ]
endscript


script BE_GoldLevel1b 
    endgap GapID = Goldlevel1 text = 'Second tier' Score = 100
endscript


script BE_GoldLevel2a 
    StartGap GapID = Goldlevel2 flags = [ CANCEL_MANUAL CANCEL_GROUND ]
endscript


script BE_GoldLevel2b 
    endgap GapID = Goldlevel2 text = 'Third tier' Score = 100
endscript


script BE_ChurchSpine01 
    Gap_Gen_Transfer start GapID = ChurchSpine
endscript


script BE_ChurchSpine02 
    Gap_Gen_Transfer end GapID = ChurchSpine text = 'Into Church' Score = 100
endscript


script BE_ChurchSpineOut01 
    Gap_Gen_Transfer start GapID = ChurchSpineOut
endscript


script BE_ChurchSpineOut02 
    Gap_Gen_Transfer end GapID = ChurchSpineOut text = 'Out of Church' Score = 100
endscript


script BE_ChurchLipLow01 
    Gap_Gen_Lip start GapID = churchlipLow
endscript


script BE_ChurchLipLow02 
    Gap_Gen_Lip end GapID = churchlipLow text = 'Low Church Lip' Score = 200
endscript


script BE_ChurchLipMid01 
endscript


script BE_ChurchLipMid02 
endscript


script BE_ChurchLipHigh01 
    Gap_Gen_Lip start GapID = churchlipHigh
endscript


script BE_ChurchLipHigh02 
    Gap_Gen_Lip end GapID = churchlipHigh text = 'Extreme Church Lip' Score = 500
endscript


script BE_LadderGap01 
    StartGap GapID = LadderGap
endscript


script BE_LadderGap02 
    GetTriggerArray climb onto
    if triggertype <trigger_array>
        printf 'test'
        endgap GapID = LadderGap text = 'Ladder Skillz' Score = 500
    endif
endscript


script BE_Zoo2Church01 
    StartGap GapID = Zoo2Church flags = [ CANCEL_GROUND CANCEL_MANUAL ]
endscript


script BE_Zoo2Church02 
    endgap GapID = Zoo2Church text = 'Church Drop' Score = 400
endscript


script BE_WallDrop01a 
    endgap GapID = trg_Neue133
    StartGap GapID = trg_Neue133 flags = [ CANCEL_GROUND CANCEL_MANUAL ]
endscript


script BE_WallDrop01b 
    endgap GapID = trg_Neue133 text = 'Wall Drop' Score = 100
endscript


script BE_WallDrop02a 
    endgap GapID = trg_Neue133
    StartGap GapID = trg_Neue133 flags = [ CANCEL_GROUND CANCEL_MANUAL ]
endscript


script BE_PipeLip01a 
    StartGap GapID = g_phil_qp11 flags = [ CANCEL_GROUND CANCEL_MANUAL REQUIRE_LIP ]
endscript


script BE_PipeLip01b 
    endgap GapID = g_phil_qp11 text = 'Hittin the Pipe' Score = 50
endscript


script BE_AwingLip01a 
    Gap_Gen_Lip start GapID = awinglip
endscript


script be_awinglip01b 
    Gap_Gen_Lip end GapID = awinglip text = 'Awning Lip' Score = 50
endscript


script BE_Neue2ledge01a 
    Gap_Gen_Ledge2Ledge start GapID = trg_commy2901a
endscript


script BE_Neue2ledge01b 
    Gap_Gen_Ledge2Ledge end GapID = trg_commy2901a
endscript


script BE_Neue2ledge02a 
    Gap_Gen_Ledge2Ledge start GapID = trg_commy2901b
endscript


script BE_Neue2ledge02b 
    Gap_Gen_Ledge2Ledge end GapID = trg_commy2901b
endscript


script BE_Kulture2fence01a 
    Gap_Gen_Ledge2Rail start GapID = kulture2fence
endscript


script BE_Kulture2fence01b 
    Gap_Gen_Ledge2Rail end GapID = kulture2fence
endscript


script BE_Fence2Kulture01a 
    Gap_Gen_Rail2Ledge start GapID = fence2culture
endscript


script BE_Fence2Kulture01b 
    Gap_Gen_Rail2Ledge end GapID = fence2culture
endscript


script BE_Kulture2gold01a 
endscript


script BE_Kulture2gold01b 
endscript


script BE_WireLip01a 
    Gap_Gen_Lip start GapID = g_planterB03
endscript


script BE_WireLip01b 
    Gap_Gen_Lip end GapID = g_planterB03 text = 'Wire Lip' Score = 50
endscript


script BE_ConstructionWall01a 
    StartGap GapID = trg_church7201 flags = [ CANCEL_GROUND CANCEL_MANUAL ]
    endgap GapID = trg_church7202 text = 'Over the pipe hop' Score = 50
endscript


script BE_ConstructionWall01b 
    StartGap GapID = trg_church7202 flags = [ CANCEL_GROUND CANCEL_MANUAL ]
    endgap GapID = trg_church7201 text = 'Over the pipe hop' Score = 50
endscript


script BE_WireHopa 
    StartGap GapID = g_planterkicker0201 flags = [ CANCEL_GROUND CANCEL_MANUAL ]
endscript


script BE_WireHopb 
    endgap GapID = g_planterkicker0201 text = 'Wire Pop' Score = 50
endscript


script BE_Church2Phil01a 
    Gap_Gen_Ledge2Ledge start GapID = Church2Phil01a
endscript


script BE_Church2Phil01b 
    Gap_Gen_Ledge2Ledge end GapID = Church2Phil01a
endscript


script BE_Church2Phil02a 
    endgap GapID = Church2Phil01a
    Gap_Gen_Ledge2Ledge start GapID = Church2Phil02a
endscript


script BE_Church2Phil02b 
    Gap_Gen_Ledge2Ledge end GapID = Church2Phil02a
endscript


script BE_Phil2Church01a 
    Gap_Gen_Ledge2Ledge start GapID = Phil2Church01a
endscript


script BE_Phil2Church01b 
    Gap_Gen_Ledge2Ledge end GapID = Phil2Church01a
endscript


script BE_Phil2Church02a 
    endgap GapID = Phil2Church01a
    Gap_Gen_Ledge2Ledge start GapID = Phil2Church02a
endscript


script BE_Phil2Church02b 
    Gap_Gen_Ledge2Ledge end GapID = Phil2Church02a
endscript


script BE_CharlieTransfer01 
    StartGap GapID = CharlieTrans01a flags = [ PURE_AIR ]
    endgap GapID = CharlieTrans01b text = 'Checkpoint Transfer' Score = 200
endscript


script BE_CharlieTransfer02 
    StartGap GapID = CharlieTrans01b flags = [ PURE_AIR ]
    endgap GapID = CharlieTrans01a text = 'Checkpoint Transfer' Score = 200
endscript


script BE_ledge2bench 
    Gap_Gen_Ledge2Bench start GapID = NeueL2b
endscript


script BE_ledge2bench01 
    Gap_Gen_Ledge2Bench end GapID = NeueL2b
endscript


script BE_Bench2Ledge 
    Gap_Gen_Bench2Ledge start GapID = NeueB2L
endscript


script BE_Bench2Ledge01 
    Gap_Gen_Bench2Ledge end GapID = NeueB2L
endscript


script BE_HighLip01 
    Gap_Gen_HighLip start GapID = highlip
endscript


script BE_HighLip02 
    Gap_Gen_HighLip end GapID = highlip
endscript


script BE_Graf_Tag 
    GetTriggerArray graffiti onto
    if triggertype <trigger_array>
        printf 'Graffiti'
        if GoalManager_GoalExists name = BE_Goal_Gaps11
            if NOT GoalManager_GoalFlagSet name = BE_Goal_Gaps11 flag = <flag>
                GoalManager_SetGoalFlag name = BE_Goal_Gaps11 <flag> 1
                if NOT IsAlive name = <cover>
                    Kill name = <name>
                    Create name = <cover>
                endif
            endif
        endif
    endif
endscript


script BE_Gap12_Tag_01 
    GetTriggerArray graffiti onto
    if triggertype <trigger_array>
        if NOT GoalManager_HasWonGoal name = BE_Goal_Gaps12
            printf 'Stupid motherfucker01'
            GoalManager_SetGoalFlag name = BE_Goal_Gaps12 got_1 1
        endif
    endif
endscript


script BE_Drunk 
    Ped_InitAI fall default_GermanDrunk_anim_assets
    obj_setpathvelocity 0.01000 mph
endscript


script BE_Dalek_Anim 
    switch <name>
        case blue
        Ped_InitAI avoid default_GermanDrunk_anim_assets
        case pink
        Ped_InitAI avoid default_GermanDrunk_anim_assets
        case green
        TRG_Dalek_01 ::obj_followpathlinked
        Obj_PlayAnim anim = run Cycle Speed = 2
        obj_setpathacceleration 40 mphps
        obj_setpathdeceleration 10 mphps
        obj_setpathminstopvel 5
        obj_setpathvelocity 40 mph
        obj_setpathturndist 12
        default 
    endswitch
endscript


script BE_LeafTriggerC 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafC params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafc1 params_script = apm_BE_leaf01_fast_particle_params
    leafc1 ::obj_setposition position = (1922.0, 236.0, 2193.0)
    CreateFastParticleSystem name = leafc2 params_script = apm_BE_leaf02_fast_particle_params
    leafc2 ::obj_setposition position = (1922.0, 236.0, 2193.0)
    CreateFastParticleSystem name = leafc3 params_script = apm_BE_leaf03_fast_particle_params
    leafc3 ::obj_setposition position = (1922.0, 236.0, 2193.0)
    CreateFastParticleSystem name = leafc4 params_script = apm_BE_leaf04_fast_particle_params
    leafc4 ::obj_setposition position = (1922.0, 236.0, 2193.0)
    wait 2 seconds
    DestroyFlexibleParticleSystem name = skaterleafC
endscript


script BE_LeafTriggerD 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafD params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafd1 params_script = apm_BE_leaf01_fast_particle_params
    leafd1 ::obj_setposition position = (1922.0, 236.0, 1812.0)
    CreateFastParticleSystem name = leafd2 params_script = apm_BE_leaf02_fast_particle_params
    leafd2 ::obj_setposition position = (1922.0, 236.0, 1812.0)
    CreateFastParticleSystem name = leafd3 params_script = apm_BE_leaf03_fast_particle_params
    leafd3 ::obj_setposition position = (1922.0, 236.0, 1812.0)
    CreateFastParticleSystem name = leafd4 params_script = apm_BE_leaf04_fast_particle_params
    leafd4 ::obj_setposition position = (1922.0, 236.0, 1812.0)
    wait 2 seconds
    DestroyFlexibleParticleSystem name = skaterleafD
endscript


script BE_LeafTriggerE 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafE params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafe1 params_script = apm_BE_leaf01_fast_particle_params
    leafe1 ::obj_setposition position = (-457.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leafe2 params_script = apm_BE_leaf02_fast_particle_params
    leafe2 ::obj_setposition position = (-457.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leafe3 params_script = apm_BE_leaf03_fast_particle_params
    leafe3 ::obj_setposition position = (-457.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leafe4 params_script = apm_BE_leaf04_fast_particle_params
    leafe4 ::obj_setposition position = (-457.0, 373.0, 2252.0)
endscript


script BE_LeafTriggerF 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafF params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leaff1 params_script = apm_BE_leaf01_fast_particle_params
    leaff1 ::obj_setposition position = (-856.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leaff2 params_script = apm_BE_leaf02_fast_particle_params
    leaff2 ::obj_setposition position = (-856.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leaff3 params_script = apm_BE_leaf03_fast_particle_params
    leaff3 ::obj_setposition position = (-856.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leaff4 params_script = apm_BE_leaf04_fast_particle_params
    leaff4 ::obj_setposition position = (-856.0, 373.0, 2252.0)
endscript


script BE_LeafTriggerG 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafG params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafG1 params_script = apm_BE_leaf01_fast_particle_params
    leafG1 ::obj_setposition position = (-1215.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leafG2 params_script = apm_BE_leaf02_fast_particle_params
    leafG2 ::obj_setposition position = (-1215.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leafG3 params_script = apm_BE_leaf03_fast_particle_params
    leafG3 ::obj_setposition position = (-1215.0, 373.0, 2252.0)
    CreateFastParticleSystem name = leafG4 params_script = apm_BE_leaf04_fast_particle_params
    leafG4 ::obj_setposition position = (-1215.0, 373.0, 2252.0)
endscript


script BE_LeafTriggerH 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafH params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafH1 params_script = apm_BE_leaf01_fast_particle_params
    leafH1 ::obj_setposition position = (-2181.0, 257.0, 532.0)
    CreateFastParticleSystem name = leafH2 params_script = apm_BE_leaf02_fast_particle_params
    leafH2 ::obj_setposition position = (-2181.0, 257.0, 532.0)
    CreateFastParticleSystem name = leafH3 params_script = apm_BE_leaf03_fast_particle_params
    leafH3 ::obj_setposition position = (-2181.0, 257.0, 532.0)
    CreateFastParticleSystem name = leafH4 params_script = apm_BE_leaf04_fast_particle_params
    leafH4 ::obj_setposition position = (-2181.0, 257.0, 532.0)
endscript


script BE_LeafTriggerI 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafI params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafI1 params_script = apm_BE_leaf01_fast_particle_params
    leafI1 ::obj_setposition position = (-2181.0, 257.0, 131.0)
    CreateFastParticleSystem name = leafI2 params_script = apm_BE_leaf02_fast_particle_params
    leafI2 ::obj_setposition position = (-2181.0, 257.0, 131.0)
    CreateFastParticleSystem name = leafI3 params_script = apm_BE_leaf03_fast_particle_params
    leafI3 ::obj_setposition position = (-2181.0, 257.0, 131.0)
    CreateFastParticleSystem name = leafI4 params_script = apm_BE_leaf04_fast_particle_params
    leafI4 ::obj_setposition position = (-2181.0, 257.0, 131.0)
endscript


script BE_LeafTriggerJ 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafJ params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafJ1 params_script = apm_BE_leaf01_fast_particle_params
    leafJ1 ::obj_setposition position = (-2181.0, 257.0, -588.0)
    CreateFastParticleSystem name = leafJ2 params_script = apm_BE_leaf02_fast_particle_params
    leafJ2 ::obj_setposition position = (-2181.0, 257.0, -588.0)
    CreateFastParticleSystem name = leafJ3 params_script = apm_BE_leaf03_fast_particle_params
    leafJ3 ::obj_setposition position = (-2181.0, 257.0, -588.0)
    CreateFastParticleSystem name = leafJ4 params_script = apm_BE_leaf04_fast_particle_params
    leafJ4 ::obj_setposition position = (-2181.0, 257.0, -588.0)
endscript


script BE_LeafTriggerK 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafK params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafK1 params_script = apm_BE_leaf01_fast_particle_params
    leafK1 ::obj_setposition position = (-2181.0, 257.0, -997.0)
    CreateFastParticleSystem name = leafK2 params_script = apm_BE_leaf02_fast_particle_params
    leafK2 ::obj_setposition position = (-2181.0, 257.0, -997.0)
    CreateFastParticleSystem name = leafK3 params_script = apm_BE_leaf03_fast_particle_params
    leafK3 ::obj_setposition position = (-2181.0, 257.0, -997.0)
    CreateFastParticleSystem name = leafK4 params_script = apm_BE_leaf04_fast_particle_params
    leafK4 ::obj_setposition position = (-2181.0, 257.0, -997.0)
endscript


script BE_LeafTriggerL 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafL params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafL1 params_script = apm_BE_leaf01_fast_particle_params
    leafL1 ::obj_setposition position = (1787.0, 176.0, -1584.0)
    CreateFastParticleSystem name = leafL2 params_script = apm_BE_leaf02_fast_particle_params
    leafL2 ::obj_setposition position = (1787.0, 176.0, -1584.0)
    CreateFastParticleSystem name = leafL3 params_script = apm_BE_leaf03_fast_particle_params
    leafL3 ::obj_setposition position = (1787.0, 176.0, -1584.0)
    CreateFastParticleSystem name = leafL4 params_script = apm_BE_leaf04_fast_particle_params
    leafL4 ::obj_setposition position = (1787.0, 176.0, -1584.0)
endscript


script BE_LeafTriggerM 
    wait 2 frames
    printf 'leaves should fall'
    SpawnScript ALL_Levels_Going_Through_Tree
    skater ::CreateFlexibleParticleSystem name = skaterleafM params_script = apm_BE_leafTrail01_particle_params
    CreateFastParticleSystem name = leafM1 params_script = apm_BE_leaf01_fast_particle_params
    leafM1 ::obj_setposition position = (2397.0, 176.0, -1584.0)
    CreateFastParticleSystem name = leafM2 params_script = apm_BE_leaf02_fast_particle_params
    leafM2 ::obj_setposition position = (2397.0, 176.0, -1584.0)
    CreateFastParticleSystem name = leafM3 params_script = apm_BE_leaf03_fast_particle_params
    leafM3 ::obj_setposition position = (2397.0, 176.0, -1584.0)
    CreateFastParticleSystem name = leafM4 params_script = apm_BE_leaf04_fast_particle_params
    leafM4 ::obj_setposition position = (2397.0, 176.0, -1584.0)
endscript


script BE_2d_sign_element_create parent = menu3d_anchor
    if GetGlobalFlag flag = SCREEN_MODE_WIDE
        <Offset> = (-8.0, 0.0)
    else
        <Offset> = (0.0, 0.0)
    endif
    CreateScreenElement {
        type = SpriteElement
        parent = <parent>
        texture = BE_icon_1
        id = BE_bird
        Scale = 2.200
        rgba = [ 128 128 128 50 ]
        Pos = ((28.0, 250.0) + <Offset>)
        rot_angle = 0
        just = [ left top ]
        z_priority = -51
    }
    CreateScreenElement {
        type = SpriteElement
        parent = <parent>
        texture = BE_icon_2
        id = BE_froth
        Scale = (1.5, 1.5)
        rgba = [ 128 128 128 60 ]
        Pos = ((16.0, 184.0) + <Offset>)
        rot_angle = 0
        just = [ left top ]
        z_priority = -51
    }
    RunScriptOnScreenElement id = BE_bird do_random_effect_paused params = { id = <id> }
    RunScriptOnScreenElement id = BE_froth do_random_effect_paused params = { id = <id> }
endscript

BE_StateLogic_Table = {
    BE_STATE_DJ = {
        script_ped_state = BE_STATECONTROL_DJ
        exit_state_action = wait_anim_finished
    }
    BE_STATE_Forklift = {
        script_ped_state = BE_STATECONTROL_Forklift
        exit_state_action = wait_anim_finished
    }
}
BE_CopLogic_Table = {
    BE_STATE_Cop_Chase = {
        script_ped_state = BE_STATECONTROL_Cop_Chase
        exit_state_action = wait_anim_finished
    }
    BE_STATE_Cop_Standing = {
        script_ped_state = BE_STATECONTROL_Cop_Standing
        exit_state_action = wait_anim_finished
    }
    BE_STATE_Cop_Direct = {
        script_ped_state = BE_STATECONTROL_Cop_Direct
        exit_state_action = wait_anim_finished
    }
    BE_STATE_Cop_OnFire = {
        ped_update_type = generic_move_update
        script_ped_state = BE_STATECONTROL_Cop_OnFire
        exit_state_action = wait_anim_finished
    }
}

script BE_MusicStop 
    TRG_ped_saxman01 ::Ped_SetLogicState NO_STATE_fluteguy table = NO_StateLogic_Table
    UnpauseSkaters
endscript


script BE_Musicplay 
    TRG_ped_saxman01 ::Ped_SetLogicState NO_STATE_fluteguy_playing table = NO_StateLogic_Table
    UnpauseSkaters
endscript


script BE_STATECONTROL_DJ 
    begin 
    Random (
        @ PlayAnimWithPartialAnimIfExists anim = Ped_DJQBert_Scratch1
        @ PlayAnimWithPartialAnimIfExists anim = Ped_DJQBert_Scratch2
        @ PlayAnimWithPartialAnimIfExists anim = Ped_DJQBert_Scratch6
    )
    Obj_WaitAnimFinished
    repeat 
endscript


script BE_STATECONTROL_Forklift 
    PlayAnimWithPartialAnimIfExists anim = Ped_Driver_Forklift Cycle
endscript


script BE_STATECONTROL_Cop_Chase 
    obj_getid
    <ObjID> ::switchonatomic ped_board
    <ObjID> ::switchoffatomic ped_m_accessories
    PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_StickOut
    Obj_WaitAnimFinished
    PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Idle2Run
    Obj_WaitAnimFinished
    begin 
    PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_StickOut
    Obj_WaitAnimFinished
    repeat 
endscript


script BE_STATECONTROL_Cop_Standing 
    obj_getid
    begin 
    Random (
        @ 
        getrandomvalue name = RepeatCount a = 3 b = 6 resolution = 3 integer
        begin 
        Random (
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Idle01
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Look
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_RubsTummy
        )
        Obj_WaitAnimFinished
        repeat <RepeatCount>
        @ 
        <ObjID> ::switchonatomic ped_board
        <ObjID> ::switchoffatomic ped_m_accessories
        PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_StickOut
        Obj_WaitAnimFinished
        getrandomvalue name = RepeatCount a = 3 b = 6 resolution = 3 integer
        begin 
        Random (
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_StickLook
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_StickIdle
        )
        Obj_WaitAnimFinished
        repeat <RepeatCount>
        PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_StickAway
        <ObjID> ::switchonatomic ped_m_accessories
        <ObjID> ::switchoffatomic ped_board
        Obj_WaitAnimFinished
    )
    repeat 
endscript


script BE_STATECONTROL_Cop_Direct 
    begin 
    Random (
        @ 
        Random (
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Idle01
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Look
            @ PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_RubsTummy
        )
        Obj_WaitAnimFinished
        @ 
        PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_HandIdle2Stop
        Obj_WaitAnimFinished
        getrandomvalue name = RepeatCount a = 1 b = 3 resolution = 3 integer
        begin 
        Random (
            @ printf 'Stop'
            @ printf 'Go'
            PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_HandStop2Go
            Obj_WaitAnimFinished
            getrandomvalue name = RepeatCountGo a = 3 b = 6 resolution = 3 integer
            begin 
            PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_HandGoLoop
            Obj_WaitAnimFinished
            repeat <RepeatCountGo>
            PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_HandGo2Stop
            Obj_WaitAnimFinished
        )
        repeat <RepeatCount>
        PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_HandStop2Idle
        Obj_WaitAnimFinished
    )
    repeat 
endscript


script BE_STATECONTROL_Cop_OnFire 
    PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Idle2Panic
    Obj_WaitAnimFinished
    begin 
    PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Panic Speed = 1.500
    Obj_WaitAnimFinished
    repeat 25
    PlayAnimWithPartialAnimIfExists anim = Ped_GermanCop_Panic2Idle
    Obj_WaitAnimFinished
    Ped_StateLogic_SetDefaultState
endscript

